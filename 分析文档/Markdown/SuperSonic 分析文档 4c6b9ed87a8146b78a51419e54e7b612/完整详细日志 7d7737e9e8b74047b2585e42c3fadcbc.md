# 完整详细日志

# 模块

[核心模块](%E5%AE%8C%E6%95%B4%E8%AF%A6%E7%BB%86%E6%97%A5%E5%BF%97%207d7737e9e8b74047b2585e42c3fadcbc/%E6%A0%B8%E5%BF%83%E6%A8%A1%E5%9D%97%20037f72b0cd784f0fac12f72ac3dceef6.md)

# 启动

```
14:28:22 [http-nio-9080-exec-8] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor 268 - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/json, application/*+json]
14:28:22 [http-nio-9080-exec-8] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor 91 - Writing [ResultData(code=403, msg=parse user info from token failed :Bearer eyJhbGciOiJIUzUxMiJ9.eyJ0b2tlbl91 (truncated)...]
14:28:23 [http-nio-9080-exec-8] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver 145 - Resolved [com.tencent.supersonic.common.pojo.exception.AccessException: parse user info from token failed :Bearer eyJhbGciOiJIUzUxMiJ9.eyJ0b2tlbl91c2VyX2lkIjo2LCJ0b2tlbl91c2VyX25hbWUiOiJhZG1pbiIsInRva2VuX3VzZXJfZGlzcGxheV9uYW1lIjoiYWRtaW4iLCJ0b2tlbl9jcmVhdGVfdGltZSI6MTcyMjgyMzU4NzgyMywidG9rZW5fdXNlcl9wYXNzd29yZCI6ImMzVndaWEp6YjI1cFkwQmlhV052YmRrdEpKWVd3NkEzckVtQlVQemJuLzZETmVZbkQreTNtQXdES0VNUzNLVlQiLCJzdWIiOiJhZG1pbiIsImV4cCI6MTcyMjg5NTU4N30.URelMWEtiAZ6uyaEKb2urLCV9H30vrLikhlHrd7WdITaFyXMNa4A8chbRmiaxpHRBSrO6do4jy74R8GqHj4Ivw]
14:28:23 [http-nio-9080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet 1131 - Completed 200 OK
14:28:23 [http-nio-9080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet 91 - GET "/webapp/p__Login__index.b976a2cc.chunk.css", parameters={}
14:28:23 [http-nio-9080-exec-10] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping 522 - Mapped to ResourceHttpRequestHandler [Classpath [webapp/]]
14:28:23 [http-nio-9080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet 91 - GET "/webapp/523.ab024e34.async.js", parameters={}
14:28:23 [http-nio-9080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet 91 - GET "/webapp/p__Login__index.6d964940.async.js", parameters={}
14:28:23 [http-nio-9080-exec-1] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping 522 - Mapped to ResourceHttpRequestHandler [Classpath [webapp/]]
14:28:23 [http-nio-9080-exec-2] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping 522 - Mapped to ResourceHttpRequestHandler [Classpath [webapp/]]
14:28:23 [http-nio-9080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet 1131 - Completed 200 OK
14:28:23 [http-nio-9080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet 1131 - Completed 200 OK
14:28:23 [http-nio-9080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet 1131 - Completed 200 OK
14:28:23 [http-nio-9080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet 91 - GET "/webapp/static/iconfont.e4f493be.woff2", parameters={}
14:28:23 [http-nio-9080-exec-6] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping 522 - Mapped to ResourceHttpRequestHandler [Classpath [webapp/]]
14:28:23 [http-nio-9080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet 1131 - Completed 304 NOT_MODIFIED
14:28:26 [http-nio-9080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet 91 - POST "/api/auth/user/login", parameters={}
14:28:26 [http-nio-9080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping 522 - Mapped to com.tencent.supersonic.auth.authentication.rest.UserController#login(UserReq, HttpServletRequest)
14:28:26 [http-nio-9080-exec-5] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor 91 - Read "application/json;charset=UTF-8" to [UserReq(name=admin, password=e6+jQ26AESREiBBuKM1u1A==)]
14:28:26 [http-nio-9080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:28:26 [http-nio-9080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@43180f2] was not registered for synchronization because synchronization is not active
14:28:26 [http-nio-9080-exec-5] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:28:26 [http-nio-9080-exec-5] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@3404ed53] will not be managed by Spring
14:28:26 [http-nio-9080-exec-5] DEBUG c.t.s.a.a.p.m.U.selectByExample 135 - ==>  Preparing: select id, name, password, salt, display_name, email, is_admin from s2_user WHERE ( name = ? )
14:28:26 [http-nio-9080-exec-5] DEBUG c.t.s.a.a.p.m.U.selectByExample 135 - ==> Parameters: admin(String)
14:28:26 [http-nio-9080-exec-5] DEBUG c.t.s.a.a.p.m.U.selectByExample 135 - <==      Total: 1
14:28:26 [http-nio-9080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@43180f2]
14:28:27 [http-nio-9080-exec-5] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor 268 - Using 'application/json', given [application/json] and supported [text/plain, */*, text/plain, */*, application/json, application/*+json, application/json, application/*+json]
14:28:27 [http-nio-9080-exec-5] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor 91 - Writing ["{"code":200,"msg":"success","data":"eyJhbGciOiJIUzUxMiJ9.eyJ0b2tlbl91c2VyX2lkIjo2LCJ0b2tlbl91c2VyX2 (truncated)...]
14:28:27 [http-nio-9080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet 1131 - Completed 200 OK
14:28:27 [http-nio-9080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet 91 - GET "/api/auth/user/getCurrentUser", parameters={}
14:28:27 [http-nio-9080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping 522 - Mapped to com.tencent.supersonic.auth.authentication.rest.UserController#getCurrentUser(HttpServletRequest, HttpServletResponse)
14:28:27 [http-nio-9080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:28:27 [http-nio-9080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@690ee54f] was not registered for synchronization because synchronization is not active
14:28:27 [http-nio-9080-exec-9] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:28:27 [http-nio-9080-exec-9] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@3404ed53] will not be managed by Spring
14:28:27 [http-nio-9080-exec-9] DEBUG c.t.s.c.p.m.S.selectList 135 - ==>  Preparing: SELECT id,parameters,admin FROM s2_system_config
14:28:27 [http-nio-9080-exec-9] DEBUG c.t.s.c.p.m.S.selectList 135 - ==> Parameters: 
14:28:27 [http-nio-9080-exec-9] DEBUG c.t.s.c.p.m.S.selectList 135 - <==      Total: 1
14:28:27 [http-nio-9080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@690ee54f]
14:28:27 [http-nio-9080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:28:27 [http-nio-9080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@68618273] was not registered for synchronization because synchronization is not active
14:28:27 [http-nio-9080-exec-9] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:28:27 [http-nio-9080-exec-9] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@3404ed53] will not be managed by Spring
14:28:27 [http-nio-9080-exec-9] DEBUG c.t.s.c.p.m.S.selectList 135 - ==>  Preparing: SELECT id,parameters,admin FROM s2_system_config
14:28:27 [http-nio-9080-exec-9] DEBUG c.t.s.c.p.m.S.selectList 135 - ==> Parameters: 
14:28:27 [http-nio-9080-exec-9] DEBUG c.t.s.c.p.m.S.selectList 135 - <==      Total: 1
14:28:27 [http-nio-9080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@68618273]
14:28:27 [http-nio-9080-exec-9] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor 268 - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/json, application/*+json]
14:28:27 [http-nio-9080-exec-9] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor 91 - Writing [ResultData(code=200, msg=success, data=User(id=6, name=admin, displayName=admin, email=null, isAdmin (truncated)...]
14:28:27 [http-nio-9080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet 1131 - Completed 200 OK
14:28:27 [http-nio-9080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet 91 - GET "/undefined", parameters={}
14:28:27 [http-nio-9080-exec-4] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping 522 - Mapped to ResourceHttpRequestHandler [Classpath [META-INF/resources/], Classpath [resources/], Classpath [static/], Classpath [public/], ServletContext [/]]
14:28:27 [http-nio-9080-exec-4] DEBUG o.s.w.s.r.ResourceHttpRequestHandler 525 - Resource not found
14:28:27 [http-nio-9080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet 1131 - Completed 404 NOT_FOUND
14:28:27 [http-nio-9080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet 91 - "ERROR" dispatch for GET "/webapp/index.html", parameters={}
14:28:27 [http-nio-9080-exec-4] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping 522 - Mapped to ResourceHttpRequestHandler [Classpath [webapp/]]
14:28:27 [http-nio-9080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet 1127 - Exiting from "ERROR" dispatch, status 404
14:28:27 [http-nio-9080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet 91 - GET "/api/chat/agent/getAgentList", parameters={}
14:28:27 [http-nio-9080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet 91 - GET "/webapp/p__ChatPage__index.198a60e6.async.js", parameters={}
14:28:27 [http-nio-9080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping 522 - Mapped to com.tencent.supersonic.chat.server.rest.AgentController#getAgentList()
14:28:27 [http-nio-9080-exec-7] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping 522 - Mapped to ResourceHttpRequestHandler [Classpath [webapp/]]
14:28:27 [http-nio-9080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet 1131 - Completed 200 OK
14:28:27 [http-nio-9080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:28:27 [http-nio-9080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@492b0c18] was not registered for synchronization because synchronization is not active
14:28:27 [http-nio-9080-exec-3] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:28:27 [http-nio-9080-exec-3] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@3404ed53] will not be managed by Spring
14:28:27 [http-nio-9080-exec-3] DEBUG c.t.s.c.s.p.m.A.selectList 135 - ==>  Preparing: SELECT id,name,description,status,examples,config,created_by,created_at,updated_by,updated_at,enable_search,llm_config,multi_turn_config,visual_config FROM s2_agent
14:28:27 [http-nio-9080-exec-3] DEBUG c.t.s.c.s.p.m.A.selectList 135 - ==> Parameters: 
14:28:27 [http-nio-9080-exec-3] DEBUG c.t.s.c.s.p.m.A.selectList 135 - <==      Total: 3
14:28:27 [http-nio-9080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@492b0c18]
14:28:27 [http-nio-9080-exec-3] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor 268 - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
14:28:27 [http-nio-9080-exec-3] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor 91 - Writing [ResultData(code=200, msg=success, data=[Agent(id=1, enableSearch=1, name=算指标, description=帮助您用自然语言查询 (truncated)...]
14:28:27 [http-nio-9080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet 1131 - Completed 200 OK
14:28:27 [http-nio-9080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet 91 - GET "/api/chat/agent/getAgentList", parameters={}
14:28:27 [http-nio-9080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping 522 - Mapped to com.tencent.supersonic.chat.server.rest.AgentController#getAgentList()
14:28:27 [http-nio-9080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:28:27 [http-nio-9080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@655893f2] was not registered for synchronization because synchronization is not active
14:28:27 [http-nio-9080-exec-8] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:28:27 [http-nio-9080-exec-8] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@3404ed53] will not be managed by Spring
14:28:27 [http-nio-9080-exec-8] DEBUG c.t.s.c.s.p.m.A.selectList 135 - ==>  Preparing: SELECT id,name,description,status,examples,config,created_by,created_at,updated_by,updated_at,enable_search,llm_config,multi_turn_config,visual_config FROM s2_agent
14:28:27 [http-nio-9080-exec-8] DEBUG c.t.s.c.s.p.m.A.selectList 135 - ==> Parameters: 
14:28:27 [http-nio-9080-exec-8] DEBUG c.t.s.c.s.p.m.A.selectList 135 - <==      Total: 3
14:28:27 [http-nio-9080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@655893f2]
14:28:27 [http-nio-9080-exec-8] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor 268 - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
14:28:27 [http-nio-9080-exec-8] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor 91 - Writing [ResultData(code=200, msg=success, data=[Agent(id=1, enableSearch=1, name=算指标, description=帮助您用自然语言查询 (truncated)...]
14:28:27 [http-nio-9080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet 1131 - Completed 200 OK
14:28:27 [http-nio-9080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet 91 - GET "/api/chat/manage/getAll?agentId=1", parameters={masked}
14:28:27 [http-nio-9080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping 522 - Mapped to com.tencent.supersonic.chat.server.rest.ChatController#getAllConversions(Integer, HttpServletRequest, HttpServletResponse)
14:28:27 [http-nio-9080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:28:27 [http-nio-9080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7c87542d] was not registered for synchronization because synchronization is not active
14:28:27 [http-nio-9080-exec-10] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:28:27 [http-nio-9080-exec-10] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@3404ed53] will not be managed by Spring
14:28:27 [http-nio-9080-exec-10] DEBUG c.t.s.c.p.m.S.selectList 135 - ==>  Preparing: SELECT id,parameters,admin FROM s2_system_config
14:28:27 [http-nio-9080-exec-10] DEBUG c.t.s.c.p.m.S.selectList 135 - ==> Parameters: 
14:28:27 [http-nio-9080-exec-10] DEBUG c.t.s.c.p.m.S.selectList 135 - <==      Total: 1
14:28:27 [http-nio-9080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7c87542d]
14:28:27 [http-nio-9080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:28:27 [http-nio-9080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2daf0114] was not registered for synchronization because synchronization is not active
14:28:27 [http-nio-9080-exec-10] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:28:27 [http-nio-9080-exec-10] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@3404ed53] will not be managed by Spring
14:28:27 [http-nio-9080-exec-10] DEBUG c.t.s.c.s.p.mapper.ChatMapper.getAll 135 - ==>  Preparing: select * from s2_chat where creator = ? and is_delete = 0 and agent_id = ? order by is_top desc, last_time desc
14:28:27 [http-nio-9080-exec-10] DEBUG c.t.s.c.s.p.mapper.ChatMapper.getAll 135 - ==> Parameters: admin(String), 1(Integer)
14:28:27 [http-nio-9080-exec-10] DEBUG c.t.s.c.s.p.mapper.ChatMapper.getAll 135 - <==      Total: 1
14:28:27 [http-nio-9080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2daf0114]
14:28:27 [http-nio-9080-exec-10] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor 268 - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
14:28:27 [http-nio-9080-exec-10] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor 91 - Writing [ResultData(code=200, msg=success, data=[ChatDO(chatId=1, agentId=1, chatName=样例对话1, createTime=2024- (truncated)...]
14:28:27 [http-nio-9080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet 1131 - Completed 200 OK
14:28:27 [http-nio-9080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet 91 - POST "/api/chat/manage/pageQueryInfo?chatId=1", parameters={masked}
14:28:27 [http-nio-9080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping 522 - Mapped to com.tencent.supersonic.chat.server.rest.ChatController#pageQueryInfo(PageQueryInfoReq, long, HttpServletRequest, HttpServletResponse)
14:28:27 [http-nio-9080-exec-1] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor 91 - Read "application/json;charset=UTF-8" to [PageQueryInfoReq(current=1, pageSize=3, userName=null, ids=null)]
14:28:27 [http-nio-9080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:28:27 [http-nio-9080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@909e11e] was not registered for synchronization because synchronization is not active
14:28:27 [http-nio-9080-exec-1] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:28:27 [http-nio-9080-exec-1] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@3404ed53] will not be managed by Spring
14:28:27 [http-nio-9080-exec-1] DEBUG c.t.s.c.p.m.S.selectList 135 - ==>  Preparing: SELECT id,parameters,admin FROM s2_system_config
14:28:27 [http-nio-9080-exec-1] DEBUG c.t.s.c.p.m.S.selectList 135 - ==> Parameters: 
14:28:27 [http-nio-9080-exec-1] DEBUG c.t.s.c.p.m.S.selectList 135 - <==      Total: 1
14:28:27 [http-nio-9080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@909e11e]
14:28:27 [http-nio-9080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:28:27 [http-nio-9080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@428ba2f6] was not registered for synchronization because synchronization is not active
14:28:27 [http-nio-9080-exec-1] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:28:27 [http-nio-9080-exec-1] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@3404ed53] will not be managed by Spring
14:28:27 [http-nio-9080-exec-1] DEBUG c.t.s.c.s.p.m.C.selectList_COUNT 135 - ==>  Preparing: SELECT count(0) FROM s2_chat_query WHERE (chat_id = ? AND user_name = ?)
14:28:27 [http-nio-9080-exec-1] DEBUG c.t.s.c.s.p.m.C.selectList_COUNT 135 - ==> Parameters: 1(Long), admin(String)
14:28:27 [http-nio-9080-exec-1] DEBUG c.t.s.c.s.p.m.C.selectList_COUNT 135 - <==      Total: 1
14:28:27 [http-nio-9080-exec-1] DEBUG c.t.s.c.s.p.m.C.selectList 135 - ==>  Preparing: SELECT question_id,agent_id,create_time,user_name,query_state,chat_id,score,feedback,query_text,query_result,similar_queries,parse_time_cost FROM s2_chat_query WHERE (chat_id = ? AND user_name = ?) ORDER BY question_id DESC LIMIT ?
14:28:27 [http-nio-9080-exec-1] DEBUG c.t.s.c.s.p.m.C.selectList 135 - ==> Parameters: 1(Long), admin(String), 3(Integer)
14:28:27 [http-nio-9080-exec-1] DEBUG c.t.s.c.s.p.m.C.selectList 135 - <==      Total: 3
14:28:27 [http-nio-9080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@428ba2f6]
14:28:28 [http-nio-9080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:28:28 [http-nio-9080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@58331883] was not registered for synchronization because synchronization is not active
14:28:28 [http-nio-9080-exec-1] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:28:28 [http-nio-9080-exec-1] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@3404ed53] will not be managed by Spring
14:28:28 [http-nio-9080-exec-1] DEBUG c.t.s.c.s.p.m.C.getParseInfoList 135 - ==>  Preparing: select * from s2_chat_parse where question_id in ( ? , ? , ? )
14:28:28 [http-nio-9080-exec-1] DEBUG c.t.s.c.s.p.m.C.getParseInfoList 135 - ==> Parameters: 78(Long), 79(Long), 80(Long)
14:28:28 [http-nio-9080-exec-1] DEBUG c.t.s.c.s.p.m.C.getParseInfoList 135 - <==      Total: 9
14:28:28 [http-nio-9080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@58331883]
14:28:28 [http-nio-9080-exec-1] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor 268 - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
14:28:28 [http-nio-9080-exec-1] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor 91 - Writing [ResultData(code=200, msg=success, data=PageInfo{pageNum=1, pageSize=3, size=0, startRow=0, endRow=0, (truncated)...]
14:28:28 [http-nio-9080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet 1131 - Completed 200 OK
14:28:28 [http-nio-9080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet 91 - POST "/api/chat/query/queryDimensionValue", parameters={}
14:28:28 [http-nio-9080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping 522 - Mapped to com.tencent.supersonic.chat.server.rest.ChatQueryController#queryDimensionValue(DimensionValueReq, HttpServletRequest, HttpServletResponse)
14:28:28 [http-nio-9080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet 91 - POST "/api/chat/query/queryDimensionValue", parameters={}
14:28:28 [http-nio-9080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping 522 - Mapped to com.tencent.supersonic.chat.server.rest.ChatQueryController#queryDimensionValue(DimensionValueReq, HttpServletRequest, HttpServletResponse)
14:28:28 [http-nio-9080-exec-2] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor 91 - Read "application/json;charset=UTF-8" to [DimensionValueReq(agentId=1, elementID=1, modelId=null, bizName=department, value=, dataSetIds=null)]
14:28:28 [http-nio-9080-exec-6] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor 91 - Read "application/json;charset=UTF-8" to [DimensionValueReq(agentId=1, elementID=1, modelId=null, bizName=department, value=, dataSetIds=null)]
14:28:28 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:28:28 [http-nio-9080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:28:28 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3ade2274] was not registered for synchronization because synchronization is not active
14:28:28 [http-nio-9080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@25ea2233] was not registered for synchronization because synchronization is not active
14:28:28 [http-nio-9080-exec-2] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:28:28 [http-nio-9080-exec-6] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:28:28 [http-nio-9080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@3404ed53] will not be managed by Spring
14:28:28 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==>  Preparing: SELECT id,parameters,admin FROM s2_system_config
14:28:28 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==> Parameters: 
14:28:28 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - <==      Total: 1
14:28:28 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3ade2274]
14:28:28 [http-nio-9080-exec-6] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@3404ed53] will not be managed by Spring
14:28:28 [http-nio-9080-exec-6] DEBUG c.t.s.c.p.m.S.selectList 135 - ==>  Preparing: SELECT id,parameters,admin FROM s2_system_config
14:28:28 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:28:28 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@48496e51] was not registered for synchronization because synchronization is not active
14:28:28 [http-nio-9080-exec-6] DEBUG c.t.s.c.p.m.S.selectList 135 - ==> Parameters: 
14:28:28 [http-nio-9080-exec-2] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:28:28 [http-nio-9080-exec-6] DEBUG c.t.s.c.p.m.S.selectList 135 - <==      Total: 1
14:28:28 [http-nio-9080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@25ea2233]
14:28:28 [http-nio-9080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@3404ed53] will not be managed by Spring
14:28:28 [http-nio-9080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:28:28 [http-nio-9080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6a529575] was not registered for synchronization because synchronization is not active
14:28:28 [http-nio-9080-exec-2] DEBUG c.t.s.c.s.p.m.A.selectById 135 - ==>  Preparing: SELECT id,name,description,status,examples,config,created_by,created_at,updated_by,updated_at,enable_search,llm_config,multi_turn_config,visual_config FROM s2_agent WHERE id=?
14:28:28 [http-nio-9080-exec-6] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:28:28 [http-nio-9080-exec-2] DEBUG c.t.s.c.s.p.m.A.selectById 135 - ==> Parameters: 1(Integer)
14:28:28 [http-nio-9080-exec-6] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@7a56217a] will not be managed by Spring
14:28:28 [http-nio-9080-exec-2] DEBUG c.t.s.c.s.p.m.A.selectById 135 - <==      Total: 1
14:28:28 [http-nio-9080-exec-6] DEBUG c.t.s.c.s.p.m.A.selectById 135 - ==>  Preparing: SELECT id,name,description,status,examples,config,created_by,created_at,updated_by,updated_at,enable_search,llm_config,multi_turn_config,visual_config FROM s2_agent WHERE id=?
14:28:28 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@48496e51]
14:28:28 [http-nio-9080-exec-6] DEBUG c.t.s.c.s.p.m.A.selectById 135 - ==> Parameters: 1(Integer)
14:28:28 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:28:28 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@103c6e49] was not registered for synchronization because synchronization is not active
14:28:28 [http-nio-9080-exec-2] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:28:28 [http-nio-9080-exec-6] DEBUG c.t.s.c.s.p.m.A.selectById 135 - <==      Total: 1
14:28:28 [http-nio-9080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@3404ed53] will not be managed by Spring
14:28:28 [http-nio-9080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6a529575]
14:28:28 [http-nio-9080-exec-2] DEBUG c.t.s.h.s.p.m.D.selectById 135 - ==>  Preparing: SELECT id,model_id,name,biz_name,description,status,sensitive_level,type,created_at,created_by,updated_at,updated_by,semantic_type,alias,default_values,dim_value_maps,type_params,expr,data_type,is_tag,ext FROM s2_dimension WHERE id=?
14:28:28 [http-nio-9080-exec-2] DEBUG c.t.s.h.s.p.m.D.selectById 135 - ==> Parameters: 1(Long)
14:28:28 [http-nio-9080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:28:28 [http-nio-9080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6ff9264c] was not registered for synchronization because synchronization is not active
14:28:28 [http-nio-9080-exec-6] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:28:28 [http-nio-9080-exec-6] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@7a56217a] will not be managed by Spring
14:28:28 [http-nio-9080-exec-6] DEBUG c.t.s.h.s.p.m.D.selectById 135 - ==>  Preparing: SELECT id,model_id,name,biz_name,description,status,sensitive_level,type,created_at,created_by,updated_at,updated_by,semantic_type,alias,default_values,dim_value_maps,type_params,expr,data_type,is_tag,ext FROM s2_dimension WHERE id=?
14:28:28 [http-nio-9080-exec-2] DEBUG c.t.s.h.s.p.m.D.selectById 135 - <==      Total: 1
14:28:28 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@103c6e49]
14:28:28 [http-nio-9080-exec-6] DEBUG c.t.s.h.s.p.m.D.selectById 135 - ==> Parameters: 1(Long)
14:28:28 [http-nio-9080-exec-2] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor 268 - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
14:28:28 [http-nio-9080-exec-2] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor 91 - Writing [ResultData(code=200, msg=success, data=SemanticQueryResp(columns=[QueryColumn(name=null, type=CHAR,  (truncated)...]
14:28:28 [http-nio-9080-exec-6] DEBUG c.t.s.h.s.p.m.D.selectById 135 - <==      Total: 1
14:28:28 [http-nio-9080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet 1131 - Completed 200 OK
14:28:28 [http-nio-9080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6ff9264c]
14:28:28 [http-nio-9080-exec-6] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor 268 - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
14:28:28 [http-nio-9080-exec-6] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor 91 - Writing [ResultData(code=200, msg=success, data=SemanticQueryResp(columns=[QueryColumn(name=null, type=CHAR,  (truncated)...]
14:28:28 [http-nio-9080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet 1131 - Completed 200 OK
14:29:00 [scheduling-1] DEBUG c.t.s.h.s.task.DictionaryReloadTask 39 - reloadKnowledge start
14:29:00 [scheduling-1] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:29:00 [scheduling-1] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@54e954d3] was not registered for synchronization because synchronization is not active
14:29:00 [scheduling-1] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:29:00 [scheduling-1] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@7a56217a] will not be managed by Spring
14:29:00 [scheduling-1] DEBUG c.t.s.h.s.p.m.D.selectList 135 - ==>  Preparing: SELECT id,domain_id,name,biz_name,description,status,alias,data_set_detail,created_at,created_by,updated_at,updated_by,query_config,admin,admin_org FROM s2_data_set WHERE (status = ? AND status <> ?)
14:29:00 [scheduling-1] DEBUG c.t.s.h.s.p.m.D.selectList 135 - ==> Parameters: 1(Integer), 3(Integer)
14:29:00 [scheduling-1] DEBUG c.t.s.h.s.p.m.D.selectList 135 - <==      Total: 2
14:29:00 [scheduling-1] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@54e954d3]
14:29:00 [scheduling-1] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:29:00 [scheduling-1] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2c036f35] was not registered for synchronization because synchronization is not active
14:29:00 [scheduling-1] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:29:00 [scheduling-1] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@7a56217a] will not be managed by Spring
14:29:00 [scheduling-1] DEBUG c.t.s.h.s.p.m.T.getTagDOList 135 - ==>  Preparing: select * from s2_tag WHERE item_id in ( ? , ? , ? ) and type = ?
14:29:00 [scheduling-1] DEBUG c.t.s.h.s.p.m.T.getTagDOList 135 - ==> Parameters: 1(Long), 2(Long), 3(Long), DIMENSION(String)
14:29:00 [scheduling-1] DEBUG c.t.s.h.s.p.m.T.getTagDOList 135 - <==      Total: 1
14:29:00 [scheduling-1] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2c036f35]
14:29:00 [scheduling-1] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:29:00 [scheduling-1] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5cf2f7] was not registered for synchronization because synchronization is not active
14:29:00 [scheduling-1] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:29:00 [scheduling-1] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@7a56217a] will not be managed by Spring
14:29:00 [scheduling-1] DEBUG c.t.s.h.s.p.m.T.getTagDOList 135 - ==>  Preparing: select * from s2_tag WHERE item_id in ( ? , ? , ? , ? ) and type = ?
14:29:00 [scheduling-1] DEBUG c.t.s.h.s.p.m.T.getTagDOList 135 - ==> Parameters: 1(Long), 3(Long), 4(Long), 2(Long), METRIC(String)
14:29:00 [scheduling-1] DEBUG c.t.s.h.s.p.m.T.getTagDOList 135 - <==      Total: 0
14:29:00 [scheduling-1] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5cf2f7]
14:29:00 [scheduling-1] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:29:00 [scheduling-1] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@60cd10dd] was not registered for synchronization because synchronization is not active
14:29:00 [scheduling-1] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:29:00 [scheduling-1] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@7a56217a] will not be managed by Spring
14:29:00 [scheduling-1] DEBUG c.t.s.h.s.p.m.T.getTagDOList 135 - ==>  Preparing: select * from s2_tag WHERE item_id in ( ? , ? , ? , ? ) and type = ?
14:29:00 [scheduling-1] DEBUG c.t.s.h.s.p.m.T.getTagDOList 135 - ==> Parameters: 4(Long), 5(Long), 6(Long), 7(Long), DIMENSION(String)
14:29:00 [scheduling-1] DEBUG c.t.s.h.s.p.m.T.getTagDOList 135 - <==      Total: 4
14:29:00 [scheduling-1] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@60cd10dd]
14:29:00 [scheduling-1] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:29:00 [scheduling-1] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2ecc1806] was not registered for synchronization because synchronization is not active
14:29:00 [scheduling-1] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:29:00 [scheduling-1] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@7a56217a] will not be managed by Spring
14:29:00 [scheduling-1] DEBUG c.t.s.h.s.p.m.T.getTagDOList 135 - ==>  Preparing: select * from s2_tag WHERE item_id in ( ? , ? , ? ) and type = ?
14:29:00 [scheduling-1] DEBUG c.t.s.h.s.p.m.T.getTagDOList 135 - ==> Parameters: 5(Long), 6(Long), 7(Long), METRIC(String)
14:29:00 [scheduling-1] DEBUG c.t.s.h.s.p.m.T.getTagDOList 135 - <==      Total: 1
14:29:00 [scheduling-1] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2ecc1806]
14:29:00 [scheduling-1] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:29:00 [scheduling-1] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2d29b8b8] was not registered for synchronization because synchronization is not active
14:29:00 [scheduling-1] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:29:00 [scheduling-1] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@7a56217a] will not be managed by Spring
14:29:00 [scheduling-1] DEBUG c.t.s.h.s.p.m.TermMapper.selectList 135 - ==>  Preparing: SELECT id,domain_id,name,description,alias,related_metrics,related_dimensions,created_at,created_by,updated_at,updated_by FROM s2_term WHERE (domain_id IN (?,?))
14:29:00 [scheduling-1] DEBUG c.t.s.h.s.p.m.TermMapper.selectList 135 - ==> Parameters: 1(Long), 2(Long)
14:29:00 [scheduling-1] DEBUG c.t.s.h.s.p.m.TermMapper.selectList 135 - <==      Total: 2
14:29:00 [scheduling-1] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2d29b8b8]
14:29:00 [scheduling-1] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:29:00 [scheduling-1] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1872e02d] was not registered for synchronization because synchronization is not active
14:29:00 [scheduling-1] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:29:00 [scheduling-1] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@7a56217a] will not be managed by Spring
14:29:00 [scheduling-1] DEBUG c.t.s.h.s.p.m.M.query 135 - ==>  Preparing: select t.* from s2_metric t left join ( select * from s2_tag where type = 'METRIC' ) t1 on t.id = t1.item_id where t.status != 3 and t.status = ? and t.model_id in ( ? , ? , ? , ? )
14:29:00 [scheduling-1] DEBUG c.t.s.h.s.p.m.M.query 135 - ==> Parameters: 1(Integer), 1(Long), 2(Long), 3(Long), 4(Long)
14:29:00 [scheduling-1] DEBUG c.t.s.h.s.p.m.M.query 135 - <==      Total: 7
14:29:00 [scheduling-1] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1872e02d]
14:29:00 [scheduling-1] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:29:00 [scheduling-1] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@36c968b0] was not registered for synchronization because synchronization is not active
14:29:00 [scheduling-1] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:29:00 [scheduling-1] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@7a56217a] will not be managed by Spring
14:29:00 [scheduling-1] DEBUG c.t.s.h.s.p.m.M.selectList 135 - ==>  Preparing: SELECT id,domain_id,tag_object_id,name,biz_name,description,database_id,status,created_at,created_by,updated_at,updated_by,depends,filter_sql,viewer,view_org,admin,admin_org,is_open,drill_down_dimensions,alias,source_type,ext FROM s2_model WHERE (status <> ? AND id IN (?,?,?,?,?,?,?))
14:29:00 [scheduling-1] DEBUG c.t.s.h.s.p.m.M.selectList 135 - ==> Parameters: 3(Integer), 2(Long), 3(Long), 2(Long), 2(Long), 4(Long), 4(Long), 4(Long)
14:29:00 [scheduling-1] DEBUG c.t.s.h.s.p.m.M.selectList 135 - <==      Total: 3
14:29:00 [scheduling-1] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@36c968b0]
14:29:00 [scheduling-1] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:29:00 [scheduling-1] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@194a1659] was not registered for synchronization because synchronization is not active
14:29:00 [scheduling-1] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:29:00 [scheduling-1] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@7a56217a] will not be managed by Spring
14:29:00 [scheduling-1] DEBUG c.t.s.h.s.p.m.T.getTagDOList 135 - ==>  Preparing: select * from s2_tag WHERE item_id in ( ? , ? , ? , ? , ? , ? , ? ) and type = ?
14:29:00 [scheduling-1] DEBUG c.t.s.h.s.p.m.T.getTagDOList 135 - ==> Parameters: 1(Long), 2(Long), 3(Long), 4(Long), 5(Long), 6(Long), 7(Long), METRIC(String)
14:29:00 [scheduling-1] DEBUG c.t.s.h.s.p.m.T.getTagDOList 135 - <==      Total: 1
14:29:00 [scheduling-1] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@194a1659]
14:29:00 [scheduling-1] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:29:00 [scheduling-1] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@710e640a] was not registered for synchronization because synchronization is not active
14:29:00 [scheduling-1] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:29:00 [scheduling-1] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@7a56217a] will not be managed by Spring
14:29:00 [scheduling-1] DEBUG c.t.s.h.s.p.m.D.query 135 - ==>  Preparing: select * from s2_dimension t left join ( select * from s2_tag where type = 'DIMENSION' ) t1 on t.id = t1.item_id where status != 3 and t.status = ? and t.model_id in ( ? , ? , ? , ? )
14:29:00 [scheduling-1] DEBUG c.t.s.h.s.p.m.D.query 135 - ==> Parameters: 1(Integer), 1(Long), 2(Long), 3(Long), 4(Long)
14:29:00 [scheduling-1] DEBUG c.t.s.h.s.p.m.D.query 135 - <==      Total: 7
14:29:00 [scheduling-1] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@710e640a]
14:29:00 [scheduling-1] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:29:00 [scheduling-1] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7bcc6896] was not registered for synchronization because synchronization is not active
14:29:00 [scheduling-1] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:29:00 [scheduling-1] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@7a56217a] will not be managed by Spring
14:29:00 [scheduling-1] DEBUG c.t.s.h.s.p.m.M.selectList 135 - ==>  Preparing: SELECT id,domain_id,tag_object_id,name,biz_name,description,database_id,status,created_at,created_by,updated_at,updated_by,depends,filter_sql,viewer,view_org,admin,admin_org,is_open,drill_down_dimensions,alias,source_type,ext FROM s2_model WHERE (status <> ? AND id IN (?,?,?,?,?,?,?))
14:29:00 [scheduling-1] DEBUG c.t.s.h.s.p.m.M.selectList 135 - ==> Parameters: 3(Integer), 1(Long), 1(Long), 3(Long), 4(Long), 4(Long), 4(Long), 4(Long)
14:29:00 [scheduling-1] DEBUG c.t.s.h.s.p.m.M.selectList 135 - <==      Total: 3
14:29:00 [scheduling-1] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7bcc6896]
14:29:00 [scheduling-1] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:29:00 [scheduling-1] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3363467e] was not registered for synchronization because synchronization is not active
14:29:00 [scheduling-1] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:29:00 [scheduling-1] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@7a56217a] will not be managed by Spring
14:29:00 [scheduling-1] DEBUG c.t.s.h.s.p.m.T.getTagDOList 135 - ==>  Preparing: select * from s2_tag WHERE item_id in ( ? , ? , ? , ? , ? , ? , ? ) and type = ?
14:29:00 [scheduling-1] DEBUG c.t.s.h.s.p.m.T.getTagDOList 135 - ==> Parameters: 1(Long), 2(Long), 3(Long), 4(Long), 5(Long), 6(Long), 7(Long), DIMENSION(String)
14:29:00 [scheduling-1] DEBUG c.t.s.h.s.p.m.T.getTagDOList 135 - <==      Total: 5
14:29:00 [scheduling-1] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3363467e]
14:29:00 [scheduling-1] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:29:00 [scheduling-1] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@64ddcd17] was not registered for synchronization because synchronization is not active
14:29:00 [scheduling-1] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:29:00 [scheduling-1] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@7a56217a] will not be managed by Spring
14:29:00 [scheduling-1] DEBUG c.t.s.h.s.p.m.T.getTagDOList 135 - ==>  Preparing: select * from s2_tag WHERE item_id in ( ? , ? , ? , ? , ? , ? , ? ) and type = ?
14:29:00 [scheduling-1] DEBUG c.t.s.h.s.p.m.T.getTagDOList 135 - ==> Parameters: 1(Long), 2(Long), 3(Long), 4(Long), 5(Long), 6(Long), 7(Long), DIMENSION(String)
14:29:00 [scheduling-1] DEBUG c.t.s.h.s.p.m.T.getTagDOList 135 - <==      Total: 5
14:29:00 [scheduling-1] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@64ddcd17]
14:29:00 [scheduling-1] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:29:00 [scheduling-1] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3c456ad5] was not registered for synchronization because synchronization is not active
14:29:00 [scheduling-1] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:29:00 [scheduling-1] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@7a56217a] will not be managed by Spring
14:29:00 [scheduling-1] DEBUG c.t.s.h.s.p.m.M.selectList 135 - ==>  Preparing: SELECT id,domain_id,tag_object_id,name,biz_name,description,database_id,status,created_at,created_by,updated_at,updated_by,model_detail,depends,filter_sql,viewer,view_org,admin,admin_org,is_open,drill_down_dimensions,alias,source_type,ext FROM s2_model WHERE (status <> ? AND id IN (?,?,?,?) AND id IN (?,?,?,?))
14:29:00 [scheduling-1] DEBUG c.t.s.h.s.p.m.M.selectList 135 - ==> Parameters: 3(Integer), 1(Long), 2(Long), 3(Long), 4(Long), 1(Long), 2(Long), 3(Long), 4(Long)
14:29:00 [scheduling-1] DEBUG c.t.s.h.s.p.m.M.selectList 135 - <==      Total: 4
14:29:00 [scheduling-1] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3c456ad5]
14:29:00 [scheduling-1] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:29:00 [scheduling-1] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@313631df] was not registered for synchronization because synchronization is not active
14:29:00 [scheduling-1] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:29:00 [scheduling-1] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@7a56217a] will not be managed by Spring
14:29:00 [scheduling-1] DEBUG c.t.s.h.s.p.m.M.query 135 - ==>  Preparing: select t.* from s2_metric t left join ( select * from s2_tag where type = 'METRIC' ) t1 on t.id = t1.item_id where t.status != 3 and t.biz_name like CONCAT('%',?,'%') and t.model_id in ( ? )
14:29:00 [scheduling-1] DEBUG c.t.s.h.s.p.m.M.query 135 - ==> Parameters: pv(String), 1(Long)
14:29:00 [scheduling-1] DEBUG c.t.s.h.s.p.m.M.query 135 - <==      Total: 0
14:29:00 [scheduling-1] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@313631df]
14:29:00 [scheduling-1] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:29:00 [scheduling-1] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@570a690b] was not registered for synchronization because synchronization is not active
14:29:00 [scheduling-1] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:29:00 [scheduling-1] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@7a56217a] will not be managed by Spring
14:29:00 [scheduling-1] DEBUG c.t.s.h.s.p.m.M.selectList 135 - ==>  Preparing: SELECT id,domain_id,tag_object_id,name,biz_name,description,database_id,status,created_at,created_by,updated_at,updated_by,depends,filter_sql,viewer,view_org,admin,admin_org,is_open,drill_down_dimensions,alias,source_type,ext FROM s2_model WHERE (status <> ?)
14:29:00 [scheduling-1] DEBUG c.t.s.h.s.p.m.M.selectList 135 - ==> Parameters: 3(Integer)
14:29:00 [scheduling-1] DEBUG c.t.s.h.s.p.m.M.selectList 135 - <==      Total: 4
14:29:00 [scheduling-1] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@570a690b]
14:29:00 [scheduling-1] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:29:00 [scheduling-1] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2379bf4e] was not registered for synchronization because synchronization is not active
14:29:00 [scheduling-1] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:29:00 [scheduling-1] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@7a56217a] will not be managed by Spring
14:29:00 [scheduling-1] DEBUG c.t.s.h.s.p.m.T.getTagDOList 135 - ==>  Preparing: select * from s2_tag WHERE type = ?
14:29:00 [scheduling-1] DEBUG c.t.s.h.s.p.m.T.getTagDOList 135 - ==> Parameters: METRIC(String)
14:29:00 [scheduling-1] DEBUG c.t.s.h.s.p.m.T.getTagDOList 135 - <==      Total: 1
14:29:00 [scheduling-1] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2379bf4e]
14:29:00 [scheduling-1] DEBUG c.t.s.h.s.w.s.impl.SchemaServiceImpl 451 - statInfos:[]
14:29:00 [scheduling-1] DEBUG c.t.s.h.s.w.s.impl.SchemaServiceImpl 273 - typeIdAndStatPair:{}
14:29:00 [scheduling-1] DEBUG c.t.s.h.s.w.s.impl.DictWordService 69 - nature type:DIMENSION , nature size:15
14:29:00 [scheduling-1] DEBUG c.t.s.h.s.w.s.impl.DictWordService 69 - nature type:METRIC , nature size:18
14:29:00 [scheduling-1] DEBUG c.t.s.h.s.w.s.impl.DictWordService 69 - nature type:ENTITY , nature size:4
14:29:00 [scheduling-1] DEBUG c.t.s.h.s.w.s.impl.DictWordService 69 - nature type:VALUE , nature size:0
14:29:00 [scheduling-1] DEBUG c.t.s.h.s.w.s.impl.DictWordService 69 - nature type:TERM , nature size:6
14:29:00 [scheduling-1] DEBUG c.t.s.h.s.w.s.impl.DictWordService 44 - Dictionary hasn't been reloaded.
14:29:00 [scheduling-1] DEBUG c.t.s.h.s.task.DictionaryReloadTask 45 - reloadKnowledge end
14:29:04 [scheduling-1] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:29:04 [scheduling-1] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@12049c16] was not registered for synchronization because synchronization is not active
14:29:04 [scheduling-1] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:29:04 [scheduling-1] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@7a56217a] will not be managed by Spring
14:29:04 [scheduling-1] DEBUG c.t.s.c.s.p.m.C.selectList 135 - ==>  Preparing: SELECT id,question,agent_id,db_schema,s2_sql,status,llm_review AS llmReviewRet,llm_comment AS llmReviewCmt,human_review AS humanReviewRet,human_comment AS humanReviewCmt,created_by,created_at,updated_by,updated_at FROM s2_chat_memory WHERE (status = ? AND llm_review IS NULL)
14:29:04 [scheduling-1] DEBUG c.t.s.c.s.p.m.C.selectList 135 - ==> Parameters: PENDING(String)
14:29:04 [scheduling-1] DEBUG c.t.s.c.s.p.m.C.selectList 135 - <==      Total: 0
14:29:04 [scheduling-1] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@12049c16]

```

1. **HTTP请求处理**:
    - 日志记录了处理各种HTTP请求的详细信息，包括请求的URL、HTTP方法（如GET、POST）、请求参数等。例如：表示一个POST请求到达了`/api/auth/user/login`。
        
        ```
        14:28:26 [http-nio-9080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet 91 - POST "/api/auth/user/login", parameters={}
        ```
        
2. **请求映射和处理**:
    - 日志显示了Spring如何将请求映射到具体的控制器方法。例如：表示请求被映射到`UserController`类中的`login`方法。
        
        ```
        14:28:26 [http-nio-9080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping 522 - Mapped to com.tencent.supersonic.auth.authentication.rest.UserController#login(UserReq, HttpServletRequest)
        ```
        
3. **请求和响应数据处理**:
    - 日志记录了读取和写入请求/响应数据的详细信息。例如：表示读取到了一个JSON请求体，并写回了一个JSON响应体。
        
        ```
        14:28:26 [http-nio-9080-exec-5] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor 91 - Read "application/json;charset=UTF-8" to [UserReq(name=admin, password=e6+jQ26AESREiBBuKM1u1A==)]
        14:28:27 [http-nio-9080-exec-5] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor 91 - Writing ["{"code":200,"msg":"success","data":"eyJhbGciOiJIUzUxMiJ9.eyJ0b2tlbl91c2VyX2lkIjo2LCJ0b2tlbl91c2VyX2 (truncated)...
        ```
        
4. **数据库操作**:
    - 日志详细记录了MyBatis框架执行的SQL查询操作。例如：表示执行了一个查询用户信息的SQL语句。
        
        ```
        14:28:26 [http-nio-9080-exec-5] DEBUG c.t.s.a.a.p.m.U.selectByExample 135 - ==>  Preparing: select id, name, password, salt, display_name, email, is_admin from s2_user WHERE ( name = ? )
        14:28:26 [http-nio-9080-exec-5] DEBUG c.t.s.a.a.p.m.U.selectByExample 135 - ==> Parameters: admin(String)
        14:28:26 [http-nio-9080-exec-5] DEBUG c.t.s.a.a.p.m.U.selectByExample 135 - <==      Total: 1
        ```
        
5. **异常处理**:
    - 日志中记录了异常处理的过程。例如：表示解析用户信息时出现了异常，并记录了详细的异常信息。
        
        ```
        14:28:23 [http-nio-9080-exec-8] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver 145 - Resolved [com.tencent.supersonic.common.pojo.exception.AccessException: parse user info from token failed :Bearer eyJhbGciOiJIUzUxMiJ9.eyJ0b2tlbl91c2VyX2lkIjo2LCJ0b2tlbl91c2VyX25hbWUiOiJhZG1pbiIsInRva2VuX3VzZXJfZGlzcGxheV9uYW1lIjoiYWRtaW4iLCJ0b2tlbl9jcmVhdGVfdGltZSI6MTcyMjgyMzU4NzgyMywidG9rZW5fdXNlcl9wYXNzd29yZCI6ImMzVndaWEp6YjI1cFkwQmlhV052YmRrdEpKWVd3NkEzckVtQlVQemJuLzZETmVZbkQreTNtQXdES0VNUzNLVlQiLCJzdWIiOiJhZG1pbiIsImV4cCI6MTcyMjg5NTU4N30.URelMWEtiAZ6uyaEKb2urLCV9H30vrLikhlHrd7WdITaFyXMNa4A8chbRmiaxpHRBSrO6do4jy74R8GqHj4Ivw]
        ```
        
6. **资源请求处理**:
    - 日志记录了处理静态资源（如CSS、JS文件）请求的详细信息。例如：
        
        ```
        14:28:23 [http-nio-9080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet 91 - GET "/webapp/p__Login__index.b976a2cc.chunk.css", parameters={}
        ```
        

总的来说，这段日志详细记录了Spring应用程序从接收请求到处理响应、执行数据库操作以及处理异常的整个过程，有助于开发者了解系统的运行状态和排查问题。

# 运行待机

```
14:49:00 [scheduling-1] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@7a56217a] will not be managed by Spring
14:49:00 [scheduling-1] DEBUG c.t.s.h.s.p.m.T.getTagDOList 135 - ==>  Preparing: select * from s2_tag WHERE item_id in ( ? , ? , ? ) and type = ?
14:49:00 [scheduling-1] DEBUG c.t.s.h.s.p.m.T.getTagDOList 135 - ==> Parameters: 5(Long), 6(Long), 7(Long), METRIC(String)
14:49:00 [scheduling-1] DEBUG c.t.s.h.s.p.m.T.getTagDOList 135 - <==      Total: 1
14:49:00 [scheduling-1] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3a9e2c4c]
14:49:00 [scheduling-1] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:49:00 [scheduling-1] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1271dfe8] was not registered for synchronization because synchronization is not active
14:49:00 [scheduling-1] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:49:00 [scheduling-1] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@7a56217a] will not be managed by Spring
14:49:00 [scheduling-1] DEBUG c.t.s.h.s.p.m.TermMapper.selectList 135 - ==>  Preparing: SELECT id,domain_id,name,description,alias,related_metrics,related_dimensions,created_at,created_by,updated_at,updated_by FROM s2_term WHERE (domain_id IN (?,?))
14:49:00 [scheduling-1] DEBUG c.t.s.h.s.p.m.TermMapper.selectList 135 - ==> Parameters: 1(Long), 2(Long)
14:49:00 [scheduling-1] DEBUG c.t.s.h.s.p.m.TermMapper.selectList 135 - <==      Total: 2
14:49:00 [scheduling-1] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1271dfe8]
14:49:00 [scheduling-1] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:49:00 [scheduling-1] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@39fc97cf] was not registered for synchronization because synchronization is not active
14:49:00 [scheduling-1] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:49:00 [scheduling-1] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@7a56217a] will not be managed by Spring
14:49:00 [scheduling-1] DEBUG c.t.s.h.s.p.m.M.query 135 - ==>  Preparing: select t.* from s2_metric t left join ( select * from s2_tag where type = 'METRIC' ) t1 on t.id = t1.item_id where t.status != 3 and t.status = ? and t.model_id in ( ? , ? , ? , ? )
14:49:00 [scheduling-1] DEBUG c.t.s.h.s.p.m.M.query 135 - ==> Parameters: 1(Integer), 1(Long), 2(Long), 3(Long), 4(Long)
14:49:00 [scheduling-1] DEBUG c.t.s.h.s.p.m.M.query 135 - <==      Total: 7
14:49:00 [scheduling-1] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@39fc97cf]
14:49:00 [scheduling-1] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:49:00 [scheduling-1] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@55210773] was not registered for synchronization because synchronization is not active
14:49:00 [scheduling-1] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:49:00 [scheduling-1] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@7a56217a] will not be managed by Spring
14:49:00 [scheduling-1] DEBUG c.t.s.h.s.p.m.M.selectList 135 - ==>  Preparing: SELECT id,domain_id,tag_object_id,name,biz_name,description,database_id,status,created_at,created_by,updated_at,updated_by,depends,filter_sql,viewer,view_org,admin,admin_org,is_open,drill_down_dimensions,alias,source_type,ext FROM s2_model WHERE (status <> ? AND id IN (?,?,?,?,?,?,?))
14:49:00 [scheduling-1] DEBUG c.t.s.h.s.p.m.M.selectList 135 - ==> Parameters: 3(Integer), 2(Long), 3(Long), 2(Long), 2(Long), 4(Long), 4(Long), 4(Long)
14:49:00 [scheduling-1] DEBUG c.t.s.h.s.p.m.M.selectList 135 - <==      Total: 3
14:49:00 [scheduling-1] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@55210773]
14:49:00 [scheduling-1] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:49:00 [scheduling-1] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2392b129] was not registered for synchronization because synchronization is not active
14:49:00 [scheduling-1] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:49:00 [scheduling-1] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@7a56217a] will not be managed by Spring
14:49:00 [scheduling-1] DEBUG c.t.s.h.s.p.m.T.getTagDOList 135 - ==>  Preparing: select * from s2_tag WHERE item_id in ( ? , ? , ? , ? , ? , ? , ? ) and type = ?
14:49:00 [scheduling-1] DEBUG c.t.s.h.s.p.m.T.getTagDOList 135 - ==> Parameters: 1(Long), 2(Long), 3(Long), 4(Long), 5(Long), 6(Long), 7(Long), METRIC(String)
14:49:00 [scheduling-1] DEBUG c.t.s.h.s.p.m.T.getTagDOList 135 - <==      Total: 1
14:49:00 [scheduling-1] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2392b129]
14:49:00 [scheduling-1] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:49:00 [scheduling-1] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2f4eeb4b] was not registered for synchronization because synchronization is not active
14:49:00 [scheduling-1] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:49:00 [scheduling-1] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@7a56217a] will not be managed by Spring
14:49:00 [scheduling-1] DEBUG c.t.s.h.s.p.m.D.query 135 - ==>  Preparing: select * from s2_dimension t left join ( select * from s2_tag where type = 'DIMENSION' ) t1 on t.id = t1.item_id where status != 3 and t.status = ? and t.model_id in ( ? , ? , ? , ? )
14:49:00 [scheduling-1] DEBUG c.t.s.h.s.p.m.D.query 135 - ==> Parameters: 1(Integer), 1(Long), 2(Long), 3(Long), 4(Long)
14:49:00 [scheduling-1] DEBUG c.t.s.h.s.p.m.D.query 135 - <==      Total: 7
14:49:00 [scheduling-1] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2f4eeb4b]
14:49:00 [scheduling-1] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:49:00 [scheduling-1] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@fe6cb50] was not registered for synchronization because synchronization is not active
14:49:00 [scheduling-1] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:49:00 [scheduling-1] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@7a56217a] will not be managed by Spring
14:49:00 [scheduling-1] DEBUG c.t.s.h.s.p.m.M.selectList 135 - ==>  Preparing: SELECT id,domain_id,tag_object_id,name,biz_name,description,database_id,status,created_at,created_by,updated_at,updated_by,depends,filter_sql,viewer,view_org,admin,admin_org,is_open,drill_down_dimensions,alias,source_type,ext FROM s2_model WHERE (status <> ? AND id IN (?,?,?,?,?,?,?))
14:49:00 [scheduling-1] DEBUG c.t.s.h.s.p.m.M.selectList 135 - ==> Parameters: 3(Integer), 1(Long), 1(Long), 3(Long), 4(Long), 4(Long), 4(Long), 4(Long)
14:49:00 [scheduling-1] DEBUG c.t.s.h.s.p.m.M.selectList 135 - <==      Total: 3
14:49:00 [scheduling-1] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@fe6cb50]
14:49:00 [scheduling-1] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:49:00 [scheduling-1] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6e1db528] was not registered for synchronization because synchronization is not active
14:49:00 [scheduling-1] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:49:00 [scheduling-1] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@7a56217a] will not be managed by Spring
14:49:00 [scheduling-1] DEBUG c.t.s.h.s.p.m.T.getTagDOList 135 - ==>  Preparing: select * from s2_tag WHERE item_id in ( ? , ? , ? , ? , ? , ? , ? ) and type = ?
14:49:00 [scheduling-1] DEBUG c.t.s.h.s.p.m.T.getTagDOList 135 - ==> Parameters: 1(Long), 2(Long), 3(Long), 4(Long), 5(Long), 6(Long), 7(Long), DIMENSION(String)
14:49:00 [scheduling-1] DEBUG c.t.s.h.s.p.m.T.getTagDOList 135 - <==      Total: 5
14:49:00 [scheduling-1] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6e1db528]
14:49:00 [scheduling-1] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:49:00 [scheduling-1] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@37c696e7] was not registered for synchronization because synchronization is not active
14:49:00 [scheduling-1] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:49:00 [scheduling-1] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@7a56217a] will not be managed by Spring
14:49:00 [scheduling-1] DEBUG c.t.s.h.s.p.m.T.getTagDOList 135 - ==>  Preparing: select * from s2_tag WHERE item_id in ( ? , ? , ? , ? , ? , ? , ? ) and type = ?
14:49:00 [scheduling-1] DEBUG c.t.s.h.s.p.m.T.getTagDOList 135 - ==> Parameters: 1(Long), 2(Long), 3(Long), 4(Long), 5(Long), 6(Long), 7(Long), DIMENSION(String)
14:49:00 [scheduling-1] DEBUG c.t.s.h.s.p.m.T.getTagDOList 135 - <==      Total: 5
14:49:00 [scheduling-1] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@37c696e7]
14:49:00 [scheduling-1] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:49:00 [scheduling-1] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@a3e75bd] was not registered for synchronization because synchronization is not active
14:49:00 [scheduling-1] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:49:00 [scheduling-1] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@7a56217a] will not be managed by Spring
14:49:00 [scheduling-1] DEBUG c.t.s.h.s.p.m.M.selectList 135 - ==>  Preparing: SELECT id,domain_id,tag_object_id,name,biz_name,description,database_id,status,created_at,created_by,updated_at,updated_by,model_detail,depends,filter_sql,viewer,view_org,admin,admin_org,is_open,drill_down_dimensions,alias,source_type,ext FROM s2_model WHERE (status <> ? AND id IN (?,?,?,?) AND id IN (?,?,?,?))
14:49:00 [scheduling-1] DEBUG c.t.s.h.s.p.m.M.selectList 135 - ==> Parameters: 3(Integer), 1(Long), 2(Long), 3(Long), 4(Long), 1(Long), 2(Long), 3(Long), 4(Long)
14:49:00 [scheduling-1] DEBUG c.t.s.h.s.p.m.M.selectList 135 - <==      Total: 4
14:49:00 [scheduling-1] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@a3e75bd]
14:49:00 [scheduling-1] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:49:00 [scheduling-1] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1c9baaba] was not registered for synchronization because synchronization is not active
14:49:00 [scheduling-1] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:49:00 [scheduling-1] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@7a56217a] will not be managed by Spring
14:49:00 [scheduling-1] DEBUG c.t.s.h.s.p.m.M.query 135 - ==>  Preparing: select t.* from s2_metric t left join ( select * from s2_tag where type = 'METRIC' ) t1 on t.id = t1.item_id where t.status != 3 and t.biz_name like CONCAT('%',?,'%') and t.model_id in ( ? )
14:49:00 [scheduling-1] DEBUG c.t.s.h.s.p.m.M.query 135 - ==> Parameters: pv(String), 1(Long)
14:49:00 [scheduling-1] DEBUG c.t.s.h.s.p.m.M.query 135 - <==      Total: 0
14:49:00 [scheduling-1] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1c9baaba]
14:49:00 [scheduling-1] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:49:00 [scheduling-1] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2512b2ea] was not registered for synchronization because synchronization is not active
14:49:00 [scheduling-1] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:49:00 [scheduling-1] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@7a56217a] will not be managed by Spring
14:49:00 [scheduling-1] DEBUG c.t.s.h.s.p.m.M.selectList 135 - ==>  Preparing: SELECT id,domain_id,tag_object_id,name,biz_name,description,database_id,status,created_at,created_by,updated_at,updated_by,depends,filter_sql,viewer,view_org,admin,admin_org,is_open,drill_down_dimensions,alias,source_type,ext FROM s2_model WHERE (status <> ?)
14:49:00 [scheduling-1] DEBUG c.t.s.h.s.p.m.M.selectList 135 - ==> Parameters: 3(Integer)
14:49:00 [scheduling-1] DEBUG c.t.s.h.s.p.m.M.selectList 135 - <==      Total: 4
14:49:00 [scheduling-1] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2512b2ea]
14:49:00 [scheduling-1] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:49:00 [scheduling-1] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3090d333] was not registered for synchronization because synchronization is not active
14:49:00 [scheduling-1] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:49:00 [scheduling-1] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@7a56217a] will not be managed by Spring
14:49:00 [scheduling-1] DEBUG c.t.s.h.s.p.m.T.getTagDOList 135 - ==>  Preparing: select * from s2_tag WHERE type = ?
14:49:00 [scheduling-1] DEBUG c.t.s.h.s.p.m.T.getTagDOList 135 - ==> Parameters: METRIC(String)
14:49:00 [scheduling-1] DEBUG c.t.s.h.s.p.m.T.getTagDOList 135 - <==      Total: 1
14:49:00 [scheduling-1] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3090d333]
14:49:00 [scheduling-1] DEBUG c.t.s.h.s.w.s.impl.SchemaServiceImpl 451 - statInfos:[]
14:49:00 [scheduling-1] DEBUG c.t.s.h.s.w.s.impl.SchemaServiceImpl 273 - typeIdAndStatPair:{}
14:49:00 [scheduling-1] DEBUG c.t.s.h.s.w.s.impl.DictWordService 69 - nature type:DIMENSION , nature size:15
14:49:00 [scheduling-1] DEBUG c.t.s.h.s.w.s.impl.DictWordService 69 - nature type:METRIC , nature size:18
14:49:00 [scheduling-1] DEBUG c.t.s.h.s.w.s.impl.DictWordService 69 - nature type:ENTITY , nature size:4
14:49:00 [scheduling-1] DEBUG c.t.s.h.s.w.s.impl.DictWordService 69 - nature type:VALUE , nature size:0
14:49:00 [scheduling-1] DEBUG c.t.s.h.s.w.s.impl.DictWordService 69 - nature type:TERM , nature size:6
14:49:00 [scheduling-1] DEBUG c.t.s.h.s.w.s.impl.DictWordService 44 - Dictionary hasn't been reloaded.
14:49:00 [scheduling-1] DEBUG c.t.s.h.s.task.DictionaryReloadTask 45 - reloadKnowledge end
14:49:04 [scheduling-1] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:49:04 [scheduling-1] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@19fe7ada] was not registered for synchronization because synchronization is not active
14:49:04 [scheduling-1] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:49:04 [scheduling-1] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@7a56217a] will not be managed by Spring
14:49:04 [scheduling-1] DEBUG c.t.s.c.s.p.m.C.selectList 135 - ==>  Preparing: SELECT id,question,agent_id,db_schema,s2_sql,status,llm_review AS llmReviewRet,llm_comment AS llmReviewCmt,human_review AS humanReviewRet,human_comment AS humanReviewCmt,created_by,created_at,updated_by,updated_at FROM s2_chat_memory WHERE (status = ? AND llm_review IS NULL)
14:49:04 [scheduling-1] DEBUG c.t.s.c.s.p.m.C.selectList 135 - ==> Parameters: PENDING(String)
14:49:04 [scheduling-1] DEBUG c.t.s.c.s.p.m.C.selectList 135 - <==      Total: 0
14:49:04 [scheduling-1] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@19fe7ada]
14:50:00 [scheduling-1] DEBUG c.t.s.h.s.task.DictionaryReloadTask 39 - reloadKnowledge start
14:50:00 [scheduling-1] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:50:00 [scheduling-1] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@251a1150] was not registered for synchronization because synchronization is not active
14:50:00 [scheduling-1] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:50:00 [scheduling-1] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@7a56217a] will not be managed by Spring
14:50:00 [scheduling-1] DEBUG c.t.s.h.s.p.m.D.selectList 135 - ==>  Preparing: SELECT id,domain_id,name,biz_name,description,status,alias,data_set_detail,created_at,created_by,updated_at,updated_by,query_config,admin,admin_org FROM s2_data_set WHERE (status = ? AND status <> ?)
14:50:00 [scheduling-1] DEBUG c.t.s.h.s.p.m.D.selectList 135 - ==> Parameters: 1(Integer), 3(Integer)
14:50:00 [scheduling-1] DEBUG c.t.s.h.s.p.m.D.selectList 135 - <==      Total: 2
14:50:00 [scheduling-1] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@251a1150]
14:50:00 [scheduling-1] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:50:00 [scheduling-1] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@733d89d] was not registered for synchronization because synchronization is not active
14:50:00 [scheduling-1] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:50:00 [scheduling-1] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@7a56217a] will not be managed by Spring
14:50:00 [scheduling-1] DEBUG c.t.s.h.s.p.m.T.getTagDOList 135 - ==>  Preparing: select * from s2_tag WHERE item_id in ( ? , ? , ? ) and type = ?
14:50:00 [scheduling-1] DEBUG c.t.s.h.s.p.m.T.getTagDOList 135 - ==> Parameters: 1(Long), 2(Long), 3(Long), DIMENSION(String)
14:50:00 [scheduling-1] DEBUG c.t.s.h.s.p.m.T.getTagDOList 135 - <==      Total: 1
14:50:00 [scheduling-1] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@733d89d]
14:50:00 [scheduling-1] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:50:00 [scheduling-1] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@c2da9f6] was not registered for synchronization because synchronization is not active
14:50:00 [scheduling-1] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:50:00 [scheduling-1] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@7a56217a] will not be managed by Spring
14:50:00 [scheduling-1] DEBUG c.t.s.h.s.p.m.T.getTagDOList 135 - ==>  Preparing: select * from s2_tag WHERE item_id in ( ? , ? , ? , ? ) and type = ?
14:50:00 [scheduling-1] DEBUG c.t.s.h.s.p.m.T.getTagDOList 135 - ==> Parameters: 1(Long), 3(Long), 4(Long), 2(Long), METRIC(String)
14:50:00 [scheduling-1] DEBUG c.t.s.h.s.p.m.T.getTagDOList 135 - <==      Total: 0
14:50:00 [scheduling-1] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@c2da9f6]
14:50:00 [scheduling-1] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:50:00 [scheduling-1] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@62a302ac] was not registered for synchronization because synchronization is not active
14:50:00 [scheduling-1] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:50:00 [scheduling-1] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@7a56217a] will not be managed by Spring
14:50:00 [scheduling-1] DEBUG c.t.s.h.s.p.m.T.getTagDOList 135 - ==>  Preparing: select * from s2_tag WHERE item_id in ( ? , ? , ? , ? ) and type = ?
14:50:00 [scheduling-1] DEBUG c.t.s.h.s.p.m.T.getTagDOList 135 - ==> Parameters: 4(Long), 5(Long), 6(Long), 7(Long), DIMENSION(String)
14:50:00 [scheduling-1] DEBUG c.t.s.h.s.p.m.T.getTagDOList 135 - <==      Total: 4
14:50:00 [scheduling-1] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@62a302ac]
14:50:00 [scheduling-1] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:50:00 [scheduling-1] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3f437302] was not registered for synchronization because synchronization is not active
14:50:00 [scheduling-1] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:50:00 [scheduling-1] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@7a56217a] will not be managed by Spring
14:50:00 [scheduling-1] DEBUG c.t.s.h.s.p.m.T.getTagDOList 135 - ==>  Preparing: select * from s2_tag WHERE item_id in ( ? , ? , ? ) and type = ?
14:50:00 [scheduling-1] DEBUG c.t.s.h.s.p.m.T.getTagDOList 135 - ==> Parameters: 5(Long), 6(Long), 7(Long), METRIC(String)
14:50:00 [scheduling-1] DEBUG c.t.s.h.s.p.m.T.getTagDOList 135 - <==      Total: 1
14:50:00 [scheduling-1] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3f437302]
14:50:00 [scheduling-1] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:50:00 [scheduling-1] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@45876d4f] was not registered for synchronization because synchronization is not active
14:50:00 [scheduling-1] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:50:00 [scheduling-1] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@7a56217a] will not be managed by Spring
14:50:00 [scheduling-1] DEBUG c.t.s.h.s.p.m.TermMapper.selectList 135 - ==>  Preparing: SELECT id,domain_id,name,description,alias,related_metrics,related_dimensions,created_at,created_by,updated_at,updated_by FROM s2_term WHERE (domain_id IN (?,?))
14:50:00 [scheduling-1] DEBUG c.t.s.h.s.p.m.TermMapper.selectList 135 - ==> Parameters: 1(Long), 2(Long)
14:50:00 [scheduling-1] DEBUG c.t.s.h.s.p.m.TermMapper.selectList 135 - <==      Total: 2
14:50:00 [scheduling-1] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@45876d4f]
14:50:00 [scheduling-1] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:50:00 [scheduling-1] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@76452aac] was not registered for synchronization because synchronization is not active
14:50:00 [scheduling-1] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:50:00 [scheduling-1] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@7a56217a] will not be managed by Spring
14:50:00 [scheduling-1] DEBUG c.t.s.h.s.p.m.M.query 135 - ==>  Preparing: select t.* from s2_metric t left join ( select * from s2_tag where type = 'METRIC' ) t1 on t.id = t1.item_id where t.status != 3 and t.status = ? and t.model_id in ( ? , ? , ? , ? )
14:50:00 [scheduling-1] DEBUG c.t.s.h.s.p.m.M.query 135 - ==> Parameters: 1(Integer), 1(Long), 2(Long), 3(Long), 4(Long)
14:50:00 [scheduling-1] DEBUG c.t.s.h.s.p.m.M.query 135 - <==      Total: 7
14:50:00 [scheduling-1] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@76452aac]
14:50:00 [scheduling-1] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:50:00 [scheduling-1] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3060db44] was not registered for synchronization because synchronization is not active
14:50:00 [scheduling-1] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:50:00 [scheduling-1] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@7a56217a] will not be managed by Spring
14:50:00 [scheduling-1] DEBUG c.t.s.h.s.p.m.M.selectList 135 - ==>  Preparing: SELECT id,domain_id,tag_object_id,name,biz_name,description,database_id,status,created_at,created_by,updated_at,updated_by,depends,filter_sql,viewer,view_org,admin,admin_org,is_open,drill_down_dimensions,alias,source_type,ext FROM s2_model WHERE (status <> ? AND id IN (?,?,?,?,?,?,?))
14:50:00 [scheduling-1] DEBUG c.t.s.h.s.p.m.M.selectList 135 - ==> Parameters: 3(Integer), 2(Long), 3(Long), 2(Long), 2(Long), 4(Long), 4(Long), 4(Long)
14:50:00 [scheduling-1] DEBUG c.t.s.h.s.p.m.M.selectList 135 - <==      Total: 3
14:50:00 [scheduling-1] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3060db44]
14:50:00 [scheduling-1] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:50:00 [scheduling-1] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@695727bf] was not registered for synchronization because synchronization is not active
14:50:00 [scheduling-1] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:50:00 [scheduling-1] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@7a56217a] will not be managed by Spring
14:50:00 [scheduling-1] DEBUG c.t.s.h.s.p.m.T.getTagDOList 135 - ==>  Preparing: select * from s2_tag WHERE item_id in ( ? , ? , ? , ? , ? , ? , ? ) and type = ?
14:50:00 [scheduling-1] DEBUG c.t.s.h.s.p.m.T.getTagDOList 135 - ==> Parameters: 1(Long), 2(Long), 3(Long), 4(Long), 5(Long), 6(Long), 7(Long), METRIC(String)
14:50:00 [scheduling-1] DEBUG c.t.s.h.s.p.m.T.getTagDOList 135 - <==      Total: 1
14:50:00 [scheduling-1] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@695727bf]
14:50:00 [scheduling-1] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:50:00 [scheduling-1] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@8297314] was not registered for synchronization because synchronization is not active
14:50:00 [scheduling-1] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:50:00 [scheduling-1] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@7a56217a] will not be managed by Spring
14:50:00 [scheduling-1] DEBUG c.t.s.h.s.p.m.D.query 135 - ==>  Preparing: select * from s2_dimension t left join ( select * from s2_tag where type = 'DIMENSION' ) t1 on t.id = t1.item_id where status != 3 and t.status = ? and t.model_id in ( ? , ? , ? , ? )
14:50:00 [scheduling-1] DEBUG c.t.s.h.s.p.m.D.query 135 - ==> Parameters: 1(Integer), 1(Long), 2(Long), 3(Long), 4(Long)
14:50:00 [scheduling-1] DEBUG c.t.s.h.s.p.m.D.query 135 - <==      Total: 7
14:50:00 [scheduling-1] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@8297314]
14:50:00 [scheduling-1] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:50:00 [scheduling-1] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2d223773] was not registered for synchronization because synchronization is not active
14:50:00 [scheduling-1] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:50:00 [scheduling-1] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@7a56217a] will not be managed by Spring
14:50:00 [scheduling-1] DEBUG c.t.s.h.s.p.m.M.selectList 135 - ==>  Preparing: SELECT id,domain_id,tag_object_id,name,biz_name,description,database_id,status,created_at,created_by,updated_at,updated_by,depends,filter_sql,viewer,view_org,admin,admin_org,is_open,drill_down_dimensions,alias,source_type,ext FROM s2_model WHERE (status <> ? AND id IN (?,?,?,?,?,?,?))
14:50:00 [scheduling-1] DEBUG c.t.s.h.s.p.m.M.selectList 135 - ==> Parameters: 3(Integer), 1(Long), 1(Long), 3(Long), 4(Long), 4(Long), 4(Long), 4(Long)
14:50:00 [scheduling-1] DEBUG c.t.s.h.s.p.m.M.selectList 135 - <==      Total: 3
14:50:00 [scheduling-1] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2d223773]
14:50:00 [scheduling-1] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:50:00 [scheduling-1] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@79c99465] was not registered for synchronization because synchronization is not active
14:50:00 [scheduling-1] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:50:00 [scheduling-1] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@7a56217a] will not be managed by Spring
14:50:00 [scheduling-1] DEBUG c.t.s.h.s.p.m.T.getTagDOList 135 - ==>  Preparing: select * from s2_tag WHERE item_id in ( ? , ? , ? , ? , ? , ? , ? ) and type = ?
14:50:00 [scheduling-1] DEBUG c.t.s.h.s.p.m.T.getTagDOList 135 - ==> Parameters: 1(Long), 2(Long), 3(Long), 4(Long), 5(Long), 6(Long), 7(Long), DIMENSION(String)
14:50:00 [scheduling-1] DEBUG c.t.s.h.s.p.m.T.getTagDOList 135 - <==      Total: 5
14:50:00 [scheduling-1] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@79c99465]
14:50:00 [scheduling-1] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:50:00 [scheduling-1] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7c204dad] was not registered for synchronization because synchronization is not active
14:50:00 [scheduling-1] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:50:00 [scheduling-1] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@7a56217a] will not be managed by Spring
14:50:00 [scheduling-1] DEBUG c.t.s.h.s.p.m.T.getTagDOList 135 - ==>  Preparing: select * from s2_tag WHERE item_id in ( ? , ? , ? , ? , ? , ? , ? ) and type = ?
14:50:00 [scheduling-1] DEBUG c.t.s.h.s.p.m.T.getTagDOList 135 - ==> Parameters: 1(Long), 2(Long), 3(Long), 4(Long), 5(Long), 6(Long), 7(Long), DIMENSION(String)
14:50:00 [scheduling-1] DEBUG c.t.s.h.s.p.m.T.getTagDOList 135 - <==      Total: 5
14:50:00 [scheduling-1] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7c204dad]
14:50:00 [scheduling-1] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:50:00 [scheduling-1] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2c2eea62] was not registered for synchronization because synchronization is not active
14:50:00 [scheduling-1] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:50:00 [scheduling-1] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@7a56217a] will not be managed by Spring
14:50:00 [scheduling-1] DEBUG c.t.s.h.s.p.m.M.selectList 135 - ==>  Preparing: SELECT id,domain_id,tag_object_id,name,biz_name,description,database_id,status,created_at,created_by,updated_at,updated_by,model_detail,depends,filter_sql,viewer,view_org,admin,admin_org,is_open,drill_down_dimensions,alias,source_type,ext FROM s2_model WHERE (status <> ? AND id IN (?,?,?,?) AND id IN (?,?,?,?))
14:50:00 [scheduling-1] DEBUG c.t.s.h.s.p.m.M.selectList 135 - ==> Parameters: 3(Integer), 1(Long), 2(Long), 3(Long), 4(Long), 1(Long), 2(Long), 3(Long), 4(Long)
14:50:00 [scheduling-1] DEBUG c.t.s.h.s.p.m.M.selectList 135 - <==      Total: 4
14:50:00 [scheduling-1] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2c2eea62]
14:50:00 [scheduling-1] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:50:00 [scheduling-1] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@39e86a8e] was not registered for synchronization because synchronization is not active
14:50:00 [scheduling-1] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:50:00 [scheduling-1] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@7a56217a] will not be managed by Spring
14:50:00 [scheduling-1] DEBUG c.t.s.h.s.p.m.M.query 135 - ==>  Preparing: select t.* from s2_metric t left join ( select * from s2_tag where type = 'METRIC' ) t1 on t.id = t1.item_id where t.status != 3 and t.biz_name like CONCAT('%',?,'%') and t.model_id in ( ? )
14:50:00 [scheduling-1] DEBUG c.t.s.h.s.p.m.M.query 135 - ==> Parameters: pv(String), 1(Long)
14:50:00 [scheduling-1] DEBUG c.t.s.h.s.p.m.M.query 135 - <==      Total: 0
14:50:00 [scheduling-1] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@39e86a8e]
14:50:00 [scheduling-1] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:50:00 [scheduling-1] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@72d3e597] was not registered for synchronization because synchronization is not active
14:50:00 [scheduling-1] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:50:00 [scheduling-1] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@7a56217a] will not be managed by Spring
14:50:00 [scheduling-1] DEBUG c.t.s.h.s.p.m.M.selectList 135 - ==>  Preparing: SELECT id,domain_id,tag_object_id,name,biz_name,description,database_id,status,created_at,created_by,updated_at,updated_by,depends,filter_sql,viewer,view_org,admin,admin_org,is_open,drill_down_dimensions,alias,source_type,ext FROM s2_model WHERE (status <> ?)
14:50:00 [scheduling-1] DEBUG c.t.s.h.s.p.m.M.selectList 135 - ==> Parameters: 3(Integer)
14:50:00 [scheduling-1] DEBUG c.t.s.h.s.p.m.M.selectList 135 - <==      Total: 4
14:50:00 [scheduling-1] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@72d3e597]
14:50:00 [scheduling-1] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:50:00 [scheduling-1] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@17063e7e] was not registered for synchronization because synchronization is not active
14:50:00 [scheduling-1] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:50:00 [scheduling-1] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@7a56217a] will not be managed by Spring
14:50:00 [scheduling-1] DEBUG c.t.s.h.s.p.m.T.getTagDOList 135 - ==>  Preparing: select * from s2_tag WHERE type = ?
14:50:00 [scheduling-1] DEBUG c.t.s.h.s.p.m.T.getTagDOList 135 - ==> Parameters: METRIC(String)
14:50:00 [scheduling-1] DEBUG c.t.s.h.s.p.m.T.getTagDOList 135 - <==      Total: 1
14:50:00 [scheduling-1] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@17063e7e]
14:50:00 [scheduling-1] DEBUG c.t.s.h.s.w.s.impl.SchemaServiceImpl 451 - statInfos:[]
14:50:00 [scheduling-1] DEBUG c.t.s.h.s.w.s.impl.SchemaServiceImpl 273 - typeIdAndStatPair:{}
14:50:00 [scheduling-1] DEBUG c.t.s.h.s.w.s.impl.DictWordService 69 - nature type:DIMENSION , nature size:15
14:50:00 [scheduling-1] DEBUG c.t.s.h.s.w.s.impl.DictWordService 69 - nature type:METRIC , nature size:18
14:50:00 [scheduling-1] DEBUG c.t.s.h.s.w.s.impl.DictWordService 69 - nature type:ENTITY , nature size:4
14:50:00 [scheduling-1] DEBUG c.t.s.h.s.w.s.impl.DictWordService 69 - nature type:VALUE , nature size:0
14:50:00 [scheduling-1] DEBUG c.t.s.h.s.w.s.impl.DictWordService 69 - nature type:TERM , nature size:6
14:50:00 [scheduling-1] DEBUG c.t.s.h.s.w.s.impl.DictWordService 44 - Dictionary hasn't been reloaded.
14:50:00 [scheduling-1] DEBUG c.t.s.h.s.task.DictionaryReloadTask 45 - reloadKnowledge end
14:50:04 [scheduling-1] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:50:04 [scheduling-1] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@785aafa3] was not registered for synchronization because synchronization is not active
14:50:04 [scheduling-1] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:50:04 [scheduling-1] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@7a56217a] will not be managed by Spring
14:50:04 [scheduling-1] DEBUG c.t.s.c.s.p.m.C.selectList 135 - ==>  Preparing: SELECT id,question,agent_id,db_schema,s2_sql,status,llm_review AS llmReviewRet,llm_comment AS llmReviewCmt,human_review AS humanReviewRet,human_comment AS humanReviewCmt,created_by,created_at,updated_by,updated_at FROM s2_chat_memory WHERE (status = ? AND llm_review IS NULL)
14:50:04 [scheduling-1] DEBUG c.t.s.c.s.p.m.C.selectList 135 - ==> Parameters: PENDING(String)
14:50:04 [scheduling-1] DEBUG c.t.s.c.s.p.m.C.selectList 135 - <==      Total: 0
14:50:04 [scheduling-1] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@785aafa3]
```

从这些日志信息中，我们可以看到项目正在执行一系列数据库查询操作。这些日志是由MyBatis框架生成的，详细记录了SQL语句的准备、参数绑定和执行结果等过程。以下是日志的一些主要内容及其含义：

1. **JDBC连接管理**:
    
    ```kotlin
    14:49:00 [scheduling-1] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@7a56217a] will not be managed by Spring
    ```
    
    这表示Spring不会管理这个JDBC连接，可能是因为这是一个非事务性的操作。
    
2. **SQL会话创建与关闭**:
    
    ```makefile
    14:49:00 [scheduling-1] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
    14:49:00 [scheduling-1] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3a9e2c4c]
    ```
    
    这些日志显示MyBatis正在创建和关闭SQL会话。
    
3. **SQL查询准备和执行**:
    
    ```vbnet
    14:49:00 [scheduling-1] DEBUG c.t.s.h.s.p.m.T.getTagDOList 135 - ==>  Preparing: select * from s2_tag WHERE item_id in ( ? , ? , ? ) and type = ?
    14:49:00 [scheduling-1] DEBUG c.t.s.h.s.p.m.T.getTagDOList 135 - ==> Parameters: 5(Long), 6(Long), 7(Long), METRIC(String)
    14:49:00 [scheduling-1] DEBUG c.t.s.h.s.p.m.T.getTagDOList 135 - <==      Total: 1
    ```
    
    这部分日志显示MyBatis正在准备执行一个SQL查询，并且记录了SQL语句和参数。查询的结果返回了1条记录。
    
4. **多次执行不同的SQL查询**:
    
    ```vbnet
    14:49:00 [scheduling-1] DEBUG c.t.s.h.s.p.m.TermMapper.selectList 135 - ==>  Preparing: SELECT id,domain_id,name,description,alias,related_metrics,related_dimensions,created_at,created_by,updated_at,updated_by FROM s2_term WHERE (domain_id IN (?,?))
    14:49:00 [scheduling-1] DEBUG c.t.s.h.s.p.m.TermMapper.selectList 135 - ==> Parameters: 1(Long), 2(Long)
    14:49:00 [scheduling-1] DEBUG c.t.s.h.s.p.m.TermMapper.selectList 135 - <==      Total: 2
    ```
    
    这部分日志显示另一个SQL查询的准备和执行，查询返回了2条记录。
    
5. **字典重新加载任务**:
    
    ```makefile
    14:50:00 [scheduling-1] DEBUG c.t.s.h.s.task.DictionaryReloadTask 39 - reloadKnowledge start
    14:50:00 [scheduling-1] DEBUG c.t.s.h.s.task.DictionaryReloadTask 45 - reloadKnowledge end
    ```
    
    这些日志显示了一个名为“DictionaryReloadTask”的任务开始和结束。这个任务可能涉及重新加载某些配置或数据字典。
    
6. **处理聊天记录**:
    
    ```vbnet
    14:50:04 [scheduling-1] DEBUG c.t.s.c.s.p.m.C.selectList 135 - ==>  Preparing: SELECT id,question,agent_id,db_schema,s2_sql,status,llm_review AS llmReviewRet,llm_comment AS llmReviewCmt,human_review AS humanReviewRet,human_comment AS humanReviewCmt,created_by,created_at,updated_by,updated_at FROM s2_chat_memory WHERE (status = ? AND llm_review IS NULL)
    14:50:04 [scheduling-1] DEBUG c.t.s.c.s.p.m.C.selectList 135 - ==> Parameters: PENDING(String)
    14:50:04 [scheduling-1] DEBUG c.t.s.c.s.p.m.C.selectList 135 - <==      Total: 0
    ```
    
    这个查询是在一个名为“s2_chat_memory”的表中查找状态为PENDING且llm_review为空的记录。查询没有返回任何记录。
    

**总结**：
这些日志显示项目正在执行一系列数据库查询操作，包括从多个表中获取数据。这些操作可能是由某个定时任务触发的，如字典重新加载任务。虽然没有用户操作，但系统仍在后台执行这些预定任务，以确保数据的更新和一致性。

# 查询过程

## 1. 第一部分

```
14:56:29 [http-nio-9080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet 91 - POST "/api/chat/manage/pageQueryInfo?chatId=1", parameters={masked}
14:56:29 [http-nio-9080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping 522 - Mapped to com.tencent.supersonic.chat.server.rest.ChatController#pageQueryInfo(PageQueryInfoReq, long, HttpServletRequest, HttpServletResponse)
14:56:29 [http-nio-9080-exec-7] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor 91 - Read "application/json;charset=UTF-8" to [PageQueryInfoReq(current=2, pageSize=3, userName=null, ids=null)]
14:56:29 [http-nio-9080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:56:29 [http-nio-9080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@65d5ed2e] was not registered for synchronization because synchronization is not active
14:56:29 [http-nio-9080-exec-7] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:56:29 [http-nio-9080-exec-7] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@7a56217a] will not be managed by Spring
14:56:29 [http-nio-9080-exec-7] DEBUG c.t.s.c.p.m.S.selectList 135 - ==>  Preparing: SELECT id,parameters,admin FROM s2_system_config
14:56:29 [http-nio-9080-exec-7] DEBUG c.t.s.c.p.m.S.selectList 135 - ==> Parameters: 
14:56:29 [http-nio-9080-exec-7] DEBUG c.t.s.c.p.m.S.selectList 135 - <==      Total: 1
14:56:29 [http-nio-9080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@65d5ed2e]
14:56:29 [http-nio-9080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:56:29 [http-nio-9080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1deaacde] was not registered for synchronization because synchronization is not active
14:56:29 [http-nio-9080-exec-7] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:56:29 [http-nio-9080-exec-7] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@7a56217a] will not be managed by Spring
14:56:29 [http-nio-9080-exec-7] DEBUG c.t.s.c.s.p.m.C.selectList_COUNT 135 - ==>  Preparing: SELECT count(0) FROM s2_chat_query WHERE (chat_id = ? AND user_name = ?)
14:56:29 [http-nio-9080-exec-7] DEBUG c.t.s.c.s.p.m.C.selectList_COUNT 135 - ==> Parameters: 1(Long), admin(String)
14:56:29 [http-nio-9080-exec-7] DEBUG c.t.s.c.s.p.m.C.selectList_COUNT 135 - <==      Total: 1
14:56:29 [http-nio-9080-exec-7] DEBUG c.t.s.c.s.p.m.C.selectList 135 - ==>  Preparing: SELECT question_id,agent_id,create_time,user_name,query_state,chat_id,score,feedback,query_text,query_result,similar_queries,parse_time_cost FROM s2_chat_query WHERE (chat_id = ? AND user_name = ?) ORDER BY question_id DESC LIMIT ?, ?
14:56:29 [http-nio-9080-exec-7] DEBUG c.t.s.c.s.p.m.C.selectList 135 - ==> Parameters: 1(Long), admin(String), 3(Long), 3(Integer)
14:56:29 [http-nio-9080-exec-7] DEBUG c.t.s.c.s.p.m.C.selectList 135 - <==      Total: 3
14:56:29 [http-nio-9080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1deaacde]
14:56:29 [http-nio-9080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:56:29 [http-nio-9080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4eaa3f58] was not registered for synchronization because synchronization is not active
14:56:29 [http-nio-9080-exec-7] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:56:29 [http-nio-9080-exec-7] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@7a56217a] will not be managed by Spring
14:56:29 [http-nio-9080-exec-7] DEBUG c.t.s.c.s.p.m.C.getParseInfoList 135 - ==>  Preparing: select * from s2_chat_parse where question_id in ( ? , ? , ? )
14:56:29 [http-nio-9080-exec-7] DEBUG c.t.s.c.s.p.m.C.getParseInfoList 135 - ==> Parameters: 75(Long), 76(Long), 77(Long)
14:56:29 [http-nio-9080-exec-7] DEBUG c.t.s.c.s.p.m.C.getParseInfoList 135 - <==      Total: 8
14:56:29 [http-nio-9080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4eaa3f58]
14:56:29 [http-nio-9080-exec-7] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor 268 - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
14:56:29 [http-nio-9080-exec-7] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor 91 - Writing [ResultData(code=200, msg=success, data=PageInfo{pageNum=2, pageSize=3, size=0, startRow=0, endRow=0, (truncated)...]
14:56:29 [http-nio-9080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet 1131 - Completed 200 OK
14:56:29 [http-nio-9080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet 91 - POST "/api/chat/query/queryDimensionValue", parameters={}
14:56:29 [http-nio-9080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet 91 - POST "/api/chat/query/queryDimensionValue", parameters={}
14:56:29 [http-nio-9080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping 522 - Mapped to com.tencent.supersonic.chat.server.rest.ChatQueryController#queryDimensionValue(DimensionValueReq, HttpServletRequest, HttpServletResponse)
14:56:29 [http-nio-9080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping 522 - Mapped to com.tencent.supersonic.chat.server.rest.ChatQueryController#queryDimensionValue(DimensionValueReq, HttpServletRequest, HttpServletResponse)
14:56:29 [http-nio-9080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet 91 - POST "/api/chat/query/queryDimensionValue", parameters={}
14:56:29 [http-nio-9080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping 522 - Mapped to com.tencent.supersonic.chat.server.rest.ChatQueryController#queryDimensionValue(DimensionValueReq, HttpServletRequest, HttpServletResponse)
14:56:29 [http-nio-9080-exec-8] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor 91 - Read "application/json;charset=UTF-8" to [DimensionValueReq(agentId=1, elementID=1, modelId=null, bizName=department, value=, dataSetIds=null)]
14:56:29 [http-nio-9080-exec-10] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor 91 - Read "application/json;charset=UTF-8" to [DimensionValueReq(agentId=1, elementID=1, modelId=null, bizName=department, value=, dataSetIds=null)]
14:56:29 [http-nio-9080-exec-3] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor 91 - Read "application/json;charset=UTF-8" to [DimensionValueReq(agentId=1, elementID=1, modelId=null, bizName=department, value=, dataSetIds=null)]
14:56:29 [http-nio-9080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:56:29 [http-nio-9080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:56:29 [http-nio-9080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4bc77f1e] was not registered for synchronization because synchronization is not active
14:56:29 [http-nio-9080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@62903e85] was not registered for synchronization because synchronization is not active
14:56:29 [http-nio-9080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:56:29 [http-nio-9080-exec-10] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:56:29 [http-nio-9080-exec-8] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:56:29 [http-nio-9080-exec-10] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@7a56217a] will not be managed by Spring
14:56:29 [http-nio-9080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6a5bca00] was not registered for synchronization because synchronization is not active
14:56:29 [http-nio-9080-exec-10] DEBUG c.t.s.c.p.m.S.selectList 135 - ==>  Preparing: SELECT id,parameters,admin FROM s2_system_config
14:56:29 [http-nio-9080-exec-10] DEBUG c.t.s.c.p.m.S.selectList 135 - ==> Parameters: 
14:56:29 [http-nio-9080-exec-3] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:56:29 [http-nio-9080-exec-10] DEBUG c.t.s.c.p.m.S.selectList 135 - <==      Total: 1
14:56:29 [http-nio-9080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@62903e85]
14:56:29 [http-nio-9080-exec-3] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@7a56217a] will not be managed by Spring
14:56:29 [http-nio-9080-exec-3] DEBUG c.t.s.c.p.m.S.selectList 135 - ==>  Preparing: SELECT id,parameters,admin FROM s2_system_config
14:56:29 [http-nio-9080-exec-3] DEBUG c.t.s.c.p.m.S.selectList 135 - ==> Parameters: 
14:56:29 [http-nio-9080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:56:29 [http-nio-9080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@d88560f] was not registered for synchronization because synchronization is not active
14:56:29 [http-nio-9080-exec-10] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:56:29 [http-nio-9080-exec-3] DEBUG c.t.s.c.p.m.S.selectList 135 - <==      Total: 1
14:56:29 [http-nio-9080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6a5bca00]
14:56:29 [http-nio-9080-exec-10] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@7a56217a] will not be managed by Spring
14:56:29 [http-nio-9080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:56:29 [http-nio-9080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2f0b05eb] was not registered for synchronization because synchronization is not active
14:56:29 [http-nio-9080-exec-10] DEBUG c.t.s.c.s.p.m.A.selectById 135 - ==>  Preparing: SELECT id,name,description,status,examples,config,created_by,created_at,updated_by,updated_at,enable_search,llm_config,multi_turn_config,visual_config FROM s2_agent WHERE id=?
14:56:29 [http-nio-9080-exec-3] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:56:29 [http-nio-9080-exec-10] DEBUG c.t.s.c.s.p.m.A.selectById 135 - ==> Parameters: 1(Integer)
14:56:29 [http-nio-9080-exec-10] DEBUG c.t.s.c.s.p.m.A.selectById 135 - <==      Total: 1
14:56:29 [http-nio-9080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@d88560f]
14:56:29 [http-nio-9080-exec-3] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@7a56217a] will not be managed by Spring
14:56:29 [http-nio-9080-exec-3] DEBUG c.t.s.c.s.p.m.A.selectById 135 - ==>  Preparing: SELECT id,name,description,status,examples,config,created_by,created_at,updated_by,updated_at,enable_search,llm_config,multi_turn_config,visual_config FROM s2_agent WHERE id=?
14:56:29 [http-nio-9080-exec-3] DEBUG c.t.s.c.s.p.m.A.selectById 135 - ==> Parameters: 1(Integer)
14:56:29 [http-nio-9080-exec-3] DEBUG c.t.s.c.s.p.m.A.selectById 135 - <==      Total: 1
14:56:29 [http-nio-9080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2f0b05eb]
14:56:29 [http-nio-9080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:56:29 [http-nio-9080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:56:29 [http-nio-9080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6e10cd76] was not registered for synchronization because synchronization is not active
14:56:29 [http-nio-9080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3ff7edea] was not registered for synchronization because synchronization is not active
14:56:29 [http-nio-9080-exec-10] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:56:29 [http-nio-9080-exec-3] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:56:29 [http-nio-9080-exec-10] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@7a56217a] will not be managed by Spring
14:56:29 [http-nio-9080-exec-10] DEBUG c.t.s.h.s.p.m.D.selectById 135 - ==>  Preparing: SELECT id,model_id,name,biz_name,description,status,sensitive_level,type,created_at,created_by,updated_at,updated_by,semantic_type,alias,default_values,dim_value_maps,type_params,expr,data_type,is_tag,ext FROM s2_dimension WHERE id=?
14:56:29 [http-nio-9080-exec-10] DEBUG c.t.s.h.s.p.m.D.selectById 135 - ==> Parameters: 1(Long)
14:56:29 [http-nio-9080-exec-10] DEBUG c.t.s.h.s.p.m.D.selectById 135 - <==      Total: 1
14:56:29 [http-nio-9080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6e10cd76]
14:56:29 [http-nio-9080-exec-3] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@7a56217a] will not be managed by Spring
14:56:29 [http-nio-9080-exec-3] DEBUG c.t.s.h.s.p.m.D.selectById 135 - ==>  Preparing: SELECT id,model_id,name,biz_name,description,status,sensitive_level,type,created_at,created_by,updated_at,updated_by,semantic_type,alias,default_values,dim_value_maps,type_params,expr,data_type,is_tag,ext FROM s2_dimension WHERE id=?
14:56:29 [http-nio-9080-exec-3] DEBUG c.t.s.h.s.p.m.D.selectById 135 - ==> Parameters: 1(Long)
14:56:29 [http-nio-9080-exec-10] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor 268 - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
14:56:29 [http-nio-9080-exec-10] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor 91 - Writing [ResultData(code=200, msg=success, data=SemanticQueryResp(columns=[QueryColumn(name=null, type=CHAR,  (truncated)...]
14:56:29 [http-nio-9080-exec-3] DEBUG c.t.s.h.s.p.m.D.selectById 135 - <==      Total: 1
14:56:29 [http-nio-9080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3ff7edea]
14:56:29 [http-nio-9080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet 1131 - Completed 200 OK
14:56:29 [http-nio-9080-exec-3] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor 268 - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
14:56:29 [http-nio-9080-exec-3] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor 91 - Writing [ResultData(code=200, msg=success, data=SemanticQueryResp(columns=[QueryColumn(name=null, type=CHAR,  (truncated)...]
14:56:29 [http-nio-9080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet 1131 - Completed 200 OK
14:56:29 [http-nio-9080-exec-8] WARN  c.a.d.pool.DruidAbstractDataSource 1489 - discard long time none received connection. , jdbcUrl : jdbc:mysql://localhost:3306/supersonic?useUnicode=true&characterEncoding=UTF-8&useSSL=false&allowMultiQueries=true&allowPublicKeyRetrieval=true, version : 1.2.3, lastPacketReceivedIdleMillis : 1681303
14:56:29 [http-nio-9080-exec-8] DEBUG c.alibaba.druid.pool.DruidDataSource 1466 - skip not validate connection.
14:56:29 [http-nio-9080-exec-8] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@fb920f5] will not be managed by Spring
14:56:29 [http-nio-9080-exec-8] DEBUG c.t.s.c.p.m.S.selectList 135 - ==>  Preparing: SELECT id,parameters,admin FROM s2_system_config
14:56:29 [http-nio-9080-exec-8] DEBUG c.t.s.c.p.m.S.selectList 135 - ==> Parameters: 
14:56:29 [http-nio-9080-exec-8] DEBUG c.t.s.c.p.m.S.selectList 135 - <==      Total: 1
14:56:29 [http-nio-9080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4bc77f1e]
14:56:29 [http-nio-9080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:56:29 [http-nio-9080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@574ee694] was not registered for synchronization because synchronization is not active
14:56:29 [http-nio-9080-exec-8] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:56:29 [http-nio-9080-exec-8] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@fb920f5] will not be managed by Spring
14:56:29 [http-nio-9080-exec-8] DEBUG c.t.s.c.s.p.m.A.selectById 135 - ==>  Preparing: SELECT id,name,description,status,examples,config,created_by,created_at,updated_by,updated_at,enable_search,llm_config,multi_turn_config,visual_config FROM s2_agent WHERE id=?
14:56:29 [http-nio-9080-exec-8] DEBUG c.t.s.c.s.p.m.A.selectById 135 - ==> Parameters: 1(Integer)
14:56:29 [http-nio-9080-exec-8] DEBUG c.t.s.c.s.p.m.A.selectById 135 - <==      Total: 1
14:56:29 [http-nio-9080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@574ee694]
14:56:29 [http-nio-9080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:56:29 [http-nio-9080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6c079308] was not registered for synchronization because synchronization is not active
14:56:29 [http-nio-9080-exec-8] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:56:29 [http-nio-9080-exec-8] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@fb920f5] will not be managed by Spring
14:56:29 [http-nio-9080-exec-8] DEBUG c.t.s.h.s.p.m.D.selectById 135 - ==>  Preparing: SELECT id,model_id,name,biz_name,description,status,sensitive_level,type,created_at,created_by,updated_at,updated_by,semantic_type,alias,default_values,dim_value_maps,type_params,expr,data_type,is_tag,ext FROM s2_dimension WHERE id=?
14:56:29 [http-nio-9080-exec-8] DEBUG c.t.s.h.s.p.m.D.selectById 135 - ==> Parameters: 1(Long)
14:56:29 [http-nio-9080-exec-8] DEBUG c.t.s.h.s.p.m.D.selectById 135 - <==      Total: 1
14:56:29 [http-nio-9080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6c079308]
14:56:29 [http-nio-9080-exec-8] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor 268 - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
14:56:29 [http-nio-9080-exec-8] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor 91 - Writing [ResultData(code=200, msg=success, data=SemanticQueryResp(columns=[QueryColumn(name=null, type=CHAR,  (truncated)...]
14:56:29 [http-nio-9080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet 1131 - Completed 200 OK
14:56:30 [http-nio-9080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet 91 - POST "/api/chat/manage/pageQueryInfo?chatId=1", parameters={masked}
14:56:30 [http-nio-9080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping 522 - Mapped to com.tencent.supersonic.chat.server.rest.ChatController#pageQueryInfo(PageQueryInfoReq, long, HttpServletRequest, HttpServletResponse)
14:56:30 [http-nio-9080-exec-1] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor 91 - Read "application/json;charset=UTF-8" to [PageQueryInfoReq(current=3, pageSize=3, userName=null, ids=null)]
14:56:30 [http-nio-9080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:56:30 [http-nio-9080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2c26582f] was not registered for synchronization because synchronization is not active
14:56:30 [http-nio-9080-exec-1] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:56:30 [http-nio-9080-exec-1] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@fb920f5] will not be managed by Spring
14:56:30 [http-nio-9080-exec-1] DEBUG c.t.s.c.p.m.S.selectList 135 - ==>  Preparing: SELECT id,parameters,admin FROM s2_system_config
14:56:30 [http-nio-9080-exec-1] DEBUG c.t.s.c.p.m.S.selectList 135 - ==> Parameters: 
14:56:30 [http-nio-9080-exec-1] DEBUG c.t.s.c.p.m.S.selectList 135 - <==      Total: 1
14:56:30 [http-nio-9080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2c26582f]
14:56:30 [http-nio-9080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:56:30 [http-nio-9080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4a3e5889] was not registered for synchronization because synchronization is not active
14:56:30 [http-nio-9080-exec-1] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:56:30 [http-nio-9080-exec-1] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@fb920f5] will not be managed by Spring
14:56:30 [http-nio-9080-exec-1] DEBUG c.t.s.c.s.p.m.C.selectList_COUNT 135 - ==>  Preparing: SELECT count(0) FROM s2_chat_query WHERE (chat_id = ? AND user_name = ?)
14:56:30 [http-nio-9080-exec-1] DEBUG c.t.s.c.s.p.m.C.selectList_COUNT 135 - ==> Parameters: 1(Long), admin(String)
14:56:30 [http-nio-9080-exec-1] DEBUG c.t.s.c.s.p.m.C.selectList_COUNT 135 - <==      Total: 1
14:56:30 [http-nio-9080-exec-1] DEBUG c.t.s.c.s.p.m.C.selectList 135 - ==>  Preparing: SELECT question_id,agent_id,create_time,user_name,query_state,chat_id,score,feedback,query_text,query_result,similar_queries,parse_time_cost FROM s2_chat_query WHERE (chat_id = ? AND user_name = ?) ORDER BY question_id DESC LIMIT ?, ?
14:56:30 [http-nio-9080-exec-1] DEBUG c.t.s.c.s.p.m.C.selectList 135 - ==> Parameters: 1(Long), admin(String), 6(Long), 3(Integer)
14:56:30 [http-nio-9080-exec-1] DEBUG c.t.s.c.s.p.m.C.selectList 135 - <==      Total: 3
14:56:30 [http-nio-9080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4a3e5889]
14:56:30 [http-nio-9080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:56:30 [http-nio-9080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@654c0b54] was not registered for synchronization because synchronization is not active
14:56:30 [http-nio-9080-exec-1] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:56:30 [http-nio-9080-exec-1] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@fb920f5] will not be managed by Spring
14:56:30 [http-nio-9080-exec-1] DEBUG c.t.s.c.s.p.m.C.getParseInfoList 135 - ==>  Preparing: select * from s2_chat_parse where question_id in ( ? , ? , ? )
14:56:30 [http-nio-9080-exec-1] DEBUG c.t.s.c.s.p.m.C.getParseInfoList 135 - ==> Parameters: 70(Long), 72(Long), 74(Long)
14:56:30 [http-nio-9080-exec-1] DEBUG c.t.s.c.s.p.m.C.getParseInfoList 135 - <==      Total: 8
14:56:30 [http-nio-9080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@654c0b54]
14:56:30 [http-nio-9080-exec-1] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor 268 - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
14:56:30 [http-nio-9080-exec-1] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor 91 - Writing [ResultData(code=200, msg=success, data=PageInfo{pageNum=3, pageSize=3, size=0, startRow=0, endRow=0, (truncated)...]
14:56:30 [http-nio-9080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet 1131 - Completed 200 OK
14:56:31 [http-nio-9080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet 91 - POST "/api/chat/query/queryDimensionValue", parameters={}
14:56:31 [http-nio-9080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping 522 - Mapped to com.tencent.supersonic.chat.server.rest.ChatQueryController#queryDimensionValue(DimensionValueReq, HttpServletRequest, HttpServletResponse)
14:56:31 [http-nio-9080-exec-2] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor 91 - Read "application/json;charset=UTF-8" to [DimensionValueReq(agentId=1, elementID=1, modelId=null, bizName=department, value=, dataSetIds=null)]
14:56:31 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:56:31 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2bab0ae7] was not registered for synchronization because synchronization is not active
14:56:31 [http-nio-9080-exec-2] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:56:31 [http-nio-9080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@fb920f5] will not be managed by Spring
14:56:31 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==>  Preparing: SELECT id,parameters,admin FROM s2_system_config
14:56:31 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==> Parameters: 
14:56:31 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - <==      Total: 1
14:56:31 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2bab0ae7]
14:56:31 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:56:31 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6644016c] was not registered for synchronization because synchronization is not active
14:56:31 [http-nio-9080-exec-2] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:56:31 [http-nio-9080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@fb920f5] will not be managed by Spring
14:56:31 [http-nio-9080-exec-2] DEBUG c.t.s.c.s.p.m.A.selectById 135 - ==>  Preparing: SELECT id,name,description,status,examples,config,created_by,created_at,updated_by,updated_at,enable_search,llm_config,multi_turn_config,visual_config FROM s2_agent WHERE id=?
14:56:31 [http-nio-9080-exec-2] DEBUG c.t.s.c.s.p.m.A.selectById 135 - ==> Parameters: 1(Integer)
14:56:31 [http-nio-9080-exec-2] DEBUG c.t.s.c.s.p.m.A.selectById 135 - <==      Total: 1
14:56:31 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6644016c]
14:56:31 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:56:31 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@67ebf7fd] was not registered for synchronization because synchronization is not active
14:56:31 [http-nio-9080-exec-2] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:56:31 [http-nio-9080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@fb920f5] will not be managed by Spring
14:56:31 [http-nio-9080-exec-2] DEBUG c.t.s.h.s.p.m.D.selectById 135 - ==>  Preparing: SELECT id,model_id,name,biz_name,description,status,sensitive_level,type,created_at,created_by,updated_at,updated_by,semantic_type,alias,default_values,dim_value_maps,type_params,expr,data_type,is_tag,ext FROM s2_dimension WHERE id=?
14:56:31 [http-nio-9080-exec-2] DEBUG c.t.s.h.s.p.m.D.selectById 135 - ==> Parameters: 1(Long)
14:56:31 [http-nio-9080-exec-2] DEBUG c.t.s.h.s.p.m.D.selectById 135 - <==      Total: 1
14:56:31 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@67ebf7fd]
14:56:31 [http-nio-9080-exec-2] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor 268 - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
14:56:31 [http-nio-9080-exec-2] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor 91 - Writing [ResultData(code=200, msg=success, data=SemanticQueryResp(columns=[QueryColumn(name=null, type=CHAR,  (truncated)...]
14:56:31 [http-nio-9080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet 1131 - Completed 200 OK
14:56:33 [http-nio-9080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet 91 - POST "/api/chat/manage/pageQueryInfo?chatId=1", parameters={masked}
14:56:33 [http-nio-9080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping 522 - Mapped to com.tencent.supersonic.chat.server.rest.ChatController#pageQueryInfo(PageQueryInfoReq, long, HttpServletRequest, HttpServletResponse)
14:56:33 [http-nio-9080-exec-6] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor 91 - Read "application/json;charset=UTF-8" to [PageQueryInfoReq(current=4, pageSize=3, userName=null, ids=null)]
14:56:33 [http-nio-9080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:56:33 [http-nio-9080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4878117c] was not registered for synchronization because synchronization is not active
14:56:33 [http-nio-9080-exec-6] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:56:33 [http-nio-9080-exec-6] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@fb920f5] will not be managed by Spring
14:56:33 [http-nio-9080-exec-6] DEBUG c.t.s.c.p.m.S.selectList 135 - ==>  Preparing: SELECT id,parameters,admin FROM s2_system_config
14:56:33 [http-nio-9080-exec-6] DEBUG c.t.s.c.p.m.S.selectList 135 - ==> Parameters: 
14:56:33 [http-nio-9080-exec-6] DEBUG c.t.s.c.p.m.S.selectList 135 - <==      Total: 1
14:56:33 [http-nio-9080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4878117c]
14:56:33 [http-nio-9080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:56:33 [http-nio-9080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4dac3272] was not registered for synchronization because synchronization is not active
14:56:33 [http-nio-9080-exec-6] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:56:33 [http-nio-9080-exec-6] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@fb920f5] will not be managed by Spring
14:56:33 [http-nio-9080-exec-6] DEBUG c.t.s.c.s.p.m.C.selectList_COUNT 135 - ==>  Preparing: SELECT count(0) FROM s2_chat_query WHERE (chat_id = ? AND user_name = ?)
14:56:33 [http-nio-9080-exec-6] DEBUG c.t.s.c.s.p.m.C.selectList_COUNT 135 - ==> Parameters: 1(Long), admin(String)
14:56:33 [http-nio-9080-exec-6] DEBUG c.t.s.c.s.p.m.C.selectList_COUNT 135 - <==      Total: 1
14:56:33 [http-nio-9080-exec-6] DEBUG c.t.s.c.s.p.m.C.selectList 135 - ==>  Preparing: SELECT question_id,agent_id,create_time,user_name,query_state,chat_id,score,feedback,query_text,query_result,similar_queries,parse_time_cost FROM s2_chat_query WHERE (chat_id = ? AND user_name = ?) ORDER BY question_id DESC LIMIT ?, ?
14:56:33 [http-nio-9080-exec-6] DEBUG c.t.s.c.s.p.m.C.selectList 135 - ==> Parameters: 1(Long), admin(String), 9(Long), 3(Integer)
14:56:33 [http-nio-9080-exec-6] DEBUG c.t.s.c.s.p.m.C.selectList 135 - <==      Total: 3
14:56:33 [http-nio-9080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4dac3272]
14:56:33 [http-nio-9080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:56:33 [http-nio-9080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2b27edce] was not registered for synchronization because synchronization is not active
14:56:33 [http-nio-9080-exec-6] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:56:33 [http-nio-9080-exec-6] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@fb920f5] will not be managed by Spring
14:56:33 [http-nio-9080-exec-6] DEBUG c.t.s.c.s.p.m.C.getParseInfoList 135 - ==>  Preparing: select * from s2_chat_parse where question_id in ( ? , ? )
14:56:33 [http-nio-9080-exec-6] DEBUG c.t.s.c.s.p.m.C.getParseInfoList 135 - ==> Parameters: 67(Long), 68(Long)
14:56:33 [http-nio-9080-exec-6] DEBUG c.t.s.c.s.p.m.C.getParseInfoList 135 - <==      Total: 4
14:56:33 [http-nio-9080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2b27edce]
14:56:33 [http-nio-9080-exec-6] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor 268 - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
14:56:33 [http-nio-9080-exec-6] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor 91 - Writing [ResultData(code=200, msg=success, data=PageInfo{pageNum=4, pageSize=3, size=0, startRow=0, endRow=0, (truncated)...]
14:56:33 [http-nio-9080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet 1131 - Completed 200 OK
14:56:34 [http-nio-9080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet 91 - POST "/api/chat/manage/pageQueryInfo?chatId=1", parameters={masked}
14:56:34 [http-nio-9080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping 522 - Mapped to com.tencent.supersonic.chat.server.rest.ChatController#pageQueryInfo(PageQueryInfoReq, long, HttpServletRequest, HttpServletResponse)
14:56:34 [http-nio-9080-exec-5] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor 91 - Read "application/json;charset=UTF-8" to [PageQueryInfoReq(current=5, pageSize=3, userName=null, ids=null)]
14:56:34 [http-nio-9080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:56:34 [http-nio-9080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@34d15535] was not registered for synchronization because synchronization is not active
14:56:34 [http-nio-9080-exec-5] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:56:34 [http-nio-9080-exec-5] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@fb920f5] will not be managed by Spring
14:56:34 [http-nio-9080-exec-5] DEBUG c.t.s.c.p.m.S.selectList 135 - ==>  Preparing: SELECT id,parameters,admin FROM s2_system_config
14:56:34 [http-nio-9080-exec-5] DEBUG c.t.s.c.p.m.S.selectList 135 - ==> Parameters: 
14:56:34 [http-nio-9080-exec-5] DEBUG c.t.s.c.p.m.S.selectList 135 - <==      Total: 1
14:56:34 [http-nio-9080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@34d15535]
14:56:34 [http-nio-9080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:56:34 [http-nio-9080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6095006e] was not registered for synchronization because synchronization is not active
14:56:34 [http-nio-9080-exec-5] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:56:34 [http-nio-9080-exec-5] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@fb920f5] will not be managed by Spring
14:56:34 [http-nio-9080-exec-5] DEBUG c.t.s.c.s.p.m.C.selectList_COUNT 135 - ==>  Preparing: SELECT count(0) FROM s2_chat_query WHERE (chat_id = ? AND user_name = ?)
14:56:34 [http-nio-9080-exec-5] DEBUG c.t.s.c.s.p.m.C.selectList_COUNT 135 - ==> Parameters: 1(Long), admin(String)
14:56:34 [http-nio-9080-exec-5] DEBUG c.t.s.c.s.p.m.C.selectList_COUNT 135 - <==      Total: 1
14:56:34 [http-nio-9080-exec-5] DEBUG c.t.s.c.s.p.m.C.selectList 135 - ==>  Preparing: SELECT question_id,agent_id,create_time,user_name,query_state,chat_id,score,feedback,query_text,query_result,similar_queries,parse_time_cost FROM s2_chat_query WHERE (chat_id = ? AND user_name = ?) ORDER BY question_id DESC LIMIT ?, ?
14:56:34 [http-nio-9080-exec-5] DEBUG c.t.s.c.s.p.m.C.selectList 135 - ==> Parameters: 1(Long), admin(String), 12(Long), 3(Integer)
14:56:34 [http-nio-9080-exec-5] DEBUG c.t.s.c.s.p.m.C.selectList 135 - <==      Total: 3
14:56:34 [http-nio-9080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6095006e]
14:56:34 [http-nio-9080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:56:34 [http-nio-9080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@63c60d0f] was not registered for synchronization because synchronization is not active
14:56:34 [http-nio-9080-exec-5] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:56:34 [http-nio-9080-exec-5] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@fb920f5] will not be managed by Spring
14:56:34 [http-nio-9080-exec-5] DEBUG c.t.s.c.s.p.m.C.getParseInfoList 135 - ==>  Preparing: select * from s2_chat_parse where question_id in ( ? , ? , ? )
14:56:34 [http-nio-9080-exec-5] DEBUG c.t.s.c.s.p.m.C.getParseInfoList 135 - ==> Parameters: 60(Long), 61(Long), 66(Long)
14:56:34 [http-nio-9080-exec-5] DEBUG c.t.s.c.s.p.m.C.getParseInfoList 135 - <==      Total: 9
14:56:34 [http-nio-9080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@63c60d0f]
14:56:34 [http-nio-9080-exec-5] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor 268 - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
14:56:34 [http-nio-9080-exec-5] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor 91 - Writing [ResultData(code=200, msg=success, data=PageInfo{pageNum=5, pageSize=3, size=0, startRow=0, endRow=0, (truncated)...]
14:56:34 [http-nio-9080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet 1131 - Completed 200 OK
14:56:35 [http-nio-9080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet 91 - POST "/api/chat/query/queryDimensionValue", parameters={}
14:56:35 [http-nio-9080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping 522 - Mapped to com.tencent.supersonic.chat.server.rest.ChatQueryController#queryDimensionValue(DimensionValueReq, HttpServletRequest, HttpServletResponse)
14:56:35 [http-nio-9080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet 91 - POST "/api/chat/query/queryDimensionValue", parameters={}
14:56:35 [http-nio-9080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet 91 - POST "/api/chat/query/queryDimensionValue", parameters={}
14:56:35 [http-nio-9080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping 522 - Mapped to com.tencent.supersonic.chat.server.rest.ChatQueryController#queryDimensionValue(DimensionValueReq, HttpServletRequest, HttpServletResponse)
14:56:35 [http-nio-9080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping 522 - Mapped to com.tencent.supersonic.chat.server.rest.ChatQueryController#queryDimensionValue(DimensionValueReq, HttpServletRequest, HttpServletResponse)
14:56:35 [http-nio-9080-exec-4] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor 91 - Read "application/json;charset=UTF-8" to [DimensionValueReq(agentId=1, elementID=1, modelId=null, bizName=department, value=, dataSetIds=null)]
14:56:35 [http-nio-9080-exec-7] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor 91 - Read "application/json;charset=UTF-8" to [DimensionValueReq(agentId=1, elementID=2, modelId=null, bizName=user_name, value=, dataSetIds=null)]
14:56:35 [http-nio-9080-exec-9] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor 91 - Read "application/json;charset=UTF-8" to [DimensionValueReq(agentId=1, elementID=2, modelId=null, bizName=user_name, value=, dataSetIds=null)]
14:56:35 [http-nio-9080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:56:35 [http-nio-9080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:56:35 [http-nio-9080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:56:35 [http-nio-9080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5a867cbc] was not registered for synchronization because synchronization is not active
14:56:35 [http-nio-9080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@65ba140] was not registered for synchronization because synchronization is not active
14:56:35 [http-nio-9080-exec-4] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:56:35 [http-nio-9080-exec-4] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@fb920f5] will not be managed by Spring
14:56:35 [http-nio-9080-exec-4] DEBUG c.t.s.c.p.m.S.selectList 135 - ==>  Preparing: SELECT id,parameters,admin FROM s2_system_config
14:56:35 [http-nio-9080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@588bae47] was not registered for synchronization because synchronization is not active
14:56:35 [http-nio-9080-exec-4] DEBUG c.t.s.c.p.m.S.selectList 135 - ==> Parameters: 
14:56:35 [http-nio-9080-exec-9] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:56:35 [http-nio-9080-exec-7] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:56:35 [http-nio-9080-exec-9] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@12aee9e4] will not be managed by Spring
14:56:35 [http-nio-9080-exec-7] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@7a56217a] will not be managed by Spring
14:56:35 [http-nio-9080-exec-4] DEBUG c.t.s.c.p.m.S.selectList 135 - <==      Total: 1
14:56:35 [http-nio-9080-exec-9] DEBUG c.t.s.c.p.m.S.selectList 135 - ==>  Preparing: SELECT id,parameters,admin FROM s2_system_config
14:56:35 [http-nio-9080-exec-7] DEBUG c.t.s.c.p.m.S.selectList 135 - ==>  Preparing: SELECT id,parameters,admin FROM s2_system_config
14:56:35 [http-nio-9080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@65ba140]
14:56:35 [http-nio-9080-exec-9] DEBUG c.t.s.c.p.m.S.selectList 135 - ==> Parameters: 
14:56:35 [http-nio-9080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:56:35 [http-nio-9080-exec-7] DEBUG c.t.s.c.p.m.S.selectList 135 - ==> Parameters: 
14:56:35 [http-nio-9080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@51399ffe] was not registered for synchronization because synchronization is not active
14:56:35 [http-nio-9080-exec-4] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:56:35 [http-nio-9080-exec-4] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@fb920f5] will not be managed by Spring
14:56:35 [http-nio-9080-exec-4] DEBUG c.t.s.c.s.p.m.A.selectById 135 - ==>  Preparing: SELECT id,name,description,status,examples,config,created_by,created_at,updated_by,updated_at,enable_search,llm_config,multi_turn_config,visual_config FROM s2_agent WHERE id=?
14:56:35 [http-nio-9080-exec-4] DEBUG c.t.s.c.s.p.m.A.selectById 135 - ==> Parameters: 1(Integer)
14:56:35 [http-nio-9080-exec-9] DEBUG c.t.s.c.p.m.S.selectList 135 - <==      Total: 1
14:56:35 [http-nio-9080-exec-7] DEBUG c.t.s.c.p.m.S.selectList 135 - <==      Total: 1
14:56:35 [http-nio-9080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5a867cbc]
14:56:35 [http-nio-9080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@588bae47]
14:56:35 [http-nio-9080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:56:35 [http-nio-9080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@b0d3b73] was not registered for synchronization because synchronization is not active
14:56:35 [http-nio-9080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:56:35 [http-nio-9080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6344afec] was not registered for synchronization because synchronization is not active
14:56:35 [http-nio-9080-exec-7] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:56:35 [http-nio-9080-exec-9] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:56:35 [http-nio-9080-exec-7] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@7a56217a] will not be managed by Spring
14:56:35 [http-nio-9080-exec-9] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@12aee9e4] will not be managed by Spring
14:56:35 [http-nio-9080-exec-7] DEBUG c.t.s.c.s.p.m.A.selectById 135 - ==>  Preparing: SELECT id,name,description,status,examples,config,created_by,created_at,updated_by,updated_at,enable_search,llm_config,multi_turn_config,visual_config FROM s2_agent WHERE id=?
14:56:35 [http-nio-9080-exec-9] DEBUG c.t.s.c.s.p.m.A.selectById 135 - ==>  Preparing: SELECT id,name,description,status,examples,config,created_by,created_at,updated_by,updated_at,enable_search,llm_config,multi_turn_config,visual_config FROM s2_agent WHERE id=?
14:56:35 [http-nio-9080-exec-7] DEBUG c.t.s.c.s.p.m.A.selectById 135 - ==> Parameters: 1(Integer)
14:56:35 [http-nio-9080-exec-9] DEBUG c.t.s.c.s.p.m.A.selectById 135 - ==> Parameters: 1(Integer)
14:56:35 [http-nio-9080-exec-4] DEBUG c.t.s.c.s.p.m.A.selectById 135 - <==      Total: 1
14:56:35 [http-nio-9080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@51399ffe]
14:56:35 [http-nio-9080-exec-7] DEBUG c.t.s.c.s.p.m.A.selectById 135 - <==      Total: 1
14:56:35 [http-nio-9080-exec-9] DEBUG c.t.s.c.s.p.m.A.selectById 135 - <==      Total: 1
14:56:35 [http-nio-9080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@b0d3b73]
14:56:35 [http-nio-9080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6344afec]
14:56:35 [http-nio-9080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:56:35 [http-nio-9080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:56:35 [http-nio-9080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:56:35 [http-nio-9080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7bbbc6f4] was not registered for synchronization because synchronization is not active
14:56:35 [http-nio-9080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@59bf68d6] was not registered for synchronization because synchronization is not active
14:56:35 [http-nio-9080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4fb7ccb6] was not registered for synchronization because synchronization is not active
14:56:35 [http-nio-9080-exec-4] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:56:35 [http-nio-9080-exec-9] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:56:35 [http-nio-9080-exec-4] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@7a56217a] will not be managed by Spring
14:56:35 [http-nio-9080-exec-9] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@12aee9e4] will not be managed by Spring
14:56:35 [http-nio-9080-exec-4] DEBUG c.t.s.h.s.p.m.D.selectById 135 - ==>  Preparing: SELECT id,model_id,name,biz_name,description,status,sensitive_level,type,created_at,created_by,updated_at,updated_by,semantic_type,alias,default_values,dim_value_maps,type_params,expr,data_type,is_tag,ext FROM s2_dimension WHERE id=?
14:56:35 [http-nio-9080-exec-7] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:56:35 [http-nio-9080-exec-4] DEBUG c.t.s.h.s.p.m.D.selectById 135 - ==> Parameters: 1(Long)
14:56:35 [http-nio-9080-exec-7] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@fb920f5] will not be managed by Spring
14:56:35 [http-nio-9080-exec-9] DEBUG c.t.s.h.s.p.m.D.selectById 135 - ==>  Preparing: SELECT id,model_id,name,biz_name,description,status,sensitive_level,type,created_at,created_by,updated_at,updated_by,semantic_type,alias,default_values,dim_value_maps,type_params,expr,data_type,is_tag,ext FROM s2_dimension WHERE id=?
14:56:35 [http-nio-9080-exec-7] DEBUG c.t.s.h.s.p.m.D.selectById 135 - ==>  Preparing: SELECT id,model_id,name,biz_name,description,status,sensitive_level,type,created_at,created_by,updated_at,updated_by,semantic_type,alias,default_values,dim_value_maps,type_params,expr,data_type,is_tag,ext FROM s2_dimension WHERE id=?
14:56:35 [http-nio-9080-exec-9] DEBUG c.t.s.h.s.p.m.D.selectById 135 - ==> Parameters: 2(Long)
14:56:35 [http-nio-9080-exec-7] DEBUG c.t.s.h.s.p.m.D.selectById 135 - ==> Parameters: 2(Long)
14:56:35 [http-nio-9080-exec-4] DEBUG c.t.s.h.s.p.m.D.selectById 135 - <==      Total: 1
14:56:35 [http-nio-9080-exec-9] DEBUG c.t.s.h.s.p.m.D.selectById 135 - <==      Total: 1
14:56:35 [http-nio-9080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7bbbc6f4]
14:56:35 [http-nio-9080-exec-7] DEBUG c.t.s.h.s.p.m.D.selectById 135 - <==      Total: 1
14:56:35 [http-nio-9080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4fb7ccb6]
14:56:35 [http-nio-9080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@59bf68d6]
14:56:35 [http-nio-9080-exec-4] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor 268 - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
14:56:35 [http-nio-9080-exec-9] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor 268 - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
14:56:35 [http-nio-9080-exec-4] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor 91 - Writing [ResultData(code=200, msg=success, data=SemanticQueryResp(columns=[QueryColumn(name=null, type=CHAR,  (truncated)...]
14:56:35 [http-nio-9080-exec-9] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor 91 - Writing [ResultData(code=200, msg=success, data=SemanticQueryResp(columns=[QueryColumn(name=null, type=CHAR,  (truncated)...]
14:56:35 [http-nio-9080-exec-7] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor 268 - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
14:56:35 [http-nio-9080-exec-7] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor 91 - Writing [ResultData(code=200, msg=success, data=SemanticQueryResp(columns=[QueryColumn(name=null, type=CHAR,  (truncated)...]
14:56:35 [http-nio-9080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet 1131 - Completed 200 OK
14:56:35 [http-nio-9080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet 1131 - Completed 200 OK
14:56:35 [http-nio-9080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet 1131 - Completed 200 OK
```

### 关键日志节点分析

### 1. 请求映射和处理

```perl
14:56:29 [http-nio-9080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet 91 - POST "/api/chat/manage/pageQueryInfo?chatId=1", parameters={masked}
14:56:29 [http-nio-9080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping 522 - Mapped to com.tencent.supersonic.chat.server.rest.ChatController#pageQueryInfo(PageQueryInfoReq, long, HttpServletRequest, HttpServletResponse)
```

**分析**:

- 这里日志显示了一个POST请求被发送到`/api/chat/manage/pageQueryInfo?chatId=1`。
- `RequestMappingHandlerMapping`把这个请求映射到了`ChatController`的`pageQueryInfo`方法。
- 请求的参数（如`chatId`）被成功解析和掩码处理（出于安全原因），并传递给对应的方法。

### 2. 请求体读取

```perl
14:56:29 [http-nio-9080-exec-7] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor 91 - Read "application/json;charset=UTF-8" to [PageQueryInfoReq(current=2, pageSize=3, userName=null, ids=null)]
```

**分析**:

- `RequestResponseBodyMethodProcessor`负责读取请求体中的JSON数据，并将其转换为Java对象`PageQueryInfoReq`。
- 这里，JSON数据被成功解析为`PageQueryInfoReq`对象，包含`current=2, pageSize=3`等属性。

### 3. 数据库会话和SQL查询准备

```sql
14:56:29 [http-nio-9080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:56:29 [http-nio-9080-exec-7] DEBUG c.t.s.c.p.m.S.selectList 135 - ==>  Preparing: SELECT id,parameters,admin FROM s2_system_config
14:56:29 [http-nio-9080-exec-7] DEBUG c.t.s.c.p.m.S.selectList 135 - ==> Parameters:
14:56:29 [http-nio-9080-exec-7] DEBUG c.t.s.c.p.m.S.selectList 135 - <==      Total: 1
```

**分析**:

- MyBatis创建了一个新的`SqlSession`会话，用于处理数据库操作。
- `selectList`方法准备执行一个SQL查询：`SELECT id,parameters,admin FROM s2_system_config`。
- 日志显示查询准备完成，并且查询参数为空。
- 查询执行完毕后，返回了1条记录。

### 4. 另一SQL查询和分页处理

```sql
14:56:29 [http-nio-9080-exec-7] DEBUG c.t.s.c.s.p.m.C.selectList_COUNT 135 - ==>  Preparing: SELECT count(0) FROM s2_chat_query WHERE (chat_id = ? AND user_name = ?)
14:56:29 [http-nio-9080-exec-7] DEBUG c.t.s.c.s.p.m.C.selectList_COUNT 135 - ==> Parameters: 1(Long), admin(String)
14:56:29 [http-nio-9080-exec-7] DEBUG c.t.s.c.s.p.m.C.selectList_COUNT 135 - <==      Total: 1
```

**分析**:

- 这是另一个SQL查询，目的是统计符合条件的记录数。
- 查询：`SELECT count(0) FROM s2_chat_query WHERE (chat_id = ? AND user_name = ?)`，参数为`chat_id=1`和`user_name=admin`。
- 返回结果显示，有1条记录符合条件。

### 5. SQL查询和数据获取

```sql
14:56:29 [http-nio-9080-exec-7] DEBUG c.t.s.c.s.p.m.C.selectList 135 - ==>  Preparing: SELECT question_id,agent_id,create_time,user_name,query_state,chat_id,score,feedback,query_text,query_result,similar_queries,parse_time_cost FROM s2_chat_query WHERE (chat_id = ? AND user_name = ?) ORDER BY question_id DESC LIMIT ?, ?
14:56:29 [http-nio-9080-exec-7] DEBUG c.t.s.c.s.p.m.C.selectList 135 - ==> Parameters: 1(Long), admin(String), 3(Long), 3(Integer)
14:56:29 [http-nio-9080-exec-7] DEBUG c.t.s.c.s.p.m.C.selectList 135 - <==      Total: 3
```

**分析**:

- 这里执行的是一个带有分页的SQL查询：`SELECT ... FROM s2_chat_query WHERE (chat_id = ? AND user_name = ?) ORDER BY question_id DESC LIMIT ?, ?`。
- 参数包括`chat_id=1`、`user_name=admin`，以及分页参数`LIMIT 3, 3`。
- 查询返回了3条记录。

### 6. 关闭会话并生成响应

```perl
14:56:29 [http-nio-9080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1deaacde]
14:56:29 [http-nio-9080-exec-7] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor 91 - Writing [ResultData(code=200, msg=success, data=PageInfo{pageNum=2, pageSize=3, size=0, startRow=0, endRow=0, (truncated)...
14:56:29 [http-nio-9080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet 1131 - Completed 200 OK
```

**分析**:

- 数据库会话被关闭，确保资源被正确释放。
- `RequestResponseBodyMethodProcessor`开始生成响应，将数据写回客户端。
- 最终，`DispatcherServlet`完成了请求处理，返回HTTP 200 OK状态。

### 总结

1. **请求映射**：请求URL被成功映射到相应的控制器方法。
2. **请求体解析**：请求体中的JSON数据被解析为Java对象。
3. **数据库操作**：通过MyBatis与MySQL数据库进行交互，执行多次SQL查询，获取所需数据。
4. **会话管理**：创建和关闭`SqlSession`，确保数据库连接管理正确。
5. **生成响应**：将查询结果包装成响应对象，并返回给客户端。

## 2. 第二部分

```
14:56:36 [http-nio-9080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet 91 - POST "/api/chat/manage/pageQueryInfo?chatId=1", parameters={masked}
14:56:36 [http-nio-9080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping 522 - Mapped to com.tencent.supersonic.chat.server.rest.ChatController#pageQueryInfo(PageQueryInfoReq, long, HttpServletRequest, HttpServletResponse)
14:56:36 [http-nio-9080-exec-10] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor 91 - Read "application/json;charset=UTF-8" to [PageQueryInfoReq(current=6, pageSize=3, userName=null, ids=null)]
14:56:36 [http-nio-9080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:56:36 [http-nio-9080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@64794ed] was not registered for synchronization because synchronization is not active
14:56:36 [http-nio-9080-exec-10] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:56:36 [http-nio-9080-exec-10] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@fb920f5] will not be managed by Spring
14:56:36 [http-nio-9080-exec-10] DEBUG c.t.s.c.p.m.S.selectList 135 - ==>  Preparing: SELECT id,parameters,admin FROM s2_system_config
14:56:36 [http-nio-9080-exec-10] DEBUG c.t.s.c.p.m.S.selectList 135 - ==> Parameters: 
14:56:36 [http-nio-9080-exec-10] DEBUG c.t.s.c.p.m.S.selectList 135 - <==      Total: 1
14:56:36 [http-nio-9080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@64794ed]
14:56:36 [http-nio-9080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:56:36 [http-nio-9080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2f3a4a4a] was not registered for synchronization because synchronization is not active
14:56:36 [http-nio-9080-exec-10] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:56:36 [http-nio-9080-exec-10] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@fb920f5] will not be managed by Spring
14:56:36 [http-nio-9080-exec-10] DEBUG c.t.s.c.s.p.m.C.selectList_COUNT 135 - ==>  Preparing: SELECT count(0) FROM s2_chat_query WHERE (chat_id = ? AND user_name = ?)
14:56:36 [http-nio-9080-exec-10] DEBUG c.t.s.c.s.p.m.C.selectList_COUNT 135 - ==> Parameters: 1(Long), admin(String)
14:56:36 [http-nio-9080-exec-10] DEBUG c.t.s.c.s.p.m.C.selectList_COUNT 135 - <==      Total: 1
14:56:36 [http-nio-9080-exec-10] DEBUG c.t.s.c.s.p.m.C.selectList 135 - ==>  Preparing: SELECT question_id,agent_id,create_time,user_name,query_state,chat_id,score,feedback,query_text,query_result,similar_queries,parse_time_cost FROM s2_chat_query WHERE (chat_id = ? AND user_name = ?) ORDER BY question_id DESC LIMIT ?, ?
14:56:36 [http-nio-9080-exec-10] DEBUG c.t.s.c.s.p.m.C.selectList 135 - ==> Parameters: 1(Long), admin(String), 15(Long), 3(Integer)
14:56:36 [http-nio-9080-exec-10] DEBUG c.t.s.c.s.p.m.C.selectList 135 - <==      Total: 3
14:56:36 [http-nio-9080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2f3a4a4a]
14:56:36 [http-nio-9080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:56:36 [http-nio-9080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@58522151] was not registered for synchronization because synchronization is not active
14:56:36 [http-nio-9080-exec-10] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:56:36 [http-nio-9080-exec-10] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@fb920f5] will not be managed by Spring
14:56:36 [http-nio-9080-exec-10] DEBUG c.t.s.c.s.p.m.C.getParseInfoList 135 - ==>  Preparing: select * from s2_chat_parse where question_id in ( ? , ? , ? )
14:56:36 [http-nio-9080-exec-10] DEBUG c.t.s.c.s.p.m.C.getParseInfoList 135 - ==> Parameters: 57(Long), 58(Long), 59(Long)
14:56:36 [http-nio-9080-exec-10] DEBUG c.t.s.c.s.p.m.C.getParseInfoList 135 - <==      Total: 9
14:56:36 [http-nio-9080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@58522151]
14:56:36 [http-nio-9080-exec-10] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor 268 - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
14:56:36 [http-nio-9080-exec-10] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor 91 - Writing [ResultData(code=200, msg=success, data=PageInfo{pageNum=6, pageSize=3, size=0, startRow=0, endRow=0, (truncated)...]
14:56:36 [http-nio-9080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet 1131 - Completed 200 OK
14:56:36 [http-nio-9080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet 91 - POST "/api/chat/query/queryDimensionValue", parameters={}
14:56:36 [http-nio-9080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet 91 - POST "/api/chat/query/queryDimensionValue", parameters={}
14:56:36 [http-nio-9080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet 91 - POST "/api/chat/query/queryDimensionValue", parameters={}
14:56:36 [http-nio-9080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping 522 - Mapped to com.tencent.supersonic.chat.server.rest.ChatQueryController#queryDimensionValue(DimensionValueReq, HttpServletRequest, HttpServletResponse)
14:56:36 [http-nio-9080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping 522 - Mapped to com.tencent.supersonic.chat.server.rest.ChatQueryController#queryDimensionValue(DimensionValueReq, HttpServletRequest, HttpServletResponse)
14:56:36 [http-nio-9080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping 522 - Mapped to com.tencent.supersonic.chat.server.rest.ChatQueryController#queryDimensionValue(DimensionValueReq, HttpServletRequest, HttpServletResponse)
14:56:36 [http-nio-9080-exec-3] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor 91 - Read "application/json;charset=UTF-8" to [DimensionValueReq(agentId=1, elementID=1, modelId=null, bizName=department, value=, dataSetIds=null)]
14:56:36 [http-nio-9080-exec-1] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor 91 - Read "application/json;charset=UTF-8" to [DimensionValueReq(agentId=1, elementID=1, modelId=null, bizName=department, value=, dataSetIds=null)]
14:56:36 [http-nio-9080-exec-8] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor 91 - Read "application/json;charset=UTF-8" to [DimensionValueReq(agentId=1, elementID=1, modelId=null, bizName=department, value=, dataSetIds=null)]
14:56:36 [http-nio-9080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:56:36 [http-nio-9080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:56:36 [http-nio-9080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@20956e15] was not registered for synchronization because synchronization is not active
14:56:36 [http-nio-9080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:56:36 [http-nio-9080-exec-3] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:56:36 [http-nio-9080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@15d59fa0] was not registered for synchronization because synchronization is not active
14:56:36 [http-nio-9080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6f103aef] was not registered for synchronization because synchronization is not active
14:56:36 [http-nio-9080-exec-3] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@fb920f5] will not be managed by Spring
14:56:36 [http-nio-9080-exec-1] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:56:36 [http-nio-9080-exec-3] DEBUG c.t.s.c.p.m.S.selectList 135 - ==>  Preparing: SELECT id,parameters,admin FROM s2_system_config
14:56:36 [http-nio-9080-exec-1] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@12aee9e4] will not be managed by Spring
14:56:36 [http-nio-9080-exec-8] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:56:36 [http-nio-9080-exec-3] DEBUG c.t.s.c.p.m.S.selectList 135 - ==> Parameters: 
14:56:36 [http-nio-9080-exec-1] DEBUG c.t.s.c.p.m.S.selectList 135 - ==>  Preparing: SELECT id,parameters,admin FROM s2_system_config
14:56:36 [http-nio-9080-exec-8] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@7a56217a] will not be managed by Spring
14:56:36 [http-nio-9080-exec-1] DEBUG c.t.s.c.p.m.S.selectList 135 - ==> Parameters: 
14:56:36 [http-nio-9080-exec-8] DEBUG c.t.s.c.p.m.S.selectList 135 - ==>  Preparing: SELECT id,parameters,admin FROM s2_system_config
14:56:36 [http-nio-9080-exec-8] DEBUG c.t.s.c.p.m.S.selectList 135 - ==> Parameters: 
14:56:36 [http-nio-9080-exec-3] DEBUG c.t.s.c.p.m.S.selectList 135 - <==      Total: 1
14:56:36 [http-nio-9080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@20956e15]
14:56:36 [http-nio-9080-exec-1] DEBUG c.t.s.c.p.m.S.selectList 135 - <==      Total: 1
14:56:36 [http-nio-9080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6f103aef]
14:56:36 [http-nio-9080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:56:36 [http-nio-9080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:56:36 [http-nio-9080-exec-8] DEBUG c.t.s.c.p.m.S.selectList 135 - <==      Total: 1
14:56:36 [http-nio-9080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4bd43452] was not registered for synchronization because synchronization is not active
14:56:36 [http-nio-9080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@61a82214] was not registered for synchronization because synchronization is not active
14:56:36 [http-nio-9080-exec-3] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:56:36 [http-nio-9080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@15d59fa0]
14:56:36 [http-nio-9080-exec-1] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:56:36 [http-nio-9080-exec-3] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@12aee9e4] will not be managed by Spring
14:56:36 [http-nio-9080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:56:36 [http-nio-9080-exec-1] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@7a56217a] will not be managed by Spring
14:56:36 [http-nio-9080-exec-3] DEBUG c.t.s.c.s.p.m.A.selectById 135 - ==>  Preparing: SELECT id,name,description,status,examples,config,created_by,created_at,updated_by,updated_at,enable_search,llm_config,multi_turn_config,visual_config FROM s2_agent WHERE id=?
14:56:36 [http-nio-9080-exec-1] DEBUG c.t.s.c.s.p.m.A.selectById 135 - ==>  Preparing: SELECT id,name,description,status,examples,config,created_by,created_at,updated_by,updated_at,enable_search,llm_config,multi_turn_config,visual_config FROM s2_agent WHERE id=?
14:56:36 [http-nio-9080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@42b31f49] was not registered for synchronization because synchronization is not active
14:56:36 [http-nio-9080-exec-3] DEBUG c.t.s.c.s.p.m.A.selectById 135 - ==> Parameters: 1(Integer)
14:56:36 [http-nio-9080-exec-1] DEBUG c.t.s.c.s.p.m.A.selectById 135 - ==> Parameters: 1(Integer)
14:56:36 [http-nio-9080-exec-8] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:56:36 [http-nio-9080-exec-8] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@fb920f5] will not be managed by Spring
14:56:36 [http-nio-9080-exec-8] DEBUG c.t.s.c.s.p.m.A.selectById 135 - ==>  Preparing: SELECT id,name,description,status,examples,config,created_by,created_at,updated_by,updated_at,enable_search,llm_config,multi_turn_config,visual_config FROM s2_agent WHERE id=?
14:56:36 [http-nio-9080-exec-3] DEBUG c.t.s.c.s.p.m.A.selectById 135 - <==      Total: 1
14:56:36 [http-nio-9080-exec-8] DEBUG c.t.s.c.s.p.m.A.selectById 135 - ==> Parameters: 1(Integer)
14:56:36 [http-nio-9080-exec-1] DEBUG c.t.s.c.s.p.m.A.selectById 135 - <==      Total: 1
14:56:36 [http-nio-9080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4bd43452]
14:56:36 [http-nio-9080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@61a82214]
14:56:36 [http-nio-9080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:56:36 [http-nio-9080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:56:36 [http-nio-9080-exec-8] DEBUG c.t.s.c.s.p.m.A.selectById 135 - <==      Total: 1
14:56:36 [http-nio-9080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@e73ad0d] was not registered for synchronization because synchronization is not active
14:56:36 [http-nio-9080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1e9e2c88] was not registered for synchronization because synchronization is not active
14:56:36 [http-nio-9080-exec-1] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:56:36 [http-nio-9080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@42b31f49]
14:56:36 [http-nio-9080-exec-3] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:56:36 [http-nio-9080-exec-1] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@7a56217a] will not be managed by Spring
14:56:36 [http-nio-9080-exec-1] DEBUG c.t.s.h.s.p.m.D.selectById 135 - ==>  Preparing: SELECT id,model_id,name,biz_name,description,status,sensitive_level,type,created_at,created_by,updated_at,updated_by,semantic_type,alias,default_values,dim_value_maps,type_params,expr,data_type,is_tag,ext FROM s2_dimension WHERE id=?
14:56:36 [http-nio-9080-exec-3] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@fb920f5] will not be managed by Spring
14:56:36 [http-nio-9080-exec-1] DEBUG c.t.s.h.s.p.m.D.selectById 135 - ==> Parameters: 1(Long)
14:56:36 [http-nio-9080-exec-3] DEBUG c.t.s.h.s.p.m.D.selectById 135 - ==>  Preparing: SELECT id,model_id,name,biz_name,description,status,sensitive_level,type,created_at,created_by,updated_at,updated_by,semantic_type,alias,default_values,dim_value_maps,type_params,expr,data_type,is_tag,ext FROM s2_dimension WHERE id=?
14:56:36 [http-nio-9080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:56:36 [http-nio-9080-exec-3] DEBUG c.t.s.h.s.p.m.D.selectById 135 - ==> Parameters: 1(Long)
14:56:36 [http-nio-9080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4c021c32] was not registered for synchronization because synchronization is not active
14:56:36 [http-nio-9080-exec-1] DEBUG c.t.s.h.s.p.m.D.selectById 135 - <==      Total: 1
14:56:36 [http-nio-9080-exec-8] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:56:36 [http-nio-9080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@e73ad0d]
14:56:36 [http-nio-9080-exec-8] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@12aee9e4] will not be managed by Spring
14:56:36 [http-nio-9080-exec-1] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor 268 - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
14:56:36 [http-nio-9080-exec-8] DEBUG c.t.s.h.s.p.m.D.selectById 135 - ==>  Preparing: SELECT id,model_id,name,biz_name,description,status,sensitive_level,type,created_at,created_by,updated_at,updated_by,semantic_type,alias,default_values,dim_value_maps,type_params,expr,data_type,is_tag,ext FROM s2_dimension WHERE id=?
14:56:36 [http-nio-9080-exec-1] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor 91 - Writing [ResultData(code=200, msg=success, data=SemanticQueryResp(columns=[QueryColumn(name=null, type=CHAR,  (truncated)...]
14:56:36 [http-nio-9080-exec-3] DEBUG c.t.s.h.s.p.m.D.selectById 135 - <==      Total: 1
14:56:36 [http-nio-9080-exec-8] DEBUG c.t.s.h.s.p.m.D.selectById 135 - ==> Parameters: 1(Long)
14:56:36 [http-nio-9080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1e9e2c88]
14:56:36 [http-nio-9080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet 1131 - Completed 200 OK
14:56:36 [http-nio-9080-exec-3] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor 268 - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
14:56:36 [http-nio-9080-exec-8] DEBUG c.t.s.h.s.p.m.D.selectById 135 - <==      Total: 1
14:56:36 [http-nio-9080-exec-3] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor 91 - Writing [ResultData(code=200, msg=success, data=SemanticQueryResp(columns=[QueryColumn(name=null, type=CHAR,  (truncated)...]
14:56:36 [http-nio-9080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4c021c32]
14:56:36 [http-nio-9080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet 1131 - Completed 200 OK
14:56:36 [http-nio-9080-exec-8] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor 268 - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
14:56:36 [http-nio-9080-exec-8] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor 91 - Writing [ResultData(code=200, msg=success, data=SemanticQueryResp(columns=[QueryColumn(name=null, type=CHAR,  (truncated)...]
14:56:36 [http-nio-9080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet 1131 - Completed 200 OK
14:56:38 [http-nio-9080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet 91 - POST "/api/chat/manage/pageQueryInfo?chatId=1", parameters={masked}
14:56:38 [http-nio-9080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping 522 - Mapped to com.tencent.supersonic.chat.server.rest.ChatController#pageQueryInfo(PageQueryInfoReq, long, HttpServletRequest, HttpServletResponse)
14:56:38 [http-nio-9080-exec-2] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor 91 - Read "application/json;charset=UTF-8" to [PageQueryInfoReq(current=7, pageSize=3, userName=null, ids=null)]
14:56:38 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:56:38 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@461125b5] was not registered for synchronization because synchronization is not active
14:56:38 [http-nio-9080-exec-2] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:56:38 [http-nio-9080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@12aee9e4] will not be managed by Spring
14:56:38 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==>  Preparing: SELECT id,parameters,admin FROM s2_system_config
14:56:38 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==> Parameters: 
14:56:38 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - <==      Total: 1
14:56:38 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@461125b5]
14:56:38 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:56:38 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@45c51554] was not registered for synchronization because synchronization is not active
14:56:38 [http-nio-9080-exec-2] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:56:38 [http-nio-9080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@12aee9e4] will not be managed by Spring
14:56:38 [http-nio-9080-exec-2] DEBUG c.t.s.c.s.p.m.C.selectList_COUNT 135 - ==>  Preparing: SELECT count(0) FROM s2_chat_query WHERE (chat_id = ? AND user_name = ?)
14:56:38 [http-nio-9080-exec-2] DEBUG c.t.s.c.s.p.m.C.selectList_COUNT 135 - ==> Parameters: 1(Long), admin(String)
14:56:38 [http-nio-9080-exec-2] DEBUG c.t.s.c.s.p.m.C.selectList_COUNT 135 - <==      Total: 1
14:56:38 [http-nio-9080-exec-2] DEBUG c.t.s.c.s.p.m.C.selectList 135 - ==>  Preparing: SELECT question_id,agent_id,create_time,user_name,query_state,chat_id,score,feedback,query_text,query_result,similar_queries,parse_time_cost FROM s2_chat_query WHERE (chat_id = ? AND user_name = ?) ORDER BY question_id DESC LIMIT ?, ?
14:56:38 [http-nio-9080-exec-2] DEBUG c.t.s.c.s.p.m.C.selectList 135 - ==> Parameters: 1(Long), admin(String), 18(Long), 3(Integer)
14:56:38 [http-nio-9080-exec-2] DEBUG c.t.s.c.s.p.m.C.selectList 135 - <==      Total: 3
14:56:38 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@45c51554]
14:56:38 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:56:38 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@73bcd2fa] was not registered for synchronization because synchronization is not active
14:56:38 [http-nio-9080-exec-2] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:56:38 [http-nio-9080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@12aee9e4] will not be managed by Spring
14:56:38 [http-nio-9080-exec-2] DEBUG c.t.s.c.s.p.m.C.getParseInfoList 135 - ==>  Preparing: select * from s2_chat_parse where question_id in ( ? , ? , ? )
14:56:38 [http-nio-9080-exec-2] DEBUG c.t.s.c.s.p.m.C.getParseInfoList 135 - ==> Parameters: 53(Long), 55(Long), 56(Long)
14:56:38 [http-nio-9080-exec-2] DEBUG c.t.s.c.s.p.m.C.getParseInfoList 135 - <==      Total: 9
14:56:38 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@73bcd2fa]
14:56:38 [http-nio-9080-exec-2] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor 268 - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
14:56:38 [http-nio-9080-exec-2] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor 91 - Writing [ResultData(code=200, msg=success, data=PageInfo{pageNum=7, pageSize=3, size=0, startRow=0, endRow=0, (truncated)...]
14:56:38 [http-nio-9080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet 1131 - Completed 200 OK
14:56:42 [http-nio-9080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet 91 - POST "/api/chat/manage/pageQueryInfo?chatId=1", parameters={masked}
14:56:42 [http-nio-9080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping 522 - Mapped to com.tencent.supersonic.chat.server.rest.ChatController#pageQueryInfo(PageQueryInfoReq, long, HttpServletRequest, HttpServletResponse)
14:56:42 [http-nio-9080-exec-6] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor 91 - Read "application/json;charset=UTF-8" to [PageQueryInfoReq(current=8, pageSize=3, userName=null, ids=null)]
14:56:42 [http-nio-9080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:56:42 [http-nio-9080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@775f7da8] was not registered for synchronization because synchronization is not active
14:56:42 [http-nio-9080-exec-6] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:56:42 [http-nio-9080-exec-6] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@12aee9e4] will not be managed by Spring
14:56:42 [http-nio-9080-exec-6] DEBUG c.t.s.c.p.m.S.selectList 135 - ==>  Preparing: SELECT id,parameters,admin FROM s2_system_config
14:56:42 [http-nio-9080-exec-6] DEBUG c.t.s.c.p.m.S.selectList 135 - ==> Parameters: 
14:56:42 [http-nio-9080-exec-6] DEBUG c.t.s.c.p.m.S.selectList 135 - <==      Total: 1
14:56:42 [http-nio-9080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@775f7da8]
14:56:42 [http-nio-9080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:56:42 [http-nio-9080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@e086294] was not registered for synchronization because synchronization is not active
14:56:42 [http-nio-9080-exec-6] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:56:42 [http-nio-9080-exec-6] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@12aee9e4] will not be managed by Spring
14:56:42 [http-nio-9080-exec-6] DEBUG c.t.s.c.s.p.m.C.selectList_COUNT 135 - ==>  Preparing: SELECT count(0) FROM s2_chat_query WHERE (chat_id = ? AND user_name = ?)
14:56:42 [http-nio-9080-exec-6] DEBUG c.t.s.c.s.p.m.C.selectList_COUNT 135 - ==> Parameters: 1(Long), admin(String)
14:56:42 [http-nio-9080-exec-6] DEBUG c.t.s.c.s.p.m.C.selectList_COUNT 135 - <==      Total: 1
14:56:42 [http-nio-9080-exec-6] DEBUG c.t.s.c.s.p.m.C.selectList 135 - ==>  Preparing: SELECT question_id,agent_id,create_time,user_name,query_state,chat_id,score,feedback,query_text,query_result,similar_queries,parse_time_cost FROM s2_chat_query WHERE (chat_id = ? AND user_name = ?) ORDER BY question_id DESC LIMIT ?, ?
14:56:42 [http-nio-9080-exec-6] DEBUG c.t.s.c.s.p.m.C.selectList 135 - ==> Parameters: 1(Long), admin(String), 21(Long), 3(Integer)
14:56:42 [http-nio-9080-exec-6] DEBUG c.t.s.c.s.p.m.C.selectList 135 - <==      Total: 3
14:56:42 [http-nio-9080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@e086294]
14:56:42 [http-nio-9080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:56:42 [http-nio-9080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7f9d6072] was not registered for synchronization because synchronization is not active
14:56:42 [http-nio-9080-exec-6] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:56:42 [http-nio-9080-exec-6] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@12aee9e4] will not be managed by Spring
14:56:42 [http-nio-9080-exec-6] DEBUG c.t.s.c.s.p.m.C.getParseInfoList 135 - ==>  Preparing: select * from s2_chat_parse where question_id in ( ? , ? , ? )
14:56:42 [http-nio-9080-exec-6] DEBUG c.t.s.c.s.p.m.C.getParseInfoList 135 - ==> Parameters: 50(Long), 51(Long), 52(Long)
14:56:42 [http-nio-9080-exec-6] DEBUG c.t.s.c.s.p.m.C.getParseInfoList 135 - <==      Total: 9
14:56:42 [http-nio-9080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7f9d6072]
14:56:42 [http-nio-9080-exec-6] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor 268 - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
14:56:42 [http-nio-9080-exec-6] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor 91 - Writing [ResultData(code=200, msg=success, data=PageInfo{pageNum=8, pageSize=3, size=0, startRow=0, endRow=0, (truncated)...]
14:56:42 [http-nio-9080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet 1131 - Completed 200 OK
14:56:42 [http-nio-9080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet 91 - POST "/api/chat/query/queryDimensionValue", parameters={}
14:56:42 [http-nio-9080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping 522 - Mapped to com.tencent.supersonic.chat.server.rest.ChatQueryController#queryDimensionValue(DimensionValueReq, HttpServletRequest, HttpServletResponse)
14:56:42 [http-nio-9080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet 91 - POST "/api/chat/query/queryDimensionValue", parameters={}
14:56:42 [http-nio-9080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping 522 - Mapped to com.tencent.supersonic.chat.server.rest.ChatQueryController#queryDimensionValue(DimensionValueReq, HttpServletRequest, HttpServletResponse)
14:56:42 [http-nio-9080-exec-5] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor 91 - Read "application/json;charset=UTF-8" to [DimensionValueReq(agentId=1, elementID=2, modelId=null, bizName=user_name, value=, dataSetIds=null)]
14:56:42 [http-nio-9080-exec-4] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor 91 - Read "application/json;charset=UTF-8" to [DimensionValueReq(agentId=1, elementID=2, modelId=null, bizName=user_name, value=, dataSetIds=null)]
14:56:42 [http-nio-9080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:56:42 [http-nio-9080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:56:42 [http-nio-9080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@50b005f1] was not registered for synchronization because synchronization is not active
14:56:42 [http-nio-9080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@219f6b7d] was not registered for synchronization because synchronization is not active
14:56:42 [http-nio-9080-exec-5] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:56:42 [http-nio-9080-exec-5] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@12aee9e4] will not be managed by Spring
14:56:42 [http-nio-9080-exec-4] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:56:42 [http-nio-9080-exec-4] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@fb920f5] will not be managed by Spring
14:56:42 [http-nio-9080-exec-5] DEBUG c.t.s.c.p.m.S.selectList 135 - ==>  Preparing: SELECT id,parameters,admin FROM s2_system_config
14:56:42 [http-nio-9080-exec-4] DEBUG c.t.s.c.p.m.S.selectList 135 - ==>  Preparing: SELECT id,parameters,admin FROM s2_system_config
14:56:42 [http-nio-9080-exec-5] DEBUG c.t.s.c.p.m.S.selectList 135 - ==> Parameters: 
14:56:42 [http-nio-9080-exec-4] DEBUG c.t.s.c.p.m.S.selectList 135 - ==> Parameters: 
14:56:42 [http-nio-9080-exec-5] DEBUG c.t.s.c.p.m.S.selectList 135 - <==      Total: 1
14:56:42 [http-nio-9080-exec-4] DEBUG c.t.s.c.p.m.S.selectList 135 - <==      Total: 1
14:56:42 [http-nio-9080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@219f6b7d]
14:56:42 [http-nio-9080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@50b005f1]
14:56:42 [http-nio-9080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:56:42 [http-nio-9080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1eadb6be] was not registered for synchronization because synchronization is not active
14:56:42 [http-nio-9080-exec-5] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:56:42 [http-nio-9080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:56:42 [http-nio-9080-exec-5] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@fb920f5] will not be managed by Spring
14:56:42 [http-nio-9080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3fdc8f6d] was not registered for synchronization because synchronization is not active
14:56:42 [http-nio-9080-exec-5] DEBUG c.t.s.c.s.p.m.A.selectById 135 - ==>  Preparing: SELECT id,name,description,status,examples,config,created_by,created_at,updated_by,updated_at,enable_search,llm_config,multi_turn_config,visual_config FROM s2_agent WHERE id=?
14:56:42 [http-nio-9080-exec-4] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:56:42 [http-nio-9080-exec-5] DEBUG c.t.s.c.s.p.m.A.selectById 135 - ==> Parameters: 1(Integer)
14:56:42 [http-nio-9080-exec-4] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@12aee9e4] will not be managed by Spring
14:56:42 [http-nio-9080-exec-4] DEBUG c.t.s.c.s.p.m.A.selectById 135 - ==>  Preparing: SELECT id,name,description,status,examples,config,created_by,created_at,updated_by,updated_at,enable_search,llm_config,multi_turn_config,visual_config FROM s2_agent WHERE id=?
14:56:42 [http-nio-9080-exec-4] DEBUG c.t.s.c.s.p.m.A.selectById 135 - ==> Parameters: 1(Integer)
14:56:42 [http-nio-9080-exec-5] DEBUG c.t.s.c.s.p.m.A.selectById 135 - <==      Total: 1
14:56:42 [http-nio-9080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1eadb6be]
14:56:42 [http-nio-9080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:56:42 [http-nio-9080-exec-4] DEBUG c.t.s.c.s.p.m.A.selectById 135 - <==      Total: 1
14:56:42 [http-nio-9080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6cabf523] was not registered for synchronization because synchronization is not active
14:56:42 [http-nio-9080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3fdc8f6d]
14:56:42 [http-nio-9080-exec-5] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:56:42 [http-nio-9080-exec-5] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@12aee9e4] will not be managed by Spring
14:56:42 [http-nio-9080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:56:42 [http-nio-9080-exec-5] DEBUG c.t.s.h.s.p.m.D.selectById 135 - ==>  Preparing: SELECT id,model_id,name,biz_name,description,status,sensitive_level,type,created_at,created_by,updated_at,updated_by,semantic_type,alias,default_values,dim_value_maps,type_params,expr,data_type,is_tag,ext FROM s2_dimension WHERE id=?
14:56:42 [http-nio-9080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6435e76e] was not registered for synchronization because synchronization is not active
14:56:42 [http-nio-9080-exec-4] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:56:42 [http-nio-9080-exec-5] DEBUG c.t.s.h.s.p.m.D.selectById 135 - ==> Parameters: 2(Long)
14:56:42 [http-nio-9080-exec-4] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@fb920f5] will not be managed by Spring
14:56:42 [http-nio-9080-exec-4] DEBUG c.t.s.h.s.p.m.D.selectById 135 - ==>  Preparing: SELECT id,model_id,name,biz_name,description,status,sensitive_level,type,created_at,created_by,updated_at,updated_by,semantic_type,alias,default_values,dim_value_maps,type_params,expr,data_type,is_tag,ext FROM s2_dimension WHERE id=?
14:56:42 [http-nio-9080-exec-4] DEBUG c.t.s.h.s.p.m.D.selectById 135 - ==> Parameters: 2(Long)
14:56:42 [http-nio-9080-exec-5] DEBUG c.t.s.h.s.p.m.D.selectById 135 - <==      Total: 1
14:56:42 [http-nio-9080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6cabf523]
14:56:42 [http-nio-9080-exec-5] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor 268 - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
14:56:42 [http-nio-9080-exec-4] DEBUG c.t.s.h.s.p.m.D.selectById 135 - <==      Total: 1
14:56:42 [http-nio-9080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6435e76e]
14:56:42 [http-nio-9080-exec-5] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor 91 - Writing [ResultData(code=200, msg=success, data=SemanticQueryResp(columns=[QueryColumn(name=null, type=CHAR,  (truncated)...]
14:56:42 [http-nio-9080-exec-4] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor 268 - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
14:56:42 [http-nio-9080-exec-4] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor 91 - Writing [ResultData(code=200, msg=success, data=SemanticQueryResp(columns=[QueryColumn(name=null, type=CHAR,  (truncated)...]
14:56:42 [http-nio-9080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet 1131 - Completed 200 OK
14:56:42 [http-nio-9080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet 1131 - Completed 200 OK
14:56:45 [http-nio-9080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet 91 - POST "/api/chat/manage/pageQueryInfo?chatId=1", parameters={masked}
14:56:45 [http-nio-9080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping 522 - Mapped to com.tencent.supersonic.chat.server.rest.ChatController#pageQueryInfo(PageQueryInfoReq, long, HttpServletRequest, HttpServletResponse)
14:56:45 [http-nio-9080-exec-9] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor 91 - Read "application/json;charset=UTF-8" to [PageQueryInfoReq(current=9, pageSize=3, userName=null, ids=null)]
14:56:45 [http-nio-9080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:56:45 [http-nio-9080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@31fedc6c] was not registered for synchronization because synchronization is not active
14:56:45 [http-nio-9080-exec-9] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:56:45 [http-nio-9080-exec-9] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@fb920f5] will not be managed by Spring
14:56:45 [http-nio-9080-exec-9] DEBUG c.t.s.c.p.m.S.selectList 135 - ==>  Preparing: SELECT id,parameters,admin FROM s2_system_config
14:56:45 [http-nio-9080-exec-9] DEBUG c.t.s.c.p.m.S.selectList 135 - ==> Parameters: 
14:56:45 [http-nio-9080-exec-9] DEBUG c.t.s.c.p.m.S.selectList 135 - <==      Total: 1
14:56:45 [http-nio-9080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@31fedc6c]
14:56:45 [http-nio-9080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:56:45 [http-nio-9080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@72631959] was not registered for synchronization because synchronization is not active
14:56:45 [http-nio-9080-exec-9] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:56:45 [http-nio-9080-exec-9] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@fb920f5] will not be managed by Spring
14:56:45 [http-nio-9080-exec-9] DEBUG c.t.s.c.s.p.m.C.selectList_COUNT 135 - ==>  Preparing: SELECT count(0) FROM s2_chat_query WHERE (chat_id = ? AND user_name = ?)
14:56:45 [http-nio-9080-exec-9] DEBUG c.t.s.c.s.p.m.C.selectList_COUNT 135 - ==> Parameters: 1(Long), admin(String)
14:56:45 [http-nio-9080-exec-9] DEBUG c.t.s.c.s.p.m.C.selectList_COUNT 135 - <==      Total: 1
14:56:45 [http-nio-9080-exec-9] DEBUG c.t.s.c.s.p.m.C.selectList 135 - ==>  Preparing: SELECT question_id,agent_id,create_time,user_name,query_state,chat_id,score,feedback,query_text,query_result,similar_queries,parse_time_cost FROM s2_chat_query WHERE (chat_id = ? AND user_name = ?) ORDER BY question_id DESC LIMIT ?, ?
14:56:45 [http-nio-9080-exec-9] DEBUG c.t.s.c.s.p.m.C.selectList 135 - ==> Parameters: 1(Long), admin(String), 24(Long), 3(Integer)
14:56:45 [http-nio-9080-exec-9] DEBUG c.t.s.c.s.p.m.C.selectList 135 - <==      Total: 3
14:56:45 [http-nio-9080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@72631959]
14:56:45 [http-nio-9080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:56:45 [http-nio-9080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5d325781] was not registered for synchronization because synchronization is not active
14:56:45 [http-nio-9080-exec-9] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:56:45 [http-nio-9080-exec-9] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@fb920f5] will not be managed by Spring
14:56:45 [http-nio-9080-exec-9] DEBUG c.t.s.c.s.p.m.C.getParseInfoList 135 - ==>  Preparing: select * from s2_chat_parse where question_id in ( ? , ? , ? )
14:56:45 [http-nio-9080-exec-9] DEBUG c.t.s.c.s.p.m.C.getParseInfoList 135 - ==> Parameters: 46(Long), 48(Long), 49(Long)
14:56:45 [http-nio-9080-exec-9] DEBUG c.t.s.c.s.p.m.C.getParseInfoList 135 - <==      Total: 8
14:56:45 [http-nio-9080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5d325781]
14:56:45 [http-nio-9080-exec-9] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor 268 - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
14:56:45 [http-nio-9080-exec-9] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor 91 - Writing [ResultData(code=200, msg=success, data=PageInfo{pageNum=9, pageSize=3, size=0, startRow=0, endRow=0, (truncated)...]
14:56:45 [http-nio-9080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet 1131 - Completed 200 OK
14:56:51 [http-nio-9080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet 91 - POST "/api/chat/manage/pageQueryInfo?chatId=1", parameters={masked}
14:56:51 [http-nio-9080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping 522 - Mapped to com.tencent.supersonic.chat.server.rest.ChatController#pageQueryInfo(PageQueryInfoReq, long, HttpServletRequest, HttpServletResponse)
14:56:51 [http-nio-9080-exec-7] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor 91 - Read "application/json;charset=UTF-8" to [PageQueryInfoReq(current=10, pageSize=3, userName=null, ids=null)]
14:56:51 [http-nio-9080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:56:51 [http-nio-9080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@41889826] was not registered for synchronization because synchronization is not active
14:56:51 [http-nio-9080-exec-7] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:56:51 [http-nio-9080-exec-7] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@fb920f5] will not be managed by Spring
14:56:51 [http-nio-9080-exec-7] DEBUG c.t.s.c.p.m.S.selectList 135 - ==>  Preparing: SELECT id,parameters,admin FROM s2_system_config
14:56:51 [http-nio-9080-exec-7] DEBUG c.t.s.c.p.m.S.selectList 135 - ==> Parameters: 
14:56:51 [http-nio-9080-exec-7] DEBUG c.t.s.c.p.m.S.selectList 135 - <==      Total: 1
14:56:51 [http-nio-9080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@41889826]
14:56:51 [http-nio-9080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:56:51 [http-nio-9080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@38f3734c] was not registered for synchronization because synchronization is not active
14:56:51 [http-nio-9080-exec-7] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:56:51 [http-nio-9080-exec-7] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@fb920f5] will not be managed by Spring
14:56:51 [http-nio-9080-exec-7] DEBUG c.t.s.c.s.p.m.C.selectList_COUNT 135 - ==>  Preparing: SELECT count(0) FROM s2_chat_query WHERE (chat_id = ? AND user_name = ?)
14:56:51 [http-nio-9080-exec-7] DEBUG c.t.s.c.s.p.m.C.selectList_COUNT 135 - ==> Parameters: 1(Long), admin(String)
14:56:51 [http-nio-9080-exec-7] DEBUG c.t.s.c.s.p.m.C.selectList_COUNT 135 - <==      Total: 1
14:56:51 [http-nio-9080-exec-7] DEBUG c.t.s.c.s.p.m.C.selectList 135 - ==>  Preparing: SELECT question_id,agent_id,create_time,user_name,query_state,chat_id,score,feedback,query_text,query_result,similar_queries,parse_time_cost FROM s2_chat_query WHERE (chat_id = ? AND user_name = ?) ORDER BY question_id DESC LIMIT ?, ?
14:56:51 [http-nio-9080-exec-7] DEBUG c.t.s.c.s.p.m.C.selectList 135 - ==> Parameters: 1(Long), admin(String), 27(Long), 3(Integer)
14:56:51 [http-nio-9080-exec-7] DEBUG c.t.s.c.s.p.m.C.selectList 135 - <==      Total: 3
14:56:51 [http-nio-9080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@38f3734c]
14:56:51 [http-nio-9080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:56:51 [http-nio-9080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6c557fe5] was not registered for synchronization because synchronization is not active
14:56:51 [http-nio-9080-exec-7] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:56:51 [http-nio-9080-exec-7] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@fb920f5] will not be managed by Spring
14:56:51 [http-nio-9080-exec-7] DEBUG c.t.s.c.s.p.m.C.getParseInfoList 135 - ==>  Preparing: select * from s2_chat_parse where question_id in ( ? , ? , ? )
14:56:51 [http-nio-9080-exec-7] DEBUG c.t.s.c.s.p.m.C.getParseInfoList 135 - ==> Parameters: 28(Long), 29(Long), 30(Long)
14:56:51 [http-nio-9080-exec-7] DEBUG c.t.s.c.s.p.m.C.getParseInfoList 135 - <==      Total: 8
14:56:51 [http-nio-9080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6c557fe5]
14:56:51 [http-nio-9080-exec-7] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor 268 - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
14:56:51 [http-nio-9080-exec-7] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor 91 - Writing [ResultData(code=200, msg=success, data=PageInfo{pageNum=10, pageSize=3, size=0, startRow=0, endRow=0 (truncated)...]
14:56:51 [http-nio-9080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet 1131 - Completed 200 OK
14:56:57 [http-nio-9080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet 91 - POST "/api/chat/query/search", parameters={}
14:56:57 [http-nio-9080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping 522 - Mapped to com.tencent.supersonic.chat.server.rest.ChatQueryController#search(ChatParseReq, HttpServletRequest, HttpServletResponse)
14:56:57 [http-nio-9080-exec-10] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor 91 - Read "application/json;charset=UTF-8" to [ChatParseReq(queryText=超音速对比所有人, chatId=1, agentId=1, topN=10, user=null, queryFilters=null, saveAns (truncated)...]
14:56:57 [http-nio-9080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:56:57 [http-nio-9080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@bbb1e5c] was not registered for synchronization because synchronization is not active
14:56:57 [http-nio-9080-exec-10] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:56:57 [http-nio-9080-exec-10] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@fb920f5] will not be managed by Spring
14:56:57 [http-nio-9080-exec-10] DEBUG c.t.s.c.p.m.S.selectList 135 - ==>  Preparing: SELECT id,parameters,admin FROM s2_system_config
14:56:57 [http-nio-9080-exec-10] DEBUG c.t.s.c.p.m.S.selectList 135 - ==> Parameters: 
14:56:57 [http-nio-9080-exec-10] DEBUG c.t.s.c.p.m.S.selectList 135 - <==      Total: 1
14:56:57 [http-nio-9080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@bbb1e5c]
14:56:57 [http-nio-9080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:56:57 [http-nio-9080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1da81485] was not registered for synchronization because synchronization is not active
14:56:57 [http-nio-9080-exec-10] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:56:57 [http-nio-9080-exec-10] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@fb920f5] will not be managed by Spring
14:56:57 [http-nio-9080-exec-10] DEBUG c.t.s.c.s.p.m.A.selectById 135 - ==>  Preparing: SELECT id,name,description,status,examples,config,created_by,created_at,updated_by,updated_at,enable_search,llm_config,multi_turn_config,visual_config FROM s2_agent WHERE id=?
14:56:57 [http-nio-9080-exec-10] DEBUG c.t.s.c.s.p.m.A.selectById 135 - ==> Parameters: 1(Integer)
14:56:57 [http-nio-9080-exec-10] DEBUG c.t.s.c.s.p.m.A.selectById 135 - <==      Total: 1
14:56:57 [http-nio-9080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1da81485]
14:56:57 [http-nio-9080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:56:57 [http-nio-9080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@56bcb33f] was not registered for synchronization because synchronization is not active
14:56:57 [http-nio-9080-exec-10] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:56:57 [http-nio-9080-exec-10] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@fb920f5] will not be managed by Spring
14:56:57 [http-nio-9080-exec-10] DEBUG c.t.s.h.s.p.m.D.selectList 135 - ==>  Preparing: SELECT id,domain_id,name,biz_name,description,status,alias,data_set_detail,created_at,created_by,updated_at,updated_by,query_config,admin,admin_org FROM s2_data_set WHERE (status = ? AND status <> ?)
14:56:57 [http-nio-9080-exec-10] DEBUG c.t.s.h.s.p.m.D.selectList 135 - ==> Parameters: 1(Integer), 3(Integer)
14:56:57 [http-nio-9080-exec-10] DEBUG c.t.s.h.s.p.m.D.selectList 135 - <==      Total: 2
14:56:57 [http-nio-9080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@56bcb33f]
14:56:57 [http-nio-9080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:56:57 [http-nio-9080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2f96daf2] was not registered for synchronization because synchronization is not active
14:56:57 [http-nio-9080-exec-10] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:56:57 [http-nio-9080-exec-10] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@fb920f5] will not be managed by Spring
14:56:57 [http-nio-9080-exec-10] DEBUG c.t.s.h.s.p.m.T.getTagDOList 135 - ==>  Preparing: select * from s2_tag WHERE item_id in ( ? , ? , ? ) and type = ?
14:56:57 [http-nio-9080-exec-10] DEBUG c.t.s.h.s.p.m.T.getTagDOList 135 - ==> Parameters: 1(Long), 2(Long), 3(Long), DIMENSION(String)
14:56:57 [http-nio-9080-exec-10] DEBUG c.t.s.h.s.p.m.T.getTagDOList 135 - <==      Total: 1
14:56:57 [http-nio-9080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2f96daf2]
14:56:57 [http-nio-9080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:56:57 [http-nio-9080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5413d340] was not registered for synchronization because synchronization is not active
14:56:57 [http-nio-9080-exec-10] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:56:57 [http-nio-9080-exec-10] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@fb920f5] will not be managed by Spring
14:56:57 [http-nio-9080-exec-10] DEBUG c.t.s.h.s.p.m.T.getTagDOList 135 - ==>  Preparing: select * from s2_tag WHERE item_id in ( ? , ? , ? , ? ) and type = ?
14:56:57 [http-nio-9080-exec-10] DEBUG c.t.s.h.s.p.m.T.getTagDOList 135 - ==> Parameters: 1(Long), 3(Long), 4(Long), 2(Long), METRIC(String)
14:56:57 [http-nio-9080-exec-10] DEBUG c.t.s.h.s.p.m.T.getTagDOList 135 - <==      Total: 0
14:56:57 [http-nio-9080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5413d340]
14:56:57 [http-nio-9080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:56:57 [http-nio-9080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@641fa6fd] was not registered for synchronization because synchronization is not active
14:56:57 [http-nio-9080-exec-10] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:56:57 [http-nio-9080-exec-10] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@fb920f5] will not be managed by Spring
14:56:57 [http-nio-9080-exec-10] DEBUG c.t.s.h.s.p.m.T.getTagDOList 135 - ==>  Preparing: select * from s2_tag WHERE item_id in ( ? , ? , ? , ? ) and type = ?
14:56:57 [http-nio-9080-exec-10] DEBUG c.t.s.h.s.p.m.T.getTagDOList 135 - ==> Parameters: 4(Long), 5(Long), 6(Long), 7(Long), DIMENSION(String)
14:56:57 [http-nio-9080-exec-10] DEBUG c.t.s.h.s.p.m.T.getTagDOList 135 - <==      Total: 4
14:56:57 [http-nio-9080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@641fa6fd]
14:56:57 [http-nio-9080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:56:57 [http-nio-9080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@235d9d2b] was not registered for synchronization because synchronization is not active
14:56:57 [http-nio-9080-exec-10] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:56:57 [http-nio-9080-exec-10] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@fb920f5] will not be managed by Spring
14:56:57 [http-nio-9080-exec-10] DEBUG c.t.s.h.s.p.m.T.getTagDOList 135 - ==>  Preparing: select * from s2_tag WHERE item_id in ( ? , ? , ? ) and type = ?
14:56:57 [http-nio-9080-exec-10] DEBUG c.t.s.h.s.p.m.T.getTagDOList 135 - ==> Parameters: 5(Long), 6(Long), 7(Long), METRIC(String)
14:56:57 [http-nio-9080-exec-10] DEBUG c.t.s.h.s.p.m.T.getTagDOList 135 - <==      Total: 1
14:56:57 [http-nio-9080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@235d9d2b]
14:56:57 [http-nio-9080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:56:57 [http-nio-9080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@73fe2bdb] was not registered for synchronization because synchronization is not active
14:56:57 [http-nio-9080-exec-10] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:56:57 [http-nio-9080-exec-10] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@fb920f5] will not be managed by Spring
14:56:57 [http-nio-9080-exec-10] DEBUG c.t.s.h.s.p.m.TermMapper.selectList 135 - ==>  Preparing: SELECT id,domain_id,name,description,alias,related_metrics,related_dimensions,created_at,created_by,updated_at,updated_by FROM s2_term WHERE (domain_id IN (?,?))
14:56:57 [http-nio-9080-exec-10] DEBUG c.t.s.h.s.p.m.TermMapper.selectList 135 - ==> Parameters: 1(Long), 2(Long)
14:56:57 [http-nio-9080-exec-10] DEBUG c.t.s.h.s.p.m.TermMapper.selectList 135 - <==      Total: 2
14:56:57 [http-nio-9080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@73fe2bdb]
14:56:57 [http-nio-9080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:56:57 [http-nio-9080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3ce87829] was not registered for synchronization because synchronization is not active
14:56:57 [http-nio-9080-exec-10] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:56:57 [http-nio-9080-exec-10] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@fb920f5] will not be managed by Spring
14:56:57 [http-nio-9080-exec-10] DEBUG c.t.s.h.s.p.m.M.query 135 - ==>  Preparing: select t.* from s2_metric t left join ( select * from s2_tag where type = 'METRIC' ) t1 on t.id = t1.item_id where t.status != 3 and t.status = ? and t.model_id in ( ? , ? , ? , ? )
14:56:57 [http-nio-9080-exec-10] DEBUG c.t.s.h.s.p.m.M.query 135 - ==> Parameters: 1(Integer), 1(Long), 2(Long), 3(Long), 4(Long)
14:56:57 [http-nio-9080-exec-10] DEBUG c.t.s.h.s.p.m.M.query 135 - <==      Total: 7
14:56:57 [http-nio-9080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3ce87829]
14:56:57 [http-nio-9080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:56:57 [http-nio-9080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6384d42c] was not registered for synchronization because synchronization is not active
14:56:57 [http-nio-9080-exec-10] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:56:57 [http-nio-9080-exec-10] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@fb920f5] will not be managed by Spring
14:56:57 [http-nio-9080-exec-10] DEBUG c.t.s.h.s.p.m.M.selectList 135 - ==>  Preparing: SELECT id,domain_id,tag_object_id,name,biz_name,description,database_id,status,created_at,created_by,updated_at,updated_by,depends,filter_sql,viewer,view_org,admin,admin_org,is_open,drill_down_dimensions,alias,source_type,ext FROM s2_model WHERE (status <> ? AND id IN (?,?,?,?,?,?,?))
14:56:57 [http-nio-9080-exec-10] DEBUG c.t.s.h.s.p.m.M.selectList 135 - ==> Parameters: 3(Integer), 2(Long), 3(Long), 2(Long), 2(Long), 4(Long), 4(Long), 4(Long)
14:56:57 [http-nio-9080-exec-10] DEBUG c.t.s.h.s.p.m.M.selectList 135 - <==      Total: 3
14:56:57 [http-nio-9080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6384d42c]
14:56:57 [http-nio-9080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:56:57 [http-nio-9080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@77975157] was not registered for synchronization because synchronization is not active
14:56:57 [http-nio-9080-exec-10] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:56:57 [http-nio-9080-exec-10] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@fb920f5] will not be managed by Spring
14:56:57 [http-nio-9080-exec-10] DEBUG c.t.s.h.s.p.m.T.getTagDOList 135 - ==>  Preparing: select * from s2_tag WHERE item_id in ( ? , ? , ? , ? , ? , ? , ? ) and type = ?
14:56:57 [http-nio-9080-exec-10] DEBUG c.t.s.h.s.p.m.T.getTagDOList 135 - ==> Parameters: 1(Long), 2(Long), 3(Long), 4(Long), 5(Long), 6(Long), 7(Long), METRIC(String)
14:56:57 [http-nio-9080-exec-10] DEBUG c.t.s.h.s.p.m.T.getTagDOList 135 - <==      Total: 1
14:56:57 [http-nio-9080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@77975157]
14:56:57 [http-nio-9080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:56:57 [http-nio-9080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@67dd3ec1] was not registered for synchronization because synchronization is not active
14:56:57 [http-nio-9080-exec-10] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:56:57 [http-nio-9080-exec-10] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@fb920f5] will not be managed by Spring
14:56:57 [http-nio-9080-exec-10] DEBUG c.t.s.h.s.p.m.D.query 135 - ==>  Preparing: select * from s2_dimension t left join ( select * from s2_tag where type = 'DIMENSION' ) t1 on t.id = t1.item_id where status != 3 and t.status = ? and t.model_id in ( ? , ? , ? , ? )
14:56:57 [http-nio-9080-exec-10] DEBUG c.t.s.h.s.p.m.D.query 135 - ==> Parameters: 1(Integer), 1(Long), 2(Long), 3(Long), 4(Long)
14:56:57 [http-nio-9080-exec-10] DEBUG c.t.s.h.s.p.m.D.query 135 - <==      Total: 7
14:56:57 [http-nio-9080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@67dd3ec1]
14:56:57 [http-nio-9080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:56:57 [http-nio-9080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2884b881] was not registered for synchronization because synchronization is not active
14:56:57 [http-nio-9080-exec-10] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:56:57 [http-nio-9080-exec-10] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@fb920f5] will not be managed by Spring
14:56:57 [http-nio-9080-exec-10] DEBUG c.t.s.h.s.p.m.M.selectList 135 - ==>  Preparing: SELECT id,domain_id,tag_object_id,name,biz_name,description,database_id,status,created_at,created_by,updated_at,updated_by,depends,filter_sql,viewer,view_org,admin,admin_org,is_open,drill_down_dimensions,alias,source_type,ext FROM s2_model WHERE (status <> ? AND id IN (?,?,?,?,?,?,?))
14:56:57 [http-nio-9080-exec-10] DEBUG c.t.s.h.s.p.m.M.selectList 135 - ==> Parameters: 3(Integer), 1(Long), 1(Long), 3(Long), 4(Long), 4(Long), 4(Long), 4(Long)
14:56:57 [http-nio-9080-exec-10] DEBUG c.t.s.h.s.p.m.M.selectList 135 - <==      Total: 3
14:56:57 [http-nio-9080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2884b881]
14:56:57 [http-nio-9080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:56:57 [http-nio-9080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@690b8246] was not registered for synchronization because synchronization is not active
14:56:57 [http-nio-9080-exec-10] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:56:57 [http-nio-9080-exec-10] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@fb920f5] will not be managed by Spring
14:56:57 [http-nio-9080-exec-10] DEBUG c.t.s.h.s.p.m.T.getTagDOList 135 - ==>  Preparing: select * from s2_tag WHERE item_id in ( ? , ? , ? , ? , ? , ? , ? ) and type = ?
14:56:57 [http-nio-9080-exec-10] DEBUG c.t.s.h.s.p.m.T.getTagDOList 135 - ==> Parameters: 1(Long), 2(Long), 3(Long), 4(Long), 5(Long), 6(Long), 7(Long), DIMENSION(String)
14:56:57 [http-nio-9080-exec-10] DEBUG c.t.s.h.s.p.m.T.getTagDOList 135 - <==      Total: 5
14:56:57 [http-nio-9080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@690b8246]
14:56:57 [http-nio-9080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:56:57 [http-nio-9080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2351d2f8] was not registered for synchronization because synchronization is not active
14:56:57 [http-nio-9080-exec-10] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:56:57 [http-nio-9080-exec-10] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@fb920f5] will not be managed by Spring
14:56:57 [http-nio-9080-exec-10] DEBUG c.t.s.h.s.p.m.T.getTagDOList 135 - ==>  Preparing: select * from s2_tag WHERE item_id in ( ? , ? , ? , ? , ? , ? , ? ) and type = ?
14:56:57 [http-nio-9080-exec-10] DEBUG c.t.s.h.s.p.m.T.getTagDOList 135 - ==> Parameters: 1(Long), 2(Long), 3(Long), 4(Long), 5(Long), 6(Long), 7(Long), DIMENSION(String)
14:56:57 [http-nio-9080-exec-10] DEBUG c.t.s.h.s.p.m.T.getTagDOList 135 - <==      Total: 5
14:56:57 [http-nio-9080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2351d2f8]
14:56:57 [http-nio-9080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:56:57 [http-nio-9080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5dafc9f] was not registered for synchronization because synchronization is not active
14:56:57 [http-nio-9080-exec-10] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:56:57 [http-nio-9080-exec-10] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@fb920f5] will not be managed by Spring
14:56:57 [http-nio-9080-exec-10] DEBUG c.t.s.h.s.p.m.M.selectList 135 - ==>  Preparing: SELECT id,domain_id,tag_object_id,name,biz_name,description,database_id,status,created_at,created_by,updated_at,updated_by,model_detail,depends,filter_sql,viewer,view_org,admin,admin_org,is_open,drill_down_dimensions,alias,source_type,ext FROM s2_model WHERE (status <> ? AND id IN (?,?,?,?) AND id IN (?,?,?,?))
14:56:57 [http-nio-9080-exec-10] DEBUG c.t.s.h.s.p.m.M.selectList 135 - ==> Parameters: 3(Integer), 1(Long), 2(Long), 3(Long), 4(Long), 1(Long), 2(Long), 3(Long), 4(Long)
14:56:57 [http-nio-9080-exec-10] DEBUG c.t.s.h.s.p.m.M.selectList 135 - <==      Total: 4
14:56:57 [http-nio-9080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5dafc9f]
14:56:57 [http-nio-9080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:56:57 [http-nio-9080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@675a6275] was not registered for synchronization because synchronization is not active
14:56:57 [http-nio-9080-exec-10] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:56:57 [http-nio-9080-exec-10] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@fb920f5] will not be managed by Spring
14:56:57 [http-nio-9080-exec-10] DEBUG c.t.s.h.s.p.m.M.query 135 - ==>  Preparing: select t.* from s2_metric t left join ( select * from s2_tag where type = 'METRIC' ) t1 on t.id = t1.item_id where t.status != 3 and t.biz_name like CONCAT('%',?,'%') and t.model_id in ( ? )
14:56:57 [http-nio-9080-exec-10] DEBUG c.t.s.h.s.p.m.M.query 135 - ==> Parameters: pv(String), 1(Long)
14:56:57 [http-nio-9080-exec-10] DEBUG c.t.s.h.s.p.m.M.query 135 - <==      Total: 0
14:56:57 [http-nio-9080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@675a6275]
14:56:57 [http-nio-9080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:56:57 [http-nio-9080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@37c94cad] was not registered for synchronization because synchronization is not active
14:56:57 [http-nio-9080-exec-10] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:56:57 [http-nio-9080-exec-10] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@fb920f5] will not be managed by Spring
14:56:57 [http-nio-9080-exec-10] DEBUG c.t.s.h.s.p.m.M.selectList 135 - ==>  Preparing: SELECT id,domain_id,tag_object_id,name,biz_name,description,database_id,status,created_at,created_by,updated_at,updated_by,depends,filter_sql,viewer,view_org,admin,admin_org,is_open,drill_down_dimensions,alias,source_type,ext FROM s2_model WHERE (status <> ?)
14:56:57 [http-nio-9080-exec-10] DEBUG c.t.s.h.s.p.m.M.selectList 135 - ==> Parameters: 3(Integer)
14:56:57 [http-nio-9080-exec-10] DEBUG c.t.s.h.s.p.m.M.selectList 135 - <==      Total: 4
14:56:57 [http-nio-9080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@37c94cad]
14:56:57 [http-nio-9080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:56:57 [http-nio-9080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@443cefcd] was not registered for synchronization because synchronization is not active
14:56:57 [http-nio-9080-exec-10] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:56:57 [http-nio-9080-exec-10] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@fb920f5] will not be managed by Spring
14:56:57 [http-nio-9080-exec-10] DEBUG c.t.s.h.s.p.m.T.getTagDOList 135 - ==>  Preparing: select * from s2_tag WHERE type = ?
14:56:57 [http-nio-9080-exec-10] DEBUG c.t.s.h.s.p.m.T.getTagDOList 135 - ==> Parameters: METRIC(String)
14:56:57 [http-nio-9080-exec-10] DEBUG c.t.s.h.s.p.m.T.getTagDOList 135 - <==      Total: 1
14:56:57 [http-nio-9080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@443cefcd]
14:56:57 [http-nio-9080-exec-10] DEBUG c.t.s.h.s.w.s.impl.SchemaServiceImpl 451 - statInfos:[]
14:56:57 [http-nio-9080-exec-10] DEBUG c.t.s.h.s.w.s.impl.SchemaServiceImpl 273 - typeIdAndStatPair:{}
14:56:57 [http-nio-9080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:56:57 [http-nio-9080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5e7483ba] was not registered for synchronization because synchronization is not active
14:56:57 [http-nio-9080-exec-10] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:56:57 [http-nio-9080-exec-10] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@fb920f5] will not be managed by Spring
14:56:57 [http-nio-9080-exec-10] DEBUG c.t.s.h.s.p.m.D.selectList 135 - ==>  Preparing: SELECT id,domain_id,name,biz_name,description,status,alias,data_set_detail,created_at,created_by,updated_at,updated_by,query_config,admin,admin_org FROM s2_data_set WHERE (id IN (?,?) AND status = ? AND status <> ?)
14:56:57 [http-nio-9080-exec-10] DEBUG c.t.s.h.s.p.m.D.selectList 135 - ==> Parameters: 1(Long), 2(Long), 1(Integer), 3(Integer)
14:56:57 [http-nio-9080-exec-10] DEBUG c.t.s.h.s.p.m.D.selectList 135 - <==      Total: 2
14:56:57 [http-nio-9080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5e7483ba]
14:56:57 [http-nio-9080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:56:57 [http-nio-9080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7a63c03] was not registered for synchronization because synchronization is not active
14:56:57 [http-nio-9080-exec-10] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:56:57 [http-nio-9080-exec-10] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@fb920f5] will not be managed by Spring
14:56:57 [http-nio-9080-exec-10] DEBUG c.t.s.h.s.p.m.T.getTagDOList 135 - ==>  Preparing: select * from s2_tag WHERE item_id in ( ? , ? , ? ) and type = ?
14:56:57 [http-nio-9080-exec-10] DEBUG c.t.s.h.s.p.m.T.getTagDOList 135 - ==> Parameters: 1(Long), 2(Long), 3(Long), DIMENSION(String)
14:56:57 [http-nio-9080-exec-10] DEBUG c.t.s.h.s.p.m.T.getTagDOList 135 - <==      Total: 1
14:56:57 [http-nio-9080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7a63c03]
14:56:57 [http-nio-9080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:56:57 [http-nio-9080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5e6eae03] was not registered for synchronization because synchronization is not active
14:56:57 [http-nio-9080-exec-10] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:56:57 [http-nio-9080-exec-10] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@fb920f5] will not be managed by Spring
14:56:57 [http-nio-9080-exec-10] DEBUG c.t.s.h.s.p.m.T.getTagDOList 135 - ==>  Preparing: select * from s2_tag WHERE item_id in ( ? , ? , ? , ? ) and type = ?
14:56:57 [http-nio-9080-exec-10] DEBUG c.t.s.h.s.p.m.T.getTagDOList 135 - ==> Parameters: 1(Long), 3(Long), 4(Long), 2(Long), METRIC(String)
14:56:57 [http-nio-9080-exec-10] DEBUG c.t.s.h.s.p.m.T.getTagDOList 135 - <==      Total: 0
14:56:57 [http-nio-9080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5e6eae03]
14:56:57 [http-nio-9080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:56:57 [http-nio-9080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@76e9e3c2] was not registered for synchronization because synchronization is not active
14:56:57 [http-nio-9080-exec-10] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:56:57 [http-nio-9080-exec-10] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@fb920f5] will not be managed by Spring
14:56:57 [http-nio-9080-exec-10] DEBUG c.t.s.h.s.p.m.T.getTagDOList 135 - ==>  Preparing: select * from s2_tag WHERE item_id in ( ? , ? , ? , ? ) and type = ?
14:56:57 [http-nio-9080-exec-10] DEBUG c.t.s.h.s.p.m.T.getTagDOList 135 - ==> Parameters: 4(Long), 5(Long), 6(Long), 7(Long), DIMENSION(String)
14:56:57 [http-nio-9080-exec-10] DEBUG c.t.s.h.s.p.m.T.getTagDOList 135 - <==      Total: 4
14:56:57 [http-nio-9080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@76e9e3c2]
14:56:57 [http-nio-9080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:56:57 [http-nio-9080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@fa9c720] was not registered for synchronization because synchronization is not active
14:56:57 [http-nio-9080-exec-10] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:56:57 [http-nio-9080-exec-10] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@fb920f5] will not be managed by Spring
14:56:57 [http-nio-9080-exec-10] DEBUG c.t.s.h.s.p.m.T.getTagDOList 135 - ==>  Preparing: select * from s2_tag WHERE item_id in ( ? , ? , ? ) and type = ?
14:56:57 [http-nio-9080-exec-10] DEBUG c.t.s.h.s.p.m.T.getTagDOList 135 - ==> Parameters: 5(Long), 6(Long), 7(Long), METRIC(String)
14:56:57 [http-nio-9080-exec-10] DEBUG c.t.s.h.s.p.m.T.getTagDOList 135 - <==      Total: 1
14:56:57 [http-nio-9080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@fa9c720]
14:56:57 [http-nio-9080-exec-10] DEBUG c.t.s.h.s.f.s.i.RetrieveServiceImpl 78 - hanlp parse result: []
14:56:57 [http-nio-9080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:56:57 [http-nio-9080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5ba11ed9] was not registered for synchronization because synchronization is not active
14:56:57 [http-nio-9080-exec-10] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:56:57 [http-nio-9080-exec-10] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@fb920f5] will not be managed by Spring
14:56:57 [http-nio-9080-exec-10] DEBUG c.t.s.h.s.p.m.D.selectList 135 - ==>  Preparing: SELECT id,domain_id,name,biz_name,description,status,alias,data_set_detail,created_at,created_by,updated_at,updated_by,query_config,admin,admin_org FROM s2_data_set WHERE (status = ? AND status <> ?)
14:56:57 [http-nio-9080-exec-10] DEBUG c.t.s.h.s.p.m.D.selectList 135 - ==> Parameters: 1(Integer), 3(Integer)
14:56:57 [http-nio-9080-exec-10] DEBUG c.t.s.h.s.p.m.D.selectList 135 - <==      Total: 2
14:56:57 [http-nio-9080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5ba11ed9]
14:56:57 [http-nio-9080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:56:57 [http-nio-9080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@63f558db] was not registered for synchronization because synchronization is not active
14:56:57 [http-nio-9080-exec-10] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:56:57 [http-nio-9080-exec-10] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@fb920f5] will not be managed by Spring
14:56:57 [http-nio-9080-exec-10] DEBUG c.t.s.h.s.p.m.T.getTagDOList 135 - ==>  Preparing: select * from s2_tag WHERE item_id in ( ? , ? , ? ) and type = ?
14:56:57 [http-nio-9080-exec-10] DEBUG c.t.s.h.s.p.m.T.getTagDOList 135 - ==> Parameters: 1(Long), 2(Long), 3(Long), DIMENSION(String)
14:56:57 [http-nio-9080-exec-10] DEBUG c.t.s.h.s.p.m.T.getTagDOList 135 - <==      Total: 1
14:56:57 [http-nio-9080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@63f558db]
14:56:57 [http-nio-9080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:56:57 [http-nio-9080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@524058a6] was not registered for synchronization because synchronization is not active
14:56:57 [http-nio-9080-exec-10] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:56:57 [http-nio-9080-exec-10] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@fb920f5] will not be managed by Spring
14:56:57 [http-nio-9080-exec-10] DEBUG c.t.s.h.s.p.m.T.getTagDOList 135 - ==>  Preparing: select * from s2_tag WHERE item_id in ( ? , ? , ? , ? ) and type = ?
14:56:57 [http-nio-9080-exec-10] DEBUG c.t.s.h.s.p.m.T.getTagDOList 135 - ==> Parameters: 1(Long), 3(Long), 4(Long), 2(Long), METRIC(String)
14:56:57 [http-nio-9080-exec-10] DEBUG c.t.s.h.s.p.m.T.getTagDOList 135 - <==      Total: 0
14:56:57 [http-nio-9080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@524058a6]
14:56:57 [http-nio-9080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:56:57 [http-nio-9080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@347708bb] was not registered for synchronization because synchronization is not active
14:56:57 [http-nio-9080-exec-10] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:56:57 [http-nio-9080-exec-10] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@fb920f5] will not be managed by Spring
14:56:57 [http-nio-9080-exec-10] DEBUG c.t.s.h.s.p.m.T.getTagDOList 135 - ==>  Preparing: select * from s2_tag WHERE item_id in ( ? , ? , ? , ? ) and type = ?
14:56:57 [http-nio-9080-exec-10] DEBUG c.t.s.h.s.p.m.T.getTagDOList 135 - ==> Parameters: 4(Long), 5(Long), 6(Long), 7(Long), DIMENSION(String)
14:56:57 [http-nio-9080-exec-10] DEBUG c.t.s.h.s.p.m.T.getTagDOList 135 - <==      Total: 4
14:56:57 [http-nio-9080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@347708bb]
14:56:57 [http-nio-9080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:56:57 [http-nio-9080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4cba5036] was not registered for synchronization because synchronization is not active
14:56:57 [http-nio-9080-exec-10] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:56:57 [http-nio-9080-exec-10] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@fb920f5] will not be managed by Spring
14:56:57 [http-nio-9080-exec-10] DEBUG c.t.s.h.s.p.m.T.getTagDOList 135 - ==>  Preparing: select * from s2_tag WHERE item_id in ( ? , ? , ? ) and type = ?
14:56:57 [http-nio-9080-exec-10] DEBUG c.t.s.h.s.p.m.T.getTagDOList 135 - ==> Parameters: 5(Long), 6(Long), 7(Long), METRIC(String)
14:56:57 [http-nio-9080-exec-10] DEBUG c.t.s.h.s.p.m.T.getTagDOList 135 - <==      Total: 1
14:56:57 [http-nio-9080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4cba5036]
14:56:57 [ForkJoinPool.commonPool-worker-19] DEBUG c.h.h.c.trie.bintrie.BaseNode 290 - walkNode before:[_2_4_metric]
14:56:57 [ForkJoinPool.commonPool-worker-19] DEBUG c.h.h.c.trie.bintrie.BaseNode 293 - walkNode name:人均访问次数,after:[_2_4_metric],natures:[_2_4_metric]
14:56:57 [http-nio-9080-exec-10] DEBUG c.t.s.h.s.f.s.i.RetrieveServiceImpl 103 - searchTextEntry:MatchText(regText=超音速对比所有, detectSegment=人)=[HanlpMapResult(natures=[_1_4_metric], offset=0, similarity=0.0)],queryReq:QueryReq(queryText=超音速对比所有人, chatId=1, dataSetIds=[], user=User(id=6, name=admin, displayName=admin, email=null, isAdmin=1), queryFilters=null, saveAnswer=true, text2SQLType=RULE_AND_LLM, mapModeEnum=STRICT, mapInfo=com.tencent.supersonic.headless.api.pojo.SchemaMapInfo@2b14a3bd, queryDataType=ALL, llmConfig=LLMConfig(provider=OPEN_AI, baseUrl=https://api.openai.com/v1, apiKey=kGA4i6jY7QqG5xH+S0N++SzVWVKyAHesOq7NpoFVI7pgU14eb1AM296OFiLJTNtDVfpWDpfu7o4vDG2C2yWiSA==, modelName=gpt-3.5-turbo, temperature=0.0, timeOut=60), exemplars=[])
14:56:57 [http-nio-9080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:56:57 [http-nio-9080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@161ba7f6] was not registered for synchronization because synchronization is not active
14:56:57 [http-nio-9080-exec-10] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:56:57 [http-nio-9080-exec-10] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@fb920f5] will not be managed by Spring
14:56:57 [http-nio-9080-exec-10] DEBUG c.t.s.h.s.p.m.C.getContextByChatId 135 - ==>  Preparing: select * from s2_chat_context where chat_id=? limit 1
14:56:57 [http-nio-9080-exec-10] DEBUG c.t.s.h.s.p.m.C.getContextByChatId 135 - ==> Parameters: 1(Integer)
14:56:57 [http-nio-9080-exec-10] DEBUG c.t.s.h.s.p.m.C.getContextByChatId 135 - <==      Total: 1
14:56:57 [http-nio-9080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@161ba7f6]
14:56:57 [http-nio-9080-exec-10] DEBUG c.t.s.h.s.f.s.i.RetrieveServiceImpl 140 - possibleDataSets:[],dataSetInfoStat:DataSetInfoStat(dataSetCount=0, metricDataSetCount=0, dimensionDataSetCount=0, dimensionValueDataSetCount=0),contextModel:1
14:56:57 [http-nio-9080-exec-10] DEBUG c.t.s.h.s.f.s.i.RetrieveServiceImpl 276 - searchMetricAndDimension searchTextEntry:MatchText(regText=超音速对比所有, detectSegment=人)=[HanlpMapResult(natures=[_1_4_metric], offset=0, similarity=0.0)]
14:56:57 [http-nio-9080-exec-10] DEBUG c.t.s.h.s.f.s.i.RetrieveServiceImpl 304 - parseResult:HanlpMapResult(natures=[_1_4_metric], offset=0, similarity=0.0),dimensionMetricClassIds:[ModelWithSemanticType(model=1, schemaElementType=METRIC)],possibleDataSets:[1]
14:56:57 [http-nio-9080-exec-10] INFO  c.t.s.h.s.f.s.i.RetrieveServiceImpl 307 - searchMetricAndDimension searchResults:[SearchResult(recommend=超音速对比所有人均访问次数, subRecommend=人均访问次数, modelName=超音数数据集, modelId=1, schemaElementType=METRIC, isComplete=false)]
14:56:57 [http-nio-9080-exec-10] DEBUG c.t.s.h.s.f.s.i.RetrieveServiceImpl 117 - possibleDataSets:[1],natureToNameMap:{_1_4_metric=人均访问次数}
14:56:57 [http-nio-9080-exec-10] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor 268 - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
14:56:57 [http-nio-9080-exec-10] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor 91 - Writing [ResultData(code=200, msg=success, data=[SearchResult(recommend=超音速对比所有人均访问次数, subRecommend=人均访问次数, m (truncated)...]
14:56:57 [http-nio-9080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet 1131 - Completed 200 OK
```

### 日志分析关键节点及其解读

1. **请求的开始**
    
    ```
    14:56:36 [http-nio-9080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet 91 - POST "/api/chat/manage/pageQueryInfo?chatId=1", parameters={masked}
    ```
    
    这个日志条目显示，系统接收到一个POST请求，URL为`/api/chat/manage/pageQueryInfo?chatId=1`，参数已被屏蔽。这个请求的目标是获取聊天管理页面的查询信息。
    
2. **请求映射**
    
    ```perl
    14:56:36 [http-nio-9080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping 522 - Mapped to com.tencent.supersonic.chat.server.rest.ChatController#pageQueryInfo(PageQueryInfoReq, long, HttpServletRequest, HttpServletResponse)
    ```
    
    日志显示，该请求被映射到`ChatController`类的`pageQueryInfo`方法，并传递了`PageQueryInfoReq`对象、一个长整型参数和HTTP请求及响应对象。
    
3. **读取请求体**
    
    ```perl
    14:56:36 [http-nio-9080-exec-10] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor 91 - Read "application/json;charset=UTF-8" to [PageQueryInfoReq(current=6, pageSize=3, userName=null, ids=null)]
    ```
    
    这个条目显示，系统成功将请求体解析为一个`PageQueryInfoReq`对象，内容包括当前页码为6，每页大小为3，用户名和ID为null。
    
4. **数据库查询1**
    
    ```sql
    14:56:36 [http-nio-9080-exec-10] DEBUG c.t.s.c.p.m.S.selectList 135 - ==>  Preparing: SELECT id,parameters,admin FROM s2_system_config
    14:56:36 [http-nio-9080-exec-10] DEBUG c.t.s.c.p.m.S.selectList 135 - ==> Parameters:
    14:56:36 [http-nio-9080-exec-10] DEBUG c.t.s.c.p.m.S.selectList 135 - <==      Total: 1
    ```
    
    日志显示，系统准备执行一条查询，获取系统配置表中的id、parameters和admin字段。查询没有参数，结果集总数为1。
    
5. **数据库查询2**
    
    ```sql
    14:56:36 [http-nio-9080-exec-10] DEBUG c.t.s.c.s.p.m.C.selectList_COUNT 135 - ==>  Preparing: SELECT count(0) FROM s2_chat_query WHERE (chat_id = ? AND user_name = ?)
    14:56:36 [http-nio-9080-exec-10] DEBUG c.t.s.c.s.p.m.C.selectList_COUNT 135 - ==> Parameters: 1(Long), admin(String)
    14:56:36 [http-nio-9080-exec-10] DEBUG c.t.s.c.s.p.m.C.selectList_COUNT 135 - <==      Total: 1
    ```
    
    日志显示，系统准备执行另一条查询，统计满足条件`chat_id`为1且`user_name`为`admin`的记录数。查询参数为`1`（长整型）和`admin`（字符串），结果集总数为1。
    
6. **数据库查询3**
    
    ```sql
    14:56:36 [http-nio-9080-exec-10] DEBUG c.t.s.c.s.p.m.C.selectList 135 - ==>  Preparing: SELECT question_id,agent_id,create_time,user_name,query_state,chat_id,score,feedback,query_text,query_result,similar_queries,parse_time_cost FROM s2_chat_query WHERE (chat_id = ? AND user_name = ?) ORDER BY question_id DESC LIMIT ?, ?
    14:56:36 [http-nio-9080-exec-10] DEBUG c.t.s.c.s.p.m.C.selectList 135 - ==> Parameters: 1(Long), admin(String), 15(Long), 3(Integer)
    14:56:36 [http-nio-9080-exec-10] DEBUG c.t.s.c.s.p.m.C.selectList 135 - <==      Total: 3
    ```
    
    日志显示，系统准备执行一条查询，获取满足条件`chat_id`为1且`user_name`为`admin`的聊天查询记录，按`question_id`降序排列，限制从第15条开始获取3条记录。查询参数分别为`1`（长整型）、`admin`（字符串）、`15`（长整型）和`3`（整型），结果集总数为3。
    
7. **数据库查询4**
    
    ```sql
    14:56:36 [http-nio-9080-exec-10] DEBUG c.t.s.c.s.p.m.C.getParseInfoList 135 - ==>  Preparing: select * from s2_chat_parse where question_id in ( ? , ? , ? )
    14:56:36 [http-nio-9080-exec-10] DEBUG c.t.s.c.s.p.m.C.getParseInfoList 135 - ==> Parameters: 57(Long), 58(Long), 59(Long)
    14:56:36 [http-nio-9080-exec-10] DEBUG c.t.s.c.s.p.m.C.getParseInfoList 135 - <==      Total: 9
    ```
    
    日志显示，系统准备执行一条查询，获取`question_id`为57、58和59的解析信息。查询参数分别为`57`、`58`和`59`（长整型），结果集总数为9。
    
8. **响应生成**
    
    ```
    14:56:36 [http-nio-9080-exec-10] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor 91 - Writing [ResultData(code=200, msg=success, data=PageInfo{pageNum=6, pageSize=3, size=0, startRow=0, endRow=0, (truncated)...]
    ```
    
    日志显示，系统将响应写入`ResultData`对象，其中包含状态码200、消息`success`和数据`PageInfo`，详细内容被截断。
    
9. **请求完成**
    
    ```
    14:56:36 [http-nio-9080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet 1131 - Completed 200 OK
    ```
    
    日志显示，请求处理完成，响应状态为200 OK。
    

### 总结

通过分析这些关键节点，系统接收到一个请求以获取聊天管理页面的查询信息，并将其映射到`ChatController`类的`pageQueryInfo`方法。系统解析请求体并执行多次数据库查询，包括获取系统配置、统计满足特定条件的聊天记录数量、获取聊天记录详情和解析信息。最终，系统将查询结果封装到响应对象中并返回给客户端，请求处理完成，状态为200 OK。这表明系统在处理此请求时的每一步都正常运作，成功返回预期结果。

## 3. 第三部分

```
14:56:57 [http-nio-9080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet 91 - GET "/webapp/static/DINPro.214efb35.woff2", parameters={}
14:56:57 [http-nio-9080-exec-1] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping 522 - Mapped to ResourceHttpRequestHandler [Classpath [webapp/]]
14:56:57 [http-nio-9080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet 1131 - Completed 304 NOT_MODIFIED
14:56:59 [http-nio-9080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet 91 - POST "/api/chat/query/search", parameters={}
14:56:59 [http-nio-9080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping 522 - Mapped to com.tencent.supersonic.chat.server.rest.ChatQueryController#search(ChatParseReq, HttpServletRequest, HttpServletResponse)
14:56:59 [http-nio-9080-exec-3] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor 91 - Read "application/json;charset=UTF-8" to [ChatParseReq(queryText=超音速对比所有人访问, chatId=1, agentId=1, topN=10, user=null, queryFilters=null, saveA (truncated)...]
14:56:59 [http-nio-9080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:56:59 [http-nio-9080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7c15fa3d] was not registered for synchronization because synchronization is not active
14:56:59 [http-nio-9080-exec-3] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:56:59 [http-nio-9080-exec-3] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@fb920f5] will not be managed by Spring
14:56:59 [http-nio-9080-exec-3] DEBUG c.t.s.c.p.m.S.selectList 135 - ==>  Preparing: SELECT id,parameters,admin FROM s2_system_config
14:56:59 [http-nio-9080-exec-3] DEBUG c.t.s.c.p.m.S.selectList 135 - ==> Parameters: 
14:56:59 [http-nio-9080-exec-3] DEBUG c.t.s.c.p.m.S.selectList 135 - <==      Total: 1
14:56:59 [http-nio-9080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7c15fa3d]
14:56:59 [http-nio-9080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:56:59 [http-nio-9080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@52af30b6] was not registered for synchronization because synchronization is not active
14:56:59 [http-nio-9080-exec-3] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:56:59 [http-nio-9080-exec-3] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@fb920f5] will not be managed by Spring
14:56:59 [http-nio-9080-exec-3] DEBUG c.t.s.c.s.p.m.A.selectById 135 - ==>  Preparing: SELECT id,name,description,status,examples,config,created_by,created_at,updated_by,updated_at,enable_search,llm_config,multi_turn_config,visual_config FROM s2_agent WHERE id=?
14:56:59 [http-nio-9080-exec-3] DEBUG c.t.s.c.s.p.m.A.selectById 135 - ==> Parameters: 1(Integer)
14:56:59 [http-nio-9080-exec-3] DEBUG c.t.s.c.s.p.m.A.selectById 135 - <==      Total: 1
14:56:59 [http-nio-9080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@52af30b6]
14:56:59 [http-nio-9080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:56:59 [http-nio-9080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@16a1dc04] was not registered for synchronization because synchronization is not active
14:56:59 [http-nio-9080-exec-3] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:56:59 [http-nio-9080-exec-3] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@fb920f5] will not be managed by Spring
14:56:59 [http-nio-9080-exec-3] DEBUG c.t.s.h.s.p.m.D.selectList 135 - ==>  Preparing: SELECT id,domain_id,name,biz_name,description,status,alias,data_set_detail,created_at,created_by,updated_at,updated_by,query_config,admin,admin_org FROM s2_data_set WHERE (id IN (?,?) AND status = ? AND status <> ?)
14:56:59 [http-nio-9080-exec-3] DEBUG c.t.s.h.s.p.m.D.selectList 135 - ==> Parameters: 1(Long), 2(Long), 1(Integer), 3(Integer)
14:56:59 [http-nio-9080-exec-3] DEBUG c.t.s.h.s.p.m.D.selectList 135 - <==      Total: 2
14:56:59 [http-nio-9080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@16a1dc04]
14:56:59 [http-nio-9080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:56:59 [http-nio-9080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@710fb9c0] was not registered for synchronization because synchronization is not active
14:56:59 [http-nio-9080-exec-3] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:56:59 [http-nio-9080-exec-3] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@fb920f5] will not be managed by Spring
14:56:59 [http-nio-9080-exec-3] DEBUG c.t.s.h.s.p.m.T.getTagDOList 135 - ==>  Preparing: select * from s2_tag WHERE item_id in ( ? , ? , ? ) and type = ?
14:56:59 [http-nio-9080-exec-3] DEBUG c.t.s.h.s.p.m.T.getTagDOList 135 - ==> Parameters: 1(Long), 2(Long), 3(Long), DIMENSION(String)
14:56:59 [http-nio-9080-exec-3] DEBUG c.t.s.h.s.p.m.T.getTagDOList 135 - <==      Total: 1
14:56:59 [http-nio-9080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@710fb9c0]
14:56:59 [http-nio-9080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:56:59 [http-nio-9080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@69abf5fb] was not registered for synchronization because synchronization is not active
14:56:59 [http-nio-9080-exec-3] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:56:59 [http-nio-9080-exec-3] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@fb920f5] will not be managed by Spring
14:56:59 [http-nio-9080-exec-3] DEBUG c.t.s.h.s.p.m.T.getTagDOList 135 - ==>  Preparing: select * from s2_tag WHERE item_id in ( ? , ? , ? , ? ) and type = ?
14:56:59 [http-nio-9080-exec-3] DEBUG c.t.s.h.s.p.m.T.getTagDOList 135 - ==> Parameters: 1(Long), 3(Long), 4(Long), 2(Long), METRIC(String)
14:56:59 [http-nio-9080-exec-3] DEBUG c.t.s.h.s.p.m.T.getTagDOList 135 - <==      Total: 0
14:56:59 [http-nio-9080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@69abf5fb]
14:56:59 [http-nio-9080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:56:59 [http-nio-9080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2b186de7] was not registered for synchronization because synchronization is not active
14:56:59 [http-nio-9080-exec-3] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:56:59 [http-nio-9080-exec-3] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@fb920f5] will not be managed by Spring
14:56:59 [http-nio-9080-exec-3] DEBUG c.t.s.h.s.p.m.T.getTagDOList 135 - ==>  Preparing: select * from s2_tag WHERE item_id in ( ? , ? , ? , ? ) and type = ?
14:56:59 [http-nio-9080-exec-3] DEBUG c.t.s.h.s.p.m.T.getTagDOList 135 - ==> Parameters: 4(Long), 5(Long), 6(Long), 7(Long), DIMENSION(String)
14:56:59 [http-nio-9080-exec-3] DEBUG c.t.s.h.s.p.m.T.getTagDOList 135 - <==      Total: 4
14:56:59 [http-nio-9080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2b186de7]
14:56:59 [http-nio-9080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:56:59 [http-nio-9080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3e15b7e3] was not registered for synchronization because synchronization is not active
14:56:59 [http-nio-9080-exec-3] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:56:59 [http-nio-9080-exec-3] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@fb920f5] will not be managed by Spring
14:56:59 [http-nio-9080-exec-3] DEBUG c.t.s.h.s.p.m.T.getTagDOList 135 - ==>  Preparing: select * from s2_tag WHERE item_id in ( ? , ? , ? ) and type = ?
14:56:59 [http-nio-9080-exec-3] DEBUG c.t.s.h.s.p.m.T.getTagDOList 135 - ==> Parameters: 5(Long), 6(Long), 7(Long), METRIC(String)
14:56:59 [http-nio-9080-exec-3] DEBUG c.t.s.h.s.p.m.T.getTagDOList 135 - <==      Total: 1
14:56:59 [http-nio-9080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3e15b7e3]
14:56:59 [http-nio-9080-exec-3] DEBUG c.t.s.h.s.f.s.i.RetrieveServiceImpl 78 - hanlp parse result: []
14:56:59 [http-nio-9080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:56:59 [http-nio-9080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@19e5f9c1] was not registered for synchronization because synchronization is not active
14:56:59 [http-nio-9080-exec-3] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:56:59 [http-nio-9080-exec-3] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@fb920f5] will not be managed by Spring
14:56:59 [http-nio-9080-exec-3] DEBUG c.t.s.h.s.p.m.D.selectList 135 - ==>  Preparing: SELECT id,domain_id,name,biz_name,description,status,alias,data_set_detail,created_at,created_by,updated_at,updated_by,query_config,admin,admin_org FROM s2_data_set WHERE (status = ? AND status <> ?)
14:56:59 [http-nio-9080-exec-3] DEBUG c.t.s.h.s.p.m.D.selectList 135 - ==> Parameters: 1(Integer), 3(Integer)
14:56:59 [http-nio-9080-exec-3] DEBUG c.t.s.h.s.p.m.D.selectList 135 - <==      Total: 2
14:56:59 [http-nio-9080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@19e5f9c1]
14:56:59 [http-nio-9080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:56:59 [http-nio-9080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@41f73ee] was not registered for synchronization because synchronization is not active
14:56:59 [http-nio-9080-exec-3] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:56:59 [http-nio-9080-exec-3] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@fb920f5] will not be managed by Spring
14:56:59 [http-nio-9080-exec-3] DEBUG c.t.s.h.s.p.m.T.getTagDOList 135 - ==>  Preparing: select * from s2_tag WHERE item_id in ( ? , ? , ? ) and type = ?
14:56:59 [http-nio-9080-exec-3] DEBUG c.t.s.h.s.p.m.T.getTagDOList 135 - ==> Parameters: 1(Long), 2(Long), 3(Long), DIMENSION(String)
14:56:59 [http-nio-9080-exec-3] DEBUG c.t.s.h.s.p.m.T.getTagDOList 135 - <==      Total: 1
14:56:59 [http-nio-9080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@41f73ee]
14:56:59 [http-nio-9080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:56:59 [http-nio-9080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@695f68a6] was not registered for synchronization because synchronization is not active
14:56:59 [http-nio-9080-exec-3] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:56:59 [http-nio-9080-exec-3] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@fb920f5] will not be managed by Spring
14:56:59 [http-nio-9080-exec-3] DEBUG c.t.s.h.s.p.m.T.getTagDOList 135 - ==>  Preparing: select * from s2_tag WHERE item_id in ( ? , ? , ? , ? ) and type = ?
14:56:59 [http-nio-9080-exec-3] DEBUG c.t.s.h.s.p.m.T.getTagDOList 135 - ==> Parameters: 1(Long), 3(Long), 4(Long), 2(Long), METRIC(String)
14:56:59 [http-nio-9080-exec-3] DEBUG c.t.s.h.s.p.m.T.getTagDOList 135 - <==      Total: 0
14:56:59 [http-nio-9080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@695f68a6]
14:56:59 [http-nio-9080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:56:59 [http-nio-9080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2599a6cf] was not registered for synchronization because synchronization is not active
14:56:59 [http-nio-9080-exec-3] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:56:59 [http-nio-9080-exec-3] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@fb920f5] will not be managed by Spring
14:56:59 [http-nio-9080-exec-3] DEBUG c.t.s.h.s.p.m.T.getTagDOList 135 - ==>  Preparing: select * from s2_tag WHERE item_id in ( ? , ? , ? , ? ) and type = ?
14:56:59 [http-nio-9080-exec-3] DEBUG c.t.s.h.s.p.m.T.getTagDOList 135 - ==> Parameters: 4(Long), 5(Long), 6(Long), 7(Long), DIMENSION(String)
14:56:59 [http-nio-9080-exec-3] DEBUG c.t.s.h.s.p.m.T.getTagDOList 135 - <==      Total: 4
14:56:59 [http-nio-9080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2599a6cf]
14:56:59 [http-nio-9080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:56:59 [http-nio-9080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@68ff88b1] was not registered for synchronization because synchronization is not active
14:56:59 [http-nio-9080-exec-3] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:56:59 [http-nio-9080-exec-3] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@fb920f5] will not be managed by Spring
14:56:59 [http-nio-9080-exec-3] DEBUG c.t.s.h.s.p.m.T.getTagDOList 135 - ==>  Preparing: select * from s2_tag WHERE item_id in ( ? , ? , ? ) and type = ?
14:56:59 [http-nio-9080-exec-3] DEBUG c.t.s.h.s.p.m.T.getTagDOList 135 - ==> Parameters: 5(Long), 6(Long), 7(Long), METRIC(String)
14:56:59 [http-nio-9080-exec-3] DEBUG c.t.s.h.s.p.m.T.getTagDOList 135 - <==      Total: 1
14:56:59 [http-nio-9080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@68ff88b1]
14:56:59 [ForkJoinPool.commonPool-worker-12] DEBUG c.h.h.c.trie.bintrie.BaseNode 290 - walkNode before:[_2_3_metric]
14:56:59 [ForkJoinPool.commonPool-worker-12] DEBUG c.h.h.c.trie.bintrie.BaseNode 293 - walkNode name:访问人数,after:[_2_3_metric],natures:[_2_3_metric]
14:56:59 [ForkJoinPool.commonPool-worker-12] DEBUG c.h.h.c.trie.bintrie.BaseNode 290 - walkNode before:[_3_2_metric]
14:56:59 [ForkJoinPool.commonPool-worker-12] DEBUG c.h.h.c.trie.bintrie.BaseNode 293 - walkNode name:访问时长,after:[_3_2_metric],natures:[_3_2_metric]
14:56:59 [ForkJoinPool.commonPool-worker-12] DEBUG c.h.h.c.trie.bintrie.BaseNode 290 - walkNode before:[_2_1_metric]
14:56:59 [ForkJoinPool.commonPool-worker-12] DEBUG c.h.h.c.trie.bintrie.BaseNode 293 - walkNode name:访问次数,after:[_2_1_metric],natures:[_2_1_metric]
14:56:59 [ForkJoinPool.commonPool-worker-12] DEBUG c.h.h.c.trie.bintrie.BaseNode 290 - walkNode before:[_2_3_metric]
14:56:59 [ForkJoinPool.commonPool-worker-12] DEBUG c.h.h.c.trie.bintrie.BaseNode 293 - walkNode name:访问用户数,after:[_2_3_metric],natures:[_2_3_metric]
14:56:59 [http-nio-9080-exec-3] DEBUG c.t.s.h.s.f.s.i.RetrieveServiceImpl 103 - searchTextEntry:MatchText(regText=超音速对比所有人, detectSegment=访问)=[HanlpMapResult(natures=[_1_3_metric], offset=0, similarity=0.0), HanlpMapResult(natures=[_1_2_metric], offset=0, similarity=0.0), HanlpMapResult(natures=[_1_1_metric], offset=0, similarity=0.0), HanlpMapResult(natures=[_1_3_metric], offset=0, similarity=0.0)],queryReq:QueryReq(queryText=超音速对比所有人访问, chatId=1, dataSetIds=[], user=User(id=6, name=admin, displayName=admin, email=null, isAdmin=1), queryFilters=null, saveAnswer=true, text2SQLType=RULE_AND_LLM, mapModeEnum=STRICT, mapInfo=com.tencent.supersonic.headless.api.pojo.SchemaMapInfo@36caf6e9, queryDataType=ALL, llmConfig=LLMConfig(provider=OPEN_AI, baseUrl=https://api.openai.com/v1, apiKey=kGA4i6jY7QqG5xH+S0N++SzVWVKyAHesOq7NpoFVI7pgU14eb1AM296OFiLJTNtDVfpWDpfu7o4vDG2C2yWiSA==, modelName=gpt-3.5-turbo, temperature=0.0, timeOut=60), exemplars=[])
14:56:59 [http-nio-9080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:56:59 [http-nio-9080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@381581da] was not registered for synchronization because synchronization is not active
14:56:59 [http-nio-9080-exec-3] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:56:59 [http-nio-9080-exec-3] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@fb920f5] will not be managed by Spring
14:56:59 [http-nio-9080-exec-3] DEBUG c.t.s.h.s.p.m.C.getContextByChatId 135 - ==>  Preparing: select * from s2_chat_context where chat_id=? limit 1
14:56:59 [http-nio-9080-exec-3] DEBUG c.t.s.h.s.p.m.C.getContextByChatId 135 - ==> Parameters: 1(Integer)
14:56:59 [http-nio-9080-exec-3] DEBUG c.t.s.h.s.p.m.C.getContextByChatId 135 - <==      Total: 1
14:56:59 [http-nio-9080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@381581da]
14:56:59 [http-nio-9080-exec-3] DEBUG c.t.s.h.s.f.s.i.RetrieveServiceImpl 140 - possibleDataSets:[],dataSetInfoStat:DataSetInfoStat(dataSetCount=0, metricDataSetCount=0, dimensionDataSetCount=0, dimensionValueDataSetCount=0),contextModel:1
14:56:59 [http-nio-9080-exec-3] DEBUG c.t.s.h.s.f.s.i.RetrieveServiceImpl 276 - searchMetricAndDimension searchTextEntry:MatchText(regText=超音速对比所有人, detectSegment=访问)=[HanlpMapResult(natures=[_1_3_metric], offset=0, similarity=0.0), HanlpMapResult(natures=[_1_2_metric], offset=0, similarity=0.0), HanlpMapResult(natures=[_1_1_metric], offset=0, similarity=0.0), HanlpMapResult(natures=[_1_3_metric], offset=0, similarity=0.0)]
14:56:59 [http-nio-9080-exec-3] DEBUG c.t.s.h.s.f.s.i.RetrieveServiceImpl 304 - parseResult:HanlpMapResult(natures=[_1_3_metric], offset=0, similarity=0.0),dimensionMetricClassIds:[ModelWithSemanticType(model=1, schemaElementType=METRIC)],possibleDataSets:[1]
14:56:59 [http-nio-9080-exec-3] DEBUG c.t.s.h.s.f.s.i.RetrieveServiceImpl 304 - parseResult:HanlpMapResult(natures=[_1_2_metric], offset=0, similarity=0.0),dimensionMetricClassIds:[ModelWithSemanticType(model=1, schemaElementType=METRIC)],possibleDataSets:[1]
14:56:59 [http-nio-9080-exec-3] DEBUG c.t.s.h.s.f.s.i.RetrieveServiceImpl 304 - parseResult:HanlpMapResult(natures=[_1_1_metric], offset=0, similarity=0.0),dimensionMetricClassIds:[ModelWithSemanticType(model=1, schemaElementType=METRIC)],possibleDataSets:[1]
14:56:59 [http-nio-9080-exec-3] DEBUG c.t.s.h.s.f.s.i.RetrieveServiceImpl 304 - parseResult:HanlpMapResult(natures=[_1_3_metric], offset=0, similarity=0.0),dimensionMetricClassIds:[ModelWithSemanticType(model=1, schemaElementType=METRIC)],possibleDataSets:[1]
14:56:59 [http-nio-9080-exec-3] INFO  c.t.s.h.s.f.s.i.RetrieveServiceImpl 307 - searchMetricAndDimension searchResults:[SearchResult(recommend=超音速对比所有人访问人数, subRecommend=访问人数, modelName=超音数数据集, modelId=1, schemaElementType=METRIC, isComplete=false), SearchResult(recommend=超音速对比所有人访问时长, subRecommend=访问时长, modelName=超音数数据集, modelId=1, schemaElementType=METRIC, isComplete=false), SearchResult(recommend=超音速对比所有人访问次数, subRecommend=访问次数, modelName=超音数数据集, modelId=1, schemaElementType=METRIC, isComplete=false), SearchResult(recommend=超音速对比所有人访问用户数, subRecommend=访问用户数, modelName=超音数数据集, modelId=1, schemaElementType=METRIC, isComplete=false)]
14:56:59 [http-nio-9080-exec-3] DEBUG c.t.s.h.s.f.s.i.RetrieveServiceImpl 117 - possibleDataSets:[1],natureToNameMap:{_1_3_metric=访问人数, _1_2_metric=访问时长, _1_1_metric=访问次数}
14:56:59 [http-nio-9080-exec-3] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor 268 - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
14:56:59 [http-nio-9080-exec-3] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor 91 - Writing [ResultData(code=200, msg=success, data=[SearchResult(recommend=超音速对比所有人访问人数, subRecommend=访问人数, mode (truncated)...]
14:56:59 [http-nio-9080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet 1131 - Completed 200 OK
14:57:00 [scheduling-1] DEBUG c.t.s.h.s.task.DictionaryReloadTask 39 - reloadKnowledge start
14:57:00 [scheduling-1] DEBUG c.t.s.h.s.w.s.impl.DictWordService 69 - nature type:DIMENSION , nature size:15
14:57:00 [scheduling-1] DEBUG c.t.s.h.s.w.s.impl.DictWordService 69 - nature type:METRIC , nature size:18
14:57:00 [scheduling-1] DEBUG c.t.s.h.s.w.s.impl.DictWordService 69 - nature type:ENTITY , nature size:4
14:57:00 [scheduling-1] DEBUG c.t.s.h.s.w.s.impl.DictWordService 69 - nature type:VALUE , nature size:0
14:57:00 [scheduling-1] DEBUG c.t.s.h.s.w.s.impl.DictWordService 69 - nature type:TERM , nature size:6
14:57:00 [scheduling-1] DEBUG c.t.s.h.s.w.s.impl.DictWordService 44 - Dictionary hasn't been reloaded.
14:57:00 [scheduling-1] DEBUG c.t.s.h.s.task.DictionaryReloadTask 45 - reloadKnowledge end
14:57:02 [http-nio-9080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet 91 - POST "/api/chat/query/search", parameters={}
14:57:02 [http-nio-9080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping 522 - Mapped to com.tencent.supersonic.chat.server.rest.ChatQueryController#search(ChatParseReq, HttpServletRequest, HttpServletResponse)
14:57:02 [http-nio-9080-exec-8] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor 91 - Read "application/json;charset=UTF-8" to [ChatParseReq(queryText=超音速对比所有人访问次数, chatId=1, agentId=1, topN=10, user=null, queryFilters=null, sav (truncated)...]
14:57:02 [http-nio-9080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:57:02 [http-nio-9080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@62e8a68f] was not registered for synchronization because synchronization is not active
14:57:02 [http-nio-9080-exec-8] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:57:02 [http-nio-9080-exec-8] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@fb920f5] will not be managed by Spring
14:57:02 [http-nio-9080-exec-8] DEBUG c.t.s.c.p.m.S.selectList 135 - ==>  Preparing: SELECT id,parameters,admin FROM s2_system_config
14:57:02 [http-nio-9080-exec-8] DEBUG c.t.s.c.p.m.S.selectList 135 - ==> Parameters: 
14:57:02 [http-nio-9080-exec-8] DEBUG c.t.s.c.p.m.S.selectList 135 - <==      Total: 1
14:57:02 [http-nio-9080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@62e8a68f]
14:57:02 [http-nio-9080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:57:02 [http-nio-9080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1e95bd18] was not registered for synchronization because synchronization is not active
14:57:02 [http-nio-9080-exec-8] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:57:02 [http-nio-9080-exec-8] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@fb920f5] will not be managed by Spring
14:57:02 [http-nio-9080-exec-8] DEBUG c.t.s.c.s.p.m.A.selectById 135 - ==>  Preparing: SELECT id,name,description,status,examples,config,created_by,created_at,updated_by,updated_at,enable_search,llm_config,multi_turn_config,visual_config FROM s2_agent WHERE id=?
14:57:02 [http-nio-9080-exec-8] DEBUG c.t.s.c.s.p.m.A.selectById 135 - ==> Parameters: 1(Integer)
14:57:02 [http-nio-9080-exec-8] DEBUG c.t.s.c.s.p.m.A.selectById 135 - <==      Total: 1
14:57:02 [http-nio-9080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1e95bd18]
14:57:02 [http-nio-9080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:57:02 [http-nio-9080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@333dc15f] was not registered for synchronization because synchronization is not active
14:57:02 [http-nio-9080-exec-8] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:57:02 [http-nio-9080-exec-8] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@fb920f5] will not be managed by Spring
14:57:02 [http-nio-9080-exec-8] DEBUG c.t.s.h.s.p.m.D.selectList 135 - ==>  Preparing: SELECT id,domain_id,name,biz_name,description,status,alias,data_set_detail,created_at,created_by,updated_at,updated_by,query_config,admin,admin_org FROM s2_data_set WHERE (id IN (?,?) AND status = ? AND status <> ?)
14:57:02 [http-nio-9080-exec-8] DEBUG c.t.s.h.s.p.m.D.selectList 135 - ==> Parameters: 1(Long), 2(Long), 1(Integer), 3(Integer)
14:57:02 [http-nio-9080-exec-8] DEBUG c.t.s.h.s.p.m.D.selectList 135 - <==      Total: 2
14:57:02 [http-nio-9080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@333dc15f]
14:57:02 [http-nio-9080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:57:02 [http-nio-9080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@758c474d] was not registered for synchronization because synchronization is not active
14:57:02 [http-nio-9080-exec-8] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:57:02 [http-nio-9080-exec-8] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@fb920f5] will not be managed by Spring
14:57:02 [http-nio-9080-exec-8] DEBUG c.t.s.h.s.p.m.T.getTagDOList 135 - ==>  Preparing: select * from s2_tag WHERE item_id in ( ? , ? , ? ) and type = ?
14:57:02 [http-nio-9080-exec-8] DEBUG c.t.s.h.s.p.m.T.getTagDOList 135 - ==> Parameters: 1(Long), 2(Long), 3(Long), DIMENSION(String)
14:57:02 [http-nio-9080-exec-8] DEBUG c.t.s.h.s.p.m.T.getTagDOList 135 - <==      Total: 1
14:57:02 [http-nio-9080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@758c474d]
14:57:02 [http-nio-9080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:57:02 [http-nio-9080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@32dfed9c] was not registered for synchronization because synchronization is not active
14:57:02 [http-nio-9080-exec-8] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:57:02 [http-nio-9080-exec-8] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@fb920f5] will not be managed by Spring
14:57:02 [http-nio-9080-exec-8] DEBUG c.t.s.h.s.p.m.T.getTagDOList 135 - ==>  Preparing: select * from s2_tag WHERE item_id in ( ? , ? , ? , ? ) and type = ?
14:57:02 [http-nio-9080-exec-8] DEBUG c.t.s.h.s.p.m.T.getTagDOList 135 - ==> Parameters: 1(Long), 3(Long), 4(Long), 2(Long), METRIC(String)
14:57:02 [http-nio-9080-exec-8] DEBUG c.t.s.h.s.p.m.T.getTagDOList 135 - <==      Total: 0
14:57:02 [http-nio-9080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@32dfed9c]
14:57:02 [http-nio-9080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:57:02 [http-nio-9080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@698c031c] was not registered for synchronization because synchronization is not active
14:57:02 [http-nio-9080-exec-8] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:57:02 [http-nio-9080-exec-8] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@fb920f5] will not be managed by Spring
14:57:02 [http-nio-9080-exec-8] DEBUG c.t.s.h.s.p.m.T.getTagDOList 135 - ==>  Preparing: select * from s2_tag WHERE item_id in ( ? , ? , ? , ? ) and type = ?
14:57:02 [http-nio-9080-exec-8] DEBUG c.t.s.h.s.p.m.T.getTagDOList 135 - ==> Parameters: 4(Long), 5(Long), 6(Long), 7(Long), DIMENSION(String)
14:57:02 [http-nio-9080-exec-8] DEBUG c.t.s.h.s.p.m.T.getTagDOList 135 - <==      Total: 4
14:57:02 [http-nio-9080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@698c031c]
14:57:02 [http-nio-9080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:57:02 [http-nio-9080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3c67fe90] was not registered for synchronization because synchronization is not active
14:57:02 [http-nio-9080-exec-8] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:57:02 [http-nio-9080-exec-8] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@fb920f5] will not be managed by Spring
14:57:02 [http-nio-9080-exec-8] DEBUG c.t.s.h.s.p.m.T.getTagDOList 135 - ==>  Preparing: select * from s2_tag WHERE item_id in ( ? , ? , ? ) and type = ?
14:57:02 [http-nio-9080-exec-8] DEBUG c.t.s.h.s.p.m.T.getTagDOList 135 - ==> Parameters: 5(Long), 6(Long), 7(Long), METRIC(String)
14:57:02 [http-nio-9080-exec-8] DEBUG c.t.s.h.s.p.m.T.getTagDOList 135 - <==      Total: 1
14:57:02 [http-nio-9080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3c67fe90]
14:57:02 [http-nio-9080-exec-8] DEBUG c.t.s.h.s.f.s.i.RetrieveServiceImpl 78 - hanlp parse result: [S2Term(word=访问次数, nature=_1_1_metric, offset=8, frequency=100000)]
14:57:02 [http-nio-9080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:57:02 [http-nio-9080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@43cafb0] was not registered for synchronization because synchronization is not active
14:57:02 [http-nio-9080-exec-8] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:57:02 [http-nio-9080-exec-8] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@fb920f5] will not be managed by Spring
14:57:02 [http-nio-9080-exec-8] DEBUG c.t.s.h.s.p.m.D.selectList 135 - ==>  Preparing: SELECT id,domain_id,name,biz_name,description,status,alias,data_set_detail,created_at,created_by,updated_at,updated_by,query_config,admin,admin_org FROM s2_data_set WHERE (status = ? AND status <> ?)
14:57:02 [http-nio-9080-exec-8] DEBUG c.t.s.h.s.p.m.D.selectList 135 - ==> Parameters: 1(Integer), 3(Integer)
14:57:02 [http-nio-9080-exec-8] DEBUG c.t.s.h.s.p.m.D.selectList 135 - <==      Total: 2
14:57:02 [http-nio-9080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@43cafb0]
14:57:02 [http-nio-9080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:57:02 [http-nio-9080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6cab45fe] was not registered for synchronization because synchronization is not active
14:57:02 [http-nio-9080-exec-8] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:57:02 [http-nio-9080-exec-8] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@fb920f5] will not be managed by Spring
14:57:02 [http-nio-9080-exec-8] DEBUG c.t.s.h.s.p.m.T.getTagDOList 135 - ==>  Preparing: select * from s2_tag WHERE item_id in ( ? , ? , ? ) and type = ?
14:57:02 [http-nio-9080-exec-8] DEBUG c.t.s.h.s.p.m.T.getTagDOList 135 - ==> Parameters: 1(Long), 2(Long), 3(Long), DIMENSION(String)
14:57:02 [http-nio-9080-exec-8] DEBUG c.t.s.h.s.p.m.T.getTagDOList 135 - <==      Total: 1
14:57:02 [http-nio-9080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6cab45fe]
14:57:02 [http-nio-9080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:57:02 [http-nio-9080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@97e0df3] was not registered for synchronization because synchronization is not active
14:57:02 [http-nio-9080-exec-8] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:57:02 [http-nio-9080-exec-8] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@fb920f5] will not be managed by Spring
14:57:02 [http-nio-9080-exec-8] DEBUG c.t.s.h.s.p.m.T.getTagDOList 135 - ==>  Preparing: select * from s2_tag WHERE item_id in ( ? , ? , ? , ? ) and type = ?
14:57:02 [http-nio-9080-exec-8] DEBUG c.t.s.h.s.p.m.T.getTagDOList 135 - ==> Parameters: 1(Long), 3(Long), 4(Long), 2(Long), METRIC(String)
14:57:02 [http-nio-9080-exec-8] DEBUG c.t.s.h.s.p.m.T.getTagDOList 135 - <==      Total: 0
14:57:02 [http-nio-9080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@97e0df3]
14:57:02 [http-nio-9080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:57:02 [http-nio-9080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6eccdb0a] was not registered for synchronization because synchronization is not active
14:57:02 [http-nio-9080-exec-8] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:57:02 [http-nio-9080-exec-8] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@fb920f5] will not be managed by Spring
14:57:02 [http-nio-9080-exec-8] DEBUG c.t.s.h.s.p.m.T.getTagDOList 135 - ==>  Preparing: select * from s2_tag WHERE item_id in ( ? , ? , ? , ? ) and type = ?
14:57:02 [http-nio-9080-exec-8] DEBUG c.t.s.h.s.p.m.T.getTagDOList 135 - ==> Parameters: 4(Long), 5(Long), 6(Long), 7(Long), DIMENSION(String)
14:57:02 [http-nio-9080-exec-8] DEBUG c.t.s.h.s.p.m.T.getTagDOList 135 - <==      Total: 4
14:57:02 [http-nio-9080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6eccdb0a]
14:57:02 [http-nio-9080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:57:02 [http-nio-9080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6b12804] was not registered for synchronization because synchronization is not active
14:57:02 [http-nio-9080-exec-8] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:57:02 [http-nio-9080-exec-8] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@fb920f5] will not be managed by Spring
14:57:02 [http-nio-9080-exec-8] DEBUG c.t.s.h.s.p.m.T.getTagDOList 135 - ==>  Preparing: select * from s2_tag WHERE item_id in ( ? , ? , ? ) and type = ?
14:57:02 [http-nio-9080-exec-8] DEBUG c.t.s.h.s.p.m.T.getTagDOList 135 - ==> Parameters: 5(Long), 6(Long), 7(Long), METRIC(String)
14:57:02 [http-nio-9080-exec-8] DEBUG c.t.s.h.s.p.m.T.getTagDOList 135 - <==      Total: 1
14:57:02 [http-nio-9080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6b12804]
14:57:02 [ForkJoinPool.commonPool-worker-5] DEBUG c.h.h.c.trie.bintrie.BaseNode 290 - walkNode before:[_2_1_metric]
14:57:02 [ForkJoinPool.commonPool-worker-5] DEBUG c.h.h.c.trie.bintrie.BaseNode 293 - walkNode name:访问次数,after:[_2_1_metric],natures:[_2_1_metric]
14:57:02 [ForkJoinPool.commonPool-worker-5] DEBUG c.h.h.c.trie.bintrie.BaseNode 290 - walkNode before:[_2_1_suffix_metric]
14:57:02 [ForkJoinPool.commonPool-worker-5] DEBUG c.h.h.c.trie.bintrie.BaseNode 293 - walkNode name:数次问访,after:[_2_1_suffix_metric],natures:[_2_1_suffix_metric]
14:57:02 [ForkJoinPool.commonPool-worker-5] DEBUG c.h.h.c.trie.bintrie.BaseNode 290 - walkNode before:[_2_4_suffix_metric]
14:57:02 [ForkJoinPool.commonPool-worker-5] DEBUG c.h.h.c.trie.bintrie.BaseNode 293 - walkNode name:数次问访均人,after:[_2_4_suffix_metric],natures:[_2_4_suffix_metric]
14:57:02 [http-nio-9080-exec-8] DEBUG c.t.s.h.s.f.s.i.RetrieveServiceImpl 103 - searchTextEntry:MatchText(regText=超音速对比所有人, detectSegment=访问次数)=[HanlpMapResult(natures=[_1_1_metric], offset=0, similarity=0.0), HanlpMapResult(natures=[_1_1_metric], offset=0, similarity=0.0), HanlpMapResult(natures=[_1_4_metric], offset=0, similarity=0.0)],queryReq:QueryReq(queryText=超音速对比所有人访问次数, chatId=1, dataSetIds=[], user=User(id=6, name=admin, displayName=admin, email=null, isAdmin=1), queryFilters=null, saveAnswer=true, text2SQLType=RULE_AND_LLM, mapModeEnum=STRICT, mapInfo=com.tencent.supersonic.headless.api.pojo.SchemaMapInfo@6e3eb1ff, queryDataType=ALL, llmConfig=LLMConfig(provider=OPEN_AI, baseUrl=https://api.openai.com/v1, apiKey=kGA4i6jY7QqG5xH+S0N++SzVWVKyAHesOq7NpoFVI7pgU14eb1AM296OFiLJTNtDVfpWDpfu7o4vDG2C2yWiSA==, modelName=gpt-3.5-turbo, temperature=0.0, timeOut=60), exemplars=[])
14:57:02 [http-nio-9080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:57:02 [http-nio-9080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2e3d9ab6] was not registered for synchronization because synchronization is not active
14:57:02 [http-nio-9080-exec-8] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:57:02 [http-nio-9080-exec-8] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@fb920f5] will not be managed by Spring
14:57:02 [http-nio-9080-exec-8] DEBUG c.t.s.h.s.p.m.C.getContextByChatId 135 - ==>  Preparing: select * from s2_chat_context where chat_id=? limit 1
14:57:02 [http-nio-9080-exec-8] DEBUG c.t.s.h.s.p.m.C.getContextByChatId 135 - ==> Parameters: 1(Integer)
14:57:02 [http-nio-9080-exec-8] DEBUG c.t.s.h.s.p.m.C.getContextByChatId 135 - <==      Total: 1
14:57:02 [http-nio-9080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2e3d9ab6]
14:57:02 [http-nio-9080-exec-8] DEBUG c.t.s.h.s.f.s.i.RetrieveServiceImpl 140 - possibleDataSets:[1],dataSetInfoStat:DataSetInfoStat(dataSetCount=0, metricDataSetCount=1, dimensionDataSetCount=0, dimensionValueDataSetCount=0),contextModel:1
14:57:02 [http-nio-9080-exec-8] DEBUG c.t.s.h.s.f.s.i.RetrieveServiceImpl 276 - searchMetricAndDimension searchTextEntry:MatchText(regText=超音速对比所有人, detectSegment=访问次数)=[HanlpMapResult(natures=[_1_1_metric], offset=0, similarity=0.0), HanlpMapResult(natures=[_1_1_metric], offset=0, similarity=0.0), HanlpMapResult(natures=[_1_4_metric], offset=0, similarity=0.0)]
14:57:02 [http-nio-9080-exec-8] DEBUG c.t.s.h.s.f.s.i.RetrieveServiceImpl 304 - parseResult:HanlpMapResult(natures=[_1_1_metric], offset=0, similarity=0.0),dimensionMetricClassIds:[ModelWithSemanticType(model=1, schemaElementType=METRIC)],possibleDataSets:[1]
14:57:02 [http-nio-9080-exec-8] DEBUG c.t.s.h.s.f.s.i.RetrieveServiceImpl 304 - parseResult:HanlpMapResult(natures=[_1_1_metric], offset=0, similarity=0.0),dimensionMetricClassIds:[ModelWithSemanticType(model=1, schemaElementType=METRIC)],possibleDataSets:[1]
14:57:02 [http-nio-9080-exec-8] DEBUG c.t.s.h.s.f.s.i.RetrieveServiceImpl 304 - parseResult:HanlpMapResult(natures=[_1_4_metric], offset=0, similarity=0.0),dimensionMetricClassIds:[ModelWithSemanticType(model=1, schemaElementType=METRIC)],possibleDataSets:[1]
14:57:02 [http-nio-9080-exec-8] INFO  c.t.s.h.s.f.s.i.RetrieveServiceImpl 307 - searchMetricAndDimension searchResults:[SearchResult(recommend=超音速对比所有人访问次数, subRecommend=访问次数, modelName=超音数数据集, modelId=1, schemaElementType=METRIC, isComplete=false), SearchResult(recommend=超音速对比所有人人均访问次数, subRecommend=人均访问次数, modelName=超音数数据集, modelId=1, schemaElementType=METRIC, isComplete=false)]
14:57:02 [http-nio-9080-exec-8] DEBUG c.t.s.h.s.f.s.i.RetrieveServiceImpl 117 - possibleDataSets:[1],natureToNameMap:{_1_1_metric=访问次数, _1_4_metric=人均访问次数}
14:57:02 [http-nio-9080-exec-8] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor 268 - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
14:57:02 [http-nio-9080-exec-8] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor 91 - Writing [ResultData(code=200, msg=success, data=[SearchResult(recommend=超音速对比所有人访问次数, subRecommend=访问次数, mode (truncated)...]
14:57:02 [http-nio-9080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet 1131 - Completed 200 OK
14:57:04 [http-nio-9080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet 91 - POST "/api/chat/query/parse", parameters={}
14:57:04 [http-nio-9080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping 522 - Mapped to com.tencent.supersonic.chat.server.rest.ChatQueryController#parse(ChatParseReq, HttpServletRequest, HttpServletResponse)
14:57:04 [http-nio-9080-exec-2] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor 91 - Read "application/json;charset=UTF-8" to [ChatParseReq(queryText=超音速对比所有人访问次数, chatId=1, agentId=1, topN=10, user=null, queryFilters=null, sav (truncated)...]
14:57:04 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:57:04 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@35f4ab0e] was not registered for synchronization because synchronization is not active
14:57:04 [http-nio-9080-exec-2] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:57:04 [http-nio-9080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@fb920f5] will not be managed by Spring
14:57:04 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==>  Preparing: SELECT id,parameters,admin FROM s2_system_config
14:57:04 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==> Parameters: 
14:57:04 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - <==      Total: 1
14:57:04 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@35f4ab0e]
14:57:04 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:57:04 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@516b1b9d] was not registered for synchronization because synchronization is not active
14:57:04 [http-nio-9080-exec-2] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:57:04 [http-nio-9080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@fb920f5] will not be managed by Spring
14:57:04 [http-nio-9080-exec-2] DEBUG c.t.s.c.s.p.m.C.insert 135 - ==>  Preparing: INSERT INTO s2_chat_query ( agent_id, create_time, user_name, chat_id, query_text, query_result ) VALUES ( ?, ?, ?, ?, ?, ? )
14:57:04 [http-nio-9080-exec-2] DEBUG c.t.s.c.s.p.m.C.insert 135 - ==> Parameters: 1(Integer), 2024-08-07 14:57:04.592(Timestamp), admin(String), 1(Long), 超音速对比所有人访问次数(String), (String)
14:57:04 [http-nio-9080-exec-2] DEBUG c.t.s.c.s.p.m.C.insert 135 - <==    Updates: 1
14:57:04 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@516b1b9d]
14:57:04 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:57:04 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7d2cae06] was not registered for synchronization because synchronization is not active
14:57:04 [http-nio-9080-exec-2] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:57:04 [http-nio-9080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@fb920f5] will not be managed by Spring
14:57:04 [http-nio-9080-exec-2] DEBUG c.t.s.c.s.p.m.A.selectById 135 - ==>  Preparing: SELECT id,name,description,status,examples,config,created_by,created_at,updated_by,updated_at,enable_search,llm_config,multi_turn_config,visual_config FROM s2_agent WHERE id=?
14:57:04 [http-nio-9080-exec-2] DEBUG c.t.s.c.s.p.m.A.selectById 135 - ==> Parameters: 1(Integer)
14:57:04 [http-nio-9080-exec-2] DEBUG c.t.s.c.s.p.m.A.selectById 135 - <==      Total: 1
14:57:04 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7d2cae06]
14:57:04 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:57:04 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@51d82b90] was not registered for synchronization because synchronization is not active
14:57:04 [http-nio-9080-exec-2] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:57:04 [http-nio-9080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@fb920f5] will not be managed by Spring
14:57:04 [http-nio-9080-exec-2] DEBUG c.t.s.h.s.p.m.D.selectList 135 - ==>  Preparing: SELECT id,domain_id,name,biz_name,description,status,alias,data_set_detail,created_at,created_by,updated_at,updated_by,query_config,admin,admin_org FROM s2_data_set WHERE (status = ? AND status <> ?)
14:57:04 [http-nio-9080-exec-2] DEBUG c.t.s.h.s.p.m.D.selectList 135 - ==> Parameters: 1(Integer), 3(Integer)
14:57:04 [http-nio-9080-exec-2] DEBUG c.t.s.h.s.p.m.D.selectList 135 - <==      Total: 2
14:57:04 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@51d82b90]
14:57:04 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:57:04 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@76ca13f1] was not registered for synchronization because synchronization is not active
14:57:04 [http-nio-9080-exec-2] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:57:04 [http-nio-9080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@fb920f5] will not be managed by Spring
14:57:04 [http-nio-9080-exec-2] DEBUG c.t.s.h.s.p.m.T.getTagDOList 135 - ==>  Preparing: select * from s2_tag WHERE item_id in ( ? , ? , ? ) and type = ?
14:57:04 [http-nio-9080-exec-2] DEBUG c.t.s.h.s.p.m.T.getTagDOList 135 - ==> Parameters: 1(Long), 2(Long), 3(Long), DIMENSION(String)
14:57:04 [http-nio-9080-exec-2] DEBUG c.t.s.h.s.p.m.T.getTagDOList 135 - <==      Total: 1
14:57:04 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@76ca13f1]
14:57:04 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:57:04 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1deeb691] was not registered for synchronization because synchronization is not active
14:57:04 [http-nio-9080-exec-2] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:57:04 [http-nio-9080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@fb920f5] will not be managed by Spring
14:57:04 [http-nio-9080-exec-2] DEBUG c.t.s.h.s.p.m.T.getTagDOList 135 - ==>  Preparing: select * from s2_tag WHERE item_id in ( ? , ? , ? , ? ) and type = ?
14:57:04 [http-nio-9080-exec-2] DEBUG c.t.s.h.s.p.m.T.getTagDOList 135 - ==> Parameters: 1(Long), 3(Long), 4(Long), 2(Long), METRIC(String)
14:57:04 [http-nio-9080-exec-2] DEBUG c.t.s.h.s.p.m.T.getTagDOList 135 - <==      Total: 0
14:57:04 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1deeb691]
14:57:04 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:57:04 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@721c55a1] was not registered for synchronization because synchronization is not active
14:57:04 [http-nio-9080-exec-2] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:57:04 [http-nio-9080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@fb920f5] will not be managed by Spring
14:57:04 [http-nio-9080-exec-2] DEBUG c.t.s.h.s.p.m.T.getTagDOList 135 - ==>  Preparing: select * from s2_tag WHERE item_id in ( ? , ? , ? , ? ) and type = ?
14:57:04 [http-nio-9080-exec-2] DEBUG c.t.s.h.s.p.m.T.getTagDOList 135 - ==> Parameters: 4(Long), 5(Long), 6(Long), 7(Long), DIMENSION(String)
14:57:04 [http-nio-9080-exec-2] DEBUG c.t.s.h.s.p.m.T.getTagDOList 135 - <==      Total: 4
14:57:04 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@721c55a1]
14:57:04 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:57:04 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4635c1b6] was not registered for synchronization because synchronization is not active
14:57:04 [http-nio-9080-exec-2] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:57:04 [http-nio-9080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@fb920f5] will not be managed by Spring
14:57:04 [http-nio-9080-exec-2] DEBUG c.t.s.h.s.p.m.T.getTagDOList 135 - ==>  Preparing: select * from s2_tag WHERE item_id in ( ? , ? , ? ) and type = ?
14:57:04 [http-nio-9080-exec-2] DEBUG c.t.s.h.s.p.m.T.getTagDOList 135 - ==> Parameters: 5(Long), 6(Long), 7(Long), METRIC(String)
14:57:04 [http-nio-9080-exec-2] DEBUG c.t.s.h.s.p.m.T.getTagDOList 135 - <==      Total: 1
14:57:04 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4635c1b6]
14:57:04 [http-nio-9080-exec-2] DEBUG c.t.s.h.chat.mapper.BaseMapper 33 - before EmbeddingMapper,mapInfo:{}
14:57:04 [http-nio-9080-exec-2] DEBUG c.t.s.h.c.mapper.BaseMatchStrategy 150 - word:访问次数,nature:_1_1_metric,frequency:100000
14:57:04 [http-nio-9080-exec-2] DEBUG c.t.s.h.c.mapper.BaseMatchStrategy 43 - terms:[S2Term(word=访问次数, nature=_1_1_metric, offset=8, frequency=100000)],,detectDataSetIds:[]
14:57:04 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:57:04 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@218e23e8] was not registered for synchronization because synchronization is not active
14:57:04 [http-nio-9080-exec-2] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:57:04 [http-nio-9080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@fb920f5] will not be managed by Spring
14:57:04 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==>  Preparing: SELECT id,parameters,admin FROM s2_system_config
14:57:04 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==> Parameters: 
14:57:04 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - <==      Total: 1
14:57:04 [scheduling-1] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:57:04 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@218e23e8]
14:57:04 [scheduling-1] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@20e872e0] was not registered for synchronization because synchronization is not active
14:57:04 [scheduling-1] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:57:04 [scheduling-1] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@fb920f5] will not be managed by Spring
14:57:04 [scheduling-1] DEBUG c.t.s.c.s.p.m.C.selectList 135 - ==>  Preparing: SELECT id,question,agent_id,db_schema,s2_sql,status,llm_review AS llmReviewRet,llm_comment AS llmReviewCmt,human_review AS humanReviewRet,human_comment AS humanReviewCmt,created_by,created_at,updated_by,updated_at FROM s2_chat_memory WHERE (status = ? AND llm_review IS NULL)
14:57:04 [scheduling-1] DEBUG c.t.s.c.s.p.m.C.selectList 135 - ==> Parameters: PENDING(String)
14:57:04 [scheduling-1] DEBUG c.t.s.c.s.p.m.C.selectList 135 - <==      Total: 0
14:57:04 [scheduling-1] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@20e872e0]
14:57:04 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:57:04 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@374f8e63] was not registered for synchronization because synchronization is not active
14:57:04 [http-nio-9080-exec-2] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:57:04 [http-nio-9080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@fb920f5] will not be managed by Spring
14:57:04 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==>  Preparing: SELECT id,parameters,admin FROM s2_system_config
14:57:04 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==> Parameters: 
14:57:04 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - <==      Total: 1
14:57:04 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@374f8e63]
14:57:04 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:57:04 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2396528c] was not registered for synchronization because synchronization is not active
14:57:04 [http-nio-9080-exec-2] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:57:04 [http-nio-9080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@fb920f5] will not be managed by Spring
14:57:04 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==>  Preparing: SELECT id,parameters,admin FROM s2_system_config
14:57:04 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==> Parameters: 
14:57:04 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - <==      Total: 1
14:57:04 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2396528c]
14:57:04 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:57:04 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@252759d5] was not registered for synchronization because synchronization is not active
14:57:04 [http-nio-9080-exec-2] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:57:04 [http-nio-9080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@fb920f5] will not be managed by Spring
14:57:04 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==>  Preparing: SELECT id,parameters,admin FROM s2_system_config
14:57:04 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==> Parameters: 
14:57:04 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - <==      Total: 1
14:57:04 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@252759d5]
14:57:04 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
```

### 日志分析关键节点及其解读

1. **GET请求静态资源**
    
    ```sql
    14:56:57 [http-nio-9080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet 91 - GET "/webapp/static/DINPro.214efb35.woff2", parameters={}
    14:56:57 [http-nio-9080-exec-1] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping 522 - Mapped to ResourceHttpRequestHandler [Classpath [webapp/]]
    14:56:57 [http-nio-9080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet 1131 - Completed 304 NOT_MODIFIED
    ```
    
    这个日志条目显示系统接收到一个GET请求，试图获取静态资源`DINPro.214efb35.woff2`。请求被映射到`ResourceHttpRequestHandler`，并返回状态码304（未修改）。
    
2. **POST请求查询聊天信息**
    
    ```perl
    14:56:59 [http-nio-9080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet 91 - POST "/api/chat/query/search", parameters={}
    14:56:59 [http-nio-9080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping 522 - Mapped to com.tencent.supersonic.chat.server.rest.ChatQueryController#search(ChatParseReq, HttpServletRequest, HttpServletResponse)
    14:56:59 [http-nio-9080-exec-3] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor 91 - Read "application/json;charset=UTF-8" to [ChatParseReq(queryText=超音速对比所有人访问, chatId=1, agentId=1, topN=10, user=null, queryFilters=null, saveA (truncated)...]
    ```
    
    系统接收到一个POST请求，URL为`/api/chat/query/search`，请求参数为空。该请求被映射到`ChatQueryController`类的`search`方法，并将请求体解析为`ChatParseReq`对象，包含查询文本、聊天ID、代理ID等信息。
    
3. **创建新的SqlSession**
    
    ```sql
    14:56:59 [http-nio-9080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
    14:56:59 [http-nio-9080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7c15fa3d] was not registered for synchronization because synchronization is not active
    ```
    
    系统创建了一个新的`SqlSession`，该`SqlSession`没有被注册为同步，因为同步没有激活。
    
4. **获取数据库连接**
    
    ```sql
    14:56:59 [http-nio-9080-exec-3] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
    14:56:59 [http-nio-9080-exec-3] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@fb920f5] will not be managed by Spring
    ```
    
    系统从数据源获取JDBC连接，该连接不会被Spring管理。
    
5. **数据库查询1**
    
    ```sql
    14:56:59 [http-nio-9080-exec-3] DEBUG c.t.s.c.p.m.S.selectList 135 - ==>  Preparing: SELECT id,parameters,admin FROM s2_system_config
    14:56:59 [http-nio-9080-exec-3] DEBUG c.t.s.c.p.m.S.selectList 135 - ==> Parameters:
    14:56:59 [http-nio-9080-exec-3] DEBUG c.t.s.c.p.m.S.selectList 135 - <==      Total: 1
    ```
    
    系统准备执行一条查询，从`s2_system_config`表中选择id、parameters和admin字段，没有参数。查询结果总数为1。
    
6. **关闭非事务性SqlSession并创建新SqlSession**
    
    ```sql
    14:56:59 [http-nio-9080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7c15fa3d]
    14:56:59 [http-nio-9080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
    ```
    
    系统关闭了非事务性的`SqlSession`并创建了一个新的`SqlSession`。
    
7. **数据库查询2**
    
    ```sql
    14:56:59 [http-nio-9080-exec-3] DEBUG c.t.s.c.s.p.m.A.selectById 135 - ==>  Preparing: SELECT id,name,description,status,examples,config,created_by,created_at,updated_by,updated_at,enable_search,llm_config,multi_turn_config,visual_config FROM s2_agent WHERE id=?
    14:56:59 [http-nio-9080-exec-3] DEBUG c.t.s.c.s.p.m.A.selectById 135 - ==> Parameters: 1(Integer)
    14:56:59 [http-nio-9080-exec-3] DEBUG c.t.s.c.s.p.m.A.selectById 135 - <==      Total: 1
    ```
    
    系统准备执行一条查询，从`s2_agent`表中选择多个字段，条件是id等于1，查询结果总数为1。
    
8. **关闭非事务性SqlSession并创建新SqlSession（再次）**
    
    ```sql
    14:56:59 [http-nio-9080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@52af30b6]
    14:56:59 [http-nio-9080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
    ```
    
    系统再次关闭了非事务性的`SqlSession`并创建了一个新的`SqlSession`。
    
9. **数据库查询3**
    
    ```sql
    14:56:59 [http-nio-9080-exec-3] DEBUG c.t.s.h.s.p.m.D.selectList 135 - ==>  Preparing: SELECT id,domain_id,name,biz_name,description,status,alias,data_set_detail,created_at,created_by,updated_at,updated_by,query_config,admin,admin_org FROM s2_data_set WHERE (id IN (?,?) AND status = ? AND status <> ?)
    14:56:59 [http-nio-9080-exec-3] DEBUG c.t.s.h.s.p.m.D.selectList 135 - ==> Parameters: 1(Long), 2(Long), 1(Integer), 3(Integer)
    14:56:59 [http-nio-9080-exec-3] DEBUG c.t.s.h.s.p.m.D.selectList 135 - <==      Total: 2
    ```
    
    系统准备执行一条查询，从`s2_data_set`表中选择多个字段，条件是id在1和2之间，status等于1且不等于3。查询结果总数为2。
    
10. **数据库查询4**
    
    ```vbnet
    14:56:59 [http-nio-9080-exec-3] DEBUG c.t.s.h.s.p.m.T.getTagDOList 135 - ==>  Preparing: select * from s2_tag WHERE item_id in ( ? , ? , ? ) and type = ?
    14:56:59 [http-nio-9080-exec-3] DEBUG c.t.s.h.s.p.m.T.getTagDOList 135 - ==> Parameters: 1(Long), 2(Long), 3(Long), DIMENSION(String)
    14:56:59 [http-nio-9080-exec-3] DEBUG c.t.s.h.s.p.m.T.getTagDOList 135 - <==      Total: 1
    ```
    
    系统准备执行一条查询，从`s2_tag`表中选择所有item_id为1、2和3且类型为DIMENSION的记录。查询结果总数为1。
    
11. **生成并返回响应**
    
    ```perl
    14:56:59 [http-nio-9080-exec-3] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor 268 - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
    14:56:59 [http-nio-9080-exec-3] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor 91 - Writing [ResultData(code=200, msg=success, data=[SearchResult(recommend=超音速对比所有人访问人数, subRecommend=访问人数, mode (truncated)...]
    14:56:59 [http-nio-9080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet 1131 - Completed 200 OK
    ```
    
    系统将响应数据封装到`ResultData`对象中，包含状态码200、消息`success`和数据`SearchResult`，并返回给客户端，请求处理完成，状态为200 OK。
    

### 总结

通过分析这些关键节点，我们可以看出系统接收到一个POST请求以查询聊天信息，并将其映射到`ChatQueryController`类的`search`方法。系统解析请求体并多次与数据库进行交互，包括获取系统配置、代理信息、数据集信息和标签信息。最终，系统将查询结果封装到响应对象中并返回给客户端，请求处理完成，状态为200 OK。这表明系统在处理此请求时的每一步都正常运作，成功返回预期结果。

## 4. 第四部分

```
14:57:04 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3410f055] was not registered for synchronization because synchronization is not active
14:57:04 [http-nio-9080-exec-2] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:57:04 [http-nio-9080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@fb920f5] will not be managed by Spring
14:57:04 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==>  Preparing: SELECT id,parameters,admin FROM s2_system_config
14:57:04 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==> Parameters: 
14:57:04 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - <==      Total: 1
14:57:04 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3410f055]
14:57:05 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:57:05 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@13d5fe98] was not registered for synchronization because synchronization is not active
14:57:05 [http-nio-9080-exec-2] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:57:05 [http-nio-9080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@fb920f5] will not be managed by Spring
14:57:05 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==>  Preparing: SELECT id,parameters,admin FROM s2_system_config
14:57:05 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==> Parameters: 
14:57:05 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - <==      Total: 1
14:57:05 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@13d5fe98]
14:57:05 [http-nio-9080-exec-2] DEBUG c.t.s.h.chat.mapper.BaseMapper 44 - after EmbeddingMapper,cost:1153,mapInfo:{1=[SchemaElementMatch(element=SchemaElement(dataSet=1, dataSetName=超音数数据集, model=2, id=1, name=访问次数, bizName=pv, useCnt=0, type=METRIC, alias=[], schemaValueMaps=null, relatedSchemaElements=[RelatedSchemaElement(dimensionId=1, isNecessary=false), RelatedSchemaElement(dimensionId=2, isNecessary=false)], defaultAgg=SUM, dataFormatType=null, order=0.0, isTag=0, description=一段时间内用户的访问次数), similarity=1.0, detectWord=访问次数, word=访问次数, frequency=100000, isInherited=false), SchemaElementMatch(element=SchemaElement(dataSet=1, dataSetName=超音数数据集, model=2, id=4, name=人均访问次数, bizName=pv_avg, useCnt=0, type=METRIC, alias=[平均访问次数], schemaValueMaps=null, relatedSchemaElements=[RelatedSchemaElement(dimensionId=1, isNecessary=false)], defaultAgg=, dataFormatType=null, order=0.0, isTag=0, description=每个用户平均访问的次数), similarity=0.9971581297489837, detectWord=人访问次数, word=人均访问次数, frequency=100000, isInherited=false), SchemaElementMatch(element=SchemaElement(dataSet=1, dataSetName=超音数数据集, model=2, id=3, name=访问用户数, bizName=uv, useCnt=0, type=METRIC, alias=[UV, 访问人数], schemaValueMaps=null, relatedSchemaElements=[RelatedSchemaElement(dimensionId=1, isNecessary=false)], defaultAgg=count, dataFormatType=null, order=0.0, isTag=0, description=访问的用户个数), similarity=0.9953412336995052, detectWord=访问次数, word=访问用户数, frequency=100000, isInherited=false)]}
14:57:05 [http-nio-9080-exec-2] DEBUG c.t.s.h.chat.mapper.BaseMapper 33 - before KeywordMapper,mapInfo:{1=[SchemaElementMatch(element=SchemaElement(dataSet=1, dataSetName=超音数数据集, model=2, id=1, name=访问次数, bizName=pv, useCnt=0, type=METRIC, alias=[], schemaValueMaps=null, relatedSchemaElements=[RelatedSchemaElement(dimensionId=1, isNecessary=false), RelatedSchemaElement(dimensionId=2, isNecessary=false)], defaultAgg=SUM, dataFormatType=null, order=0.0, isTag=0, description=一段时间内用户的访问次数), similarity=1.0, detectWord=访问次数, word=访问次数, frequency=100000, isInherited=false), SchemaElementMatch(element=SchemaElement(dataSet=1, dataSetName=超音数数据集, model=2, id=4, name=人均访问次数, bizName=pv_avg, useCnt=0, type=METRIC, alias=[平均访问次数], schemaValueMaps=null, relatedSchemaElements=[RelatedSchemaElement(dimensionId=1, isNecessary=false)], defaultAgg=, dataFormatType=null, order=0.0, isTag=0, description=每个用户平均访问的次数), similarity=0.9971581297489837, detectWord=人访问次数, word=人均访问次数, frequency=100000, isInherited=false), SchemaElementMatch(element=SchemaElement(dataSet=1, dataSetName=超音数数据集, model=2, id=3, name=访问用户数, bizName=uv, useCnt=0, type=METRIC, alias=[UV, 访问人数], schemaValueMaps=null, relatedSchemaElements=[RelatedSchemaElement(dimensionId=1, isNecessary=false)], defaultAgg=count, dataFormatType=null, order=0.0, isTag=0, description=访问的用户个数), similarity=0.9953412336995052, detectWord=访问次数, word=访问用户数, frequency=100000, isInherited=false)]}
14:57:05 [http-nio-9080-exec-2] DEBUG c.t.s.h.c.mapper.BaseMatchStrategy 150 - word:访问次数,nature:_1_1_metric,frequency:100000
14:57:05 [http-nio-9080-exec-2] DEBUG c.t.s.h.c.m.HanlpDictMatchStrategy 47 - terms:[S2Term(word=访问次数, nature=_1_1_metric, offset=8, frequency=100000)],detectModelIds:[]
14:57:05 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:57:05 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@24b96f4b] was not registered for synchronization because synchronization is not active
14:57:05 [http-nio-9080-exec-2] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:57:05 [http-nio-9080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@fb920f5] will not be managed by Spring
14:57:05 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==>  Preparing: SELECT id,parameters,admin FROM s2_system_config
14:57:05 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==> Parameters: 
14:57:05 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - <==      Total: 1
14:57:05 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@24b96f4b]
14:57:05 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:57:05 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1010b0b7] was not registered for synchronization because synchronization is not active
14:57:05 [http-nio-9080-exec-2] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:57:05 [http-nio-9080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@fb920f5] will not be managed by Spring
14:57:05 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==>  Preparing: SELECT id,parameters,admin FROM s2_system_config
14:57:05 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==> Parameters: 
14:57:05 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - <==      Total: 1
14:57:05 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1010b0b7]
14:57:05 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:57:05 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@56cb0d01] was not registered for synchronization because synchronization is not active
14:57:05 [http-nio-9080-exec-2] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:57:05 [http-nio-9080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@fb920f5] will not be managed by Spring
14:57:05 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==>  Preparing: SELECT id,parameters,admin FROM s2_system_config
14:57:05 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==> Parameters: 
14:57:05 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - <==      Total: 1
14:57:05 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@56cb0d01]
14:57:05 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:57:05 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5eb3cd06] was not registered for synchronization because synchronization is not active
14:57:05 [http-nio-9080-exec-2] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:57:05 [http-nio-9080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@fb920f5] will not be managed by Spring
14:57:05 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==>  Preparing: SELECT id,parameters,admin FROM s2_system_config
14:57:05 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==> Parameters: 
14:57:05 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - <==      Total: 1
14:57:05 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5eb3cd06]
14:57:05 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:57:05 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5710995b] was not registered for synchronization because synchronization is not active
14:57:05 [http-nio-9080-exec-2] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:57:05 [http-nio-9080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@fb920f5] will not be managed by Spring
14:57:05 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==>  Preparing: SELECT id,parameters,admin FROM s2_system_config
14:57:05 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==> Parameters: 
14:57:05 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - <==      Total: 1
14:57:05 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5710995b]
14:57:05 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:57:05 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4627f9fb] was not registered for synchronization because synchronization is not active
14:57:05 [http-nio-9080-exec-2] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:57:05 [http-nio-9080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@fb920f5] will not be managed by Spring
14:57:05 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==>  Preparing: SELECT id,parameters,admin FROM s2_system_config
14:57:05 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==> Parameters: 
14:57:05 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - <==      Total: 1
14:57:05 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4627f9fb]
14:57:05 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:57:05 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@25009e78] was not registered for synchronization because synchronization is not active
14:57:05 [http-nio-9080-exec-2] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:57:05 [http-nio-9080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@fb920f5] will not be managed by Spring
14:57:05 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==>  Preparing: SELECT id,parameters,admin FROM s2_system_config
14:57:05 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==> Parameters: 
14:57:05 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - <==      Total: 1
14:57:05 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@25009e78]
14:57:05 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:57:05 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3cb3ee96] was not registered for synchronization because synchronization is not active
14:57:05 [http-nio-9080-exec-2] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:57:05 [http-nio-9080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@fb920f5] will not be managed by Spring
14:57:05 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==>  Preparing: SELECT id,parameters,admin FROM s2_system_config
14:57:05 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==> Parameters: 
14:57:05 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - <==      Total: 1
14:57:05 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3cb3ee96]
14:57:05 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:57:05 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@238b03cd] was not registered for synchronization because synchronization is not active
14:57:05 [http-nio-9080-exec-2] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:57:05 [http-nio-9080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@fb920f5] will not be managed by Spring
14:57:05 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==>  Preparing: SELECT id,parameters,admin FROM s2_system_config
14:57:05 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==> Parameters: 
14:57:05 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - <==      Total: 1
14:57:05 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@238b03cd]
14:57:05 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:57:05 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@54662213] was not registered for synchronization because synchronization is not active
14:57:05 [http-nio-9080-exec-2] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:57:05 [http-nio-9080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@fb920f5] will not be managed by Spring
14:57:05 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==>  Preparing: SELECT id,parameters,admin FROM s2_system_config
14:57:05 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==> Parameters: 
14:57:05 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - <==      Total: 1
14:57:05 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@54662213]
14:57:05 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:57:05 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@60ebc7d7] was not registered for synchronization because synchronization is not active
14:57:05 [http-nio-9080-exec-2] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:57:05 [http-nio-9080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@fb920f5] will not be managed by Spring
14:57:05 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==>  Preparing: SELECT id,parameters,admin FROM s2_system_config
14:57:05 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==> Parameters: 
14:57:05 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - <==      Total: 1
14:57:05 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@60ebc7d7]
14:57:05 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:57:05 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@673141e1] was not registered for synchronization because synchronization is not active
14:57:05 [http-nio-9080-exec-2] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:57:05 [http-nio-9080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@fb920f5] will not be managed by Spring
14:57:05 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==>  Preparing: SELECT id,parameters,admin FROM s2_system_config
14:57:05 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==> Parameters: 
14:57:05 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - <==      Total: 1
14:57:05 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@673141e1]
14:57:05 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:57:05 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6bbd0aa6] was not registered for synchronization because synchronization is not active
14:57:05 [http-nio-9080-exec-2] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:57:05 [http-nio-9080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@fb920f5] will not be managed by Spring
14:57:05 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==>  Preparing: SELECT id,parameters,admin FROM s2_system_config
14:57:05 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==> Parameters: 
14:57:05 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - <==      Total: 1
14:57:05 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6bbd0aa6]
14:57:05 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:57:05 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1032d8a4] was not registered for synchronization because synchronization is not active
14:57:05 [http-nio-9080-exec-2] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:57:05 [http-nio-9080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@fb920f5] will not be managed by Spring
14:57:05 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==>  Preparing: SELECT id,parameters,admin FROM s2_system_config
14:57:05 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==> Parameters: 
14:57:05 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - <==      Total: 1
14:57:05 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1032d8a4]
14:57:05 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:57:05 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@73ba9f8a] was not registered for synchronization because synchronization is not active
14:57:05 [http-nio-9080-exec-2] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:57:05 [http-nio-9080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@fb920f5] will not be managed by Spring
14:57:05 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==>  Preparing: SELECT id,parameters,admin FROM s2_system_config
14:57:05 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==> Parameters: 
14:57:05 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - <==      Total: 1
14:57:05 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@73ba9f8a]
14:57:05 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:57:05 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@55fdac4] was not registered for synchronization because synchronization is not active
14:57:05 [http-nio-9080-exec-2] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:57:05 [http-nio-9080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@fb920f5] will not be managed by Spring
14:57:05 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==>  Preparing: SELECT id,parameters,admin FROM s2_system_config
14:57:05 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==> Parameters: 
14:57:05 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - <==      Total: 1
14:57:05 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@55fdac4]
14:57:05 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:57:05 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@580da668] was not registered for synchronization because synchronization is not active
14:57:05 [http-nio-9080-exec-2] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:57:05 [http-nio-9080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@fb920f5] will not be managed by Spring
14:57:05 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==>  Preparing: SELECT id,parameters,admin FROM s2_system_config
14:57:05 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==> Parameters: 
14:57:05 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - <==      Total: 1
14:57:05 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@580da668]
14:57:05 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:57:05 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@568be7b8] was not registered for synchronization because synchronization is not active
14:57:05 [http-nio-9080-exec-2] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:57:05 [http-nio-9080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@fb920f5] will not be managed by Spring
14:57:05 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==>  Preparing: SELECT id,parameters,admin FROM s2_system_config
14:57:05 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==> Parameters: 
14:57:05 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - <==      Total: 1
14:57:05 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@568be7b8]
14:57:05 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:57:05 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7df47698] was not registered for synchronization because synchronization is not active
14:57:05 [http-nio-9080-exec-2] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:57:05 [http-nio-9080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@fb920f5] will not be managed by Spring
14:57:05 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==>  Preparing: SELECT id,parameters,admin FROM s2_system_config
14:57:05 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==> Parameters: 
14:57:05 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - <==      Total: 1
14:57:05 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7df47698]
14:57:05 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:57:05 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@155ad2d5] was not registered for synchronization because synchronization is not active
14:57:05 [http-nio-9080-exec-2] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:57:05 [http-nio-9080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@fb920f5] will not be managed by Spring
14:57:05 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==>  Preparing: SELECT id,parameters,admin FROM s2_system_config
14:57:05 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==> Parameters: 
14:57:05 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - <==      Total: 1
14:57:05 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@155ad2d5]
14:57:05 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:57:05 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7eb61a33] was not registered for synchronization because synchronization is not active
14:57:05 [http-nio-9080-exec-2] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:57:05 [http-nio-9080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@fb920f5] will not be managed by Spring
14:57:05 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==>  Preparing: SELECT id,parameters,admin FROM s2_system_config
14:57:05 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==> Parameters: 
14:57:05 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - <==      Total: 1
14:57:05 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7eb61a33]
14:57:05 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:57:05 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@b6cb960] was not registered for synchronization because synchronization is not active
14:57:05 [http-nio-9080-exec-2] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:57:05 [http-nio-9080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@fb920f5] will not be managed by Spring
14:57:05 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==>  Preparing: SELECT id,parameters,admin FROM s2_system_config
14:57:05 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==> Parameters: 
14:57:05 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - <==      Total: 1
14:57:05 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@b6cb960]
14:57:05 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:57:05 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@22ca9090] was not registered for synchronization because synchronization is not active
14:57:05 [http-nio-9080-exec-2] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:57:05 [http-nio-9080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@fb920f5] will not be managed by Spring
14:57:05 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==>  Preparing: SELECT id,parameters,admin FROM s2_system_config
14:57:05 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==> Parameters: 
14:57:05 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - <==      Total: 1
14:57:05 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@22ca9090]
14:57:05 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:57:05 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1c064f84] was not registered for synchronization because synchronization is not active
14:57:05 [http-nio-9080-exec-2] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:57:05 [http-nio-9080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@fb920f5] will not be managed by Spring
14:57:05 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==>  Preparing: SELECT id,parameters,admin FROM s2_system_config
14:57:05 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==> Parameters: 
14:57:05 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - <==      Total: 1
14:57:05 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1c064f84]
14:57:05 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:57:05 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1def29d3] was not registered for synchronization because synchronization is not active
14:57:05 [http-nio-9080-exec-2] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:57:05 [http-nio-9080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@fb920f5] will not be managed by Spring
14:57:05 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==>  Preparing: SELECT id,parameters,admin FROM s2_system_config
14:57:05 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==> Parameters: 
14:57:05 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - <==      Total: 1
14:57:05 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1def29d3]
14:57:05 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:57:05 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3b847544] was not registered for synchronization because synchronization is not active
14:57:05 [http-nio-9080-exec-2] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:57:05 [http-nio-9080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@fb920f5] will not be managed by Spring
14:57:05 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==>  Preparing: SELECT id,parameters,admin FROM s2_system_config
14:57:05 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==> Parameters: 
14:57:05 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - <==      Total: 1
14:57:05 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3b847544]
14:57:05 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:57:05 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@f17cbb7] was not registered for synchronization because synchronization is not active
14:57:05 [http-nio-9080-exec-2] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:57:05 [http-nio-9080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@fb920f5] will not be managed by Spring
14:57:05 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==>  Preparing: SELECT id,parameters,admin FROM s2_system_config
14:57:05 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==> Parameters: 
14:57:05 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - <==      Total: 1
14:57:05 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@f17cbb7]
14:57:05 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:57:05 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@177a8b3] was not registered for synchronization because synchronization is not active
14:57:05 [http-nio-9080-exec-2] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:57:05 [http-nio-9080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@fb920f5] will not be managed by Spring
14:57:05 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==>  Preparing: SELECT id,parameters,admin FROM s2_system_config
14:57:05 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==> Parameters: 
14:57:05 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - <==      Total: 1
14:57:05 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@177a8b3]
14:57:05 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:57:05 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4d1647c5] was not registered for synchronization because synchronization is not active
14:57:05 [http-nio-9080-exec-2] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:57:05 [http-nio-9080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@fb920f5] will not be managed by Spring
14:57:05 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==>  Preparing: SELECT id,parameters,admin FROM s2_system_config
14:57:05 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==> Parameters: 
14:57:05 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - <==      Total: 1
14:57:05 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4d1647c5]
14:57:05 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:57:05 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@66ca82a6] was not registered for synchronization because synchronization is not active
14:57:05 [http-nio-9080-exec-2] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:57:05 [http-nio-9080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@fb920f5] will not be managed by Spring
14:57:05 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==>  Preparing: SELECT id,parameters,admin FROM s2_system_config
14:57:05 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==> Parameters: 
14:57:05 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - <==      Total: 1
14:57:05 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@66ca82a6]
14:57:05 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:57:05 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@eeb37ef] was not registered for synchronization because synchronization is not active
14:57:05 [http-nio-9080-exec-2] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:57:05 [http-nio-9080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@fb920f5] will not be managed by Spring
14:57:05 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==>  Preparing: SELECT id,parameters,admin FROM s2_system_config
14:57:05 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==> Parameters: 
14:57:05 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - <==      Total: 1
14:57:05 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@eeb37ef]
14:57:05 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:57:05 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@42e7a939] was not registered for synchronization because synchronization is not active
14:57:05 [http-nio-9080-exec-2] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:57:05 [http-nio-9080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@fb920f5] will not be managed by Spring
14:57:05 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==>  Preparing: SELECT id,parameters,admin FROM s2_system_config
14:57:05 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==> Parameters: 
14:57:05 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - <==      Total: 1
14:57:05 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@42e7a939]
14:57:05 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:57:05 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@739015e] was not registered for synchronization because synchronization is not active
14:57:05 [http-nio-9080-exec-2] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:57:05 [http-nio-9080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@fb920f5] will not be managed by Spring
14:57:05 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==>  Preparing: SELECT id,parameters,admin FROM s2_system_config
14:57:05 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==> Parameters: 
14:57:05 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - <==      Total: 1
14:57:05 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@739015e]
14:57:05 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:57:05 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5e953b4f] was not registered for synchronization because synchronization is not active
14:57:05 [http-nio-9080-exec-2] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:57:05 [http-nio-9080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@fb920f5] will not be managed by Spring
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==>  Preparing: SELECT id,parameters,admin FROM s2_system_config
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==> Parameters: 
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - <==      Total: 1
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5e953b4f]
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@11d40cd6] was not registered for synchronization because synchronization is not active
14:57:06 [http-nio-9080-exec-2] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:57:06 [http-nio-9080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@fb920f5] will not be managed by Spring
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==>  Preparing: SELECT id,parameters,admin FROM s2_system_config
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==> Parameters: 
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - <==      Total: 1
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@11d40cd6]
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@602f4d25] was not registered for synchronization because synchronization is not active
14:57:06 [http-nio-9080-exec-2] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:57:06 [http-nio-9080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@fb920f5] will not be managed by Spring
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==>  Preparing: SELECT id,parameters,admin FROM s2_system_config
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==> Parameters: 
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - <==      Total: 1
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@602f4d25]
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4931e045] was not registered for synchronization because synchronization is not active
14:57:06 [http-nio-9080-exec-2] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:57:06 [http-nio-9080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@fb920f5] will not be managed by Spring
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==>  Preparing: SELECT id,parameters,admin FROM s2_system_config
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==> Parameters: 
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - <==      Total: 1
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4931e045]
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7ec9c461] was not registered for synchronization because synchronization is not active
14:57:06 [http-nio-9080-exec-2] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:57:06 [http-nio-9080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@fb920f5] will not be managed by Spring
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==>  Preparing: SELECT id,parameters,admin FROM s2_system_config
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==> Parameters: 
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - <==      Total: 1
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7ec9c461]
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@57e83006] was not registered for synchronization because synchronization is not active
14:57:06 [http-nio-9080-exec-2] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:57:06 [http-nio-9080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@fb920f5] will not be managed by Spring
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==>  Preparing: SELECT id,parameters,admin FROM s2_system_config
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==> Parameters: 
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - <==      Total: 1
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@57e83006]
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2c31b40b] was not registered for synchronization because synchronization is not active
14:57:06 [http-nio-9080-exec-2] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:57:06 [http-nio-9080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@fb920f5] will not be managed by Spring
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==>  Preparing: SELECT id,parameters,admin FROM s2_system_config
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==> Parameters: 
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - <==      Total: 1
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2c31b40b]
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@45601a59] was not registered for synchronization because synchronization is not active
14:57:06 [http-nio-9080-exec-2] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:57:06 [http-nio-9080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@fb920f5] will not be managed by Spring
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==>  Preparing: SELECT id,parameters,admin FROM s2_system_config
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==> Parameters: 
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - <==      Total: 1
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@45601a59]
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@24f2c4d8] was not registered for synchronization because synchronization is not active
14:57:06 [http-nio-9080-exec-2] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:57:06 [http-nio-9080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@fb920f5] will not be managed by Spring
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==>  Preparing: SELECT id,parameters,admin FROM s2_system_config
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==> Parameters: 
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - <==      Total: 1
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@24f2c4d8]
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@417af7f8] was not registered for synchronization because synchronization is not active
14:57:06 [http-nio-9080-exec-2] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:57:06 [http-nio-9080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@fb920f5] will not be managed by Spring
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==>  Preparing: SELECT id,parameters,admin FROM s2_system_config
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==> Parameters: 
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - <==      Total: 1
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@417af7f8]
14:57:06 [http-nio-9080-exec-2] DEBUG c.h.h.c.trie.bintrie.BaseNode 290 - walkNode before:[_2_4_metric]
14:57:06 [http-nio-9080-exec-2] DEBUG c.h.h.c.trie.bintrie.BaseNode 293 - walkNode name:人均访问次数,after:[_2_4_metric],natures:[_2_4_metric]
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@24ba5944] was not registered for synchronization because synchronization is not active
14:57:06 [http-nio-9080-exec-2] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:57:06 [http-nio-9080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@fb920f5] will not be managed by Spring
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==>  Preparing: SELECT id,parameters,admin FROM s2_system_config
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==> Parameters: 
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - <==      Total: 1
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@24ba5944]
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@388106ae] was not registered for synchronization because synchronization is not active
14:57:06 [http-nio-9080-exec-2] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:57:06 [http-nio-9080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@fb920f5] will not be managed by Spring
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==>  Preparing: SELECT id,parameters,admin FROM s2_system_config
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==> Parameters: 
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - <==      Total: 1
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@388106ae]
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.h.c.m.HanlpDictMatchStrategy 90 - detectSegment:人,after isSimilarity parseResults:[]
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@67df15b8] was not registered for synchronization because synchronization is not active
14:57:06 [http-nio-9080-exec-2] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:57:06 [http-nio-9080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@fb920f5] will not be managed by Spring
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==>  Preparing: SELECT id,parameters,admin FROM s2_system_config
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==> Parameters: 
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - <==      Total: 1
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@67df15b8]
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2f5be9df] was not registered for synchronization because synchronization is not active
14:57:06 [http-nio-9080-exec-2] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:57:06 [http-nio-9080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@fb920f5] will not be managed by Spring
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==>  Preparing: SELECT id,parameters,admin FROM s2_system_config
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==> Parameters: 
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - <==      Total: 1
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2f5be9df]
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2e15a8a2] was not registered for synchronization because synchronization is not active
14:57:06 [http-nio-9080-exec-2] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:57:06 [http-nio-9080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@fb920f5] will not be managed by Spring
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==>  Preparing: SELECT id,parameters,admin FROM s2_system_config
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==> Parameters: 
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - <==      Total: 1
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2e15a8a2]
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5c1eddaa] was not registered for synchronization because synchronization is not active
14:57:06 [http-nio-9080-exec-2] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:57:06 [http-nio-9080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@fb920f5] will not be managed by Spring
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==>  Preparing: SELECT id,parameters,admin FROM s2_system_config
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==> Parameters: 
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - <==      Total: 1
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5c1eddaa]
14:57:06 [http-nio-9080-exec-2] DEBUG c.h.h.c.trie.bintrie.BaseNode 290 - walkNode before:[_2_1_metric]
14:57:06 [http-nio-9080-exec-2] DEBUG c.h.h.c.trie.bintrie.BaseNode 293 - walkNode name:访问次数,after:[_2_1_metric],natures:[_2_1_metric]
14:57:06 [http-nio-9080-exec-2] DEBUG c.h.h.c.trie.bintrie.BaseNode 290 - walkNode before:[_2_1_suffix_metric]
14:57:06 [http-nio-9080-exec-2] DEBUG c.h.h.c.trie.bintrie.BaseNode 293 - walkNode name:数次问访,after:[_2_1_suffix_metric],natures:[_2_1_suffix_metric]
14:57:06 [http-nio-9080-exec-2] DEBUG c.h.h.c.trie.bintrie.BaseNode 290 - walkNode before:[_2_4_suffix_metric]
14:57:06 [http-nio-9080-exec-2] DEBUG c.h.h.c.trie.bintrie.BaseNode 293 - walkNode name:数次问访均人,after:[_2_4_suffix_metric],natures:[_2_4_suffix_metric]
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@583e6359] was not registered for synchronization because synchronization is not active
14:57:06 [http-nio-9080-exec-2] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:57:06 [http-nio-9080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@fb920f5] will not be managed by Spring
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==>  Preparing: SELECT id,parameters,admin FROM s2_system_config
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==> Parameters: 
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - <==      Total: 1
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@583e6359]
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@29017275] was not registered for synchronization because synchronization is not active
14:57:06 [http-nio-9080-exec-2] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:57:06 [http-nio-9080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@fb920f5] will not be managed by Spring
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==>  Preparing: SELECT id,parameters,admin FROM s2_system_config
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==> Parameters: 
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - <==      Total: 1
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@29017275]
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3555e722] was not registered for synchronization because synchronization is not active
14:57:06 [http-nio-9080-exec-2] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:57:06 [http-nio-9080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@fb920f5] will not be managed by Spring
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==>  Preparing: SELECT id,parameters,admin FROM s2_system_config
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==> Parameters: 
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - <==      Total: 1
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3555e722]
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@549f4a8f] was not registered for synchronization because synchronization is not active
14:57:06 [http-nio-9080-exec-2] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:57:06 [http-nio-9080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@fb920f5] will not be managed by Spring
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==>  Preparing: SELECT id,parameters,admin FROM s2_system_config
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==> Parameters: 
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - <==      Total: 1
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@549f4a8f]
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.h.c.m.HanlpDictMatchStrategy 90 - detectSegment:访问次数,after isSimilarity parseResults:[HanlpMapResult(natures=[_1_1_metric], offset=0, similarity=0.0), HanlpMapResult(natures=[_1_4_metric], offset=0, similarity=0.0)]
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@326f9db] was not registered for synchronization because synchronization is not active
14:57:06 [http-nio-9080-exec-2] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:57:06 [http-nio-9080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@fb920f5] will not be managed by Spring
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==>  Preparing: SELECT id,parameters,admin FROM s2_system_config
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==> Parameters: 
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - <==      Total: 1
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@326f9db]
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2385ed7f] was not registered for synchronization because synchronization is not active
14:57:06 [http-nio-9080-exec-2] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:57:06 [http-nio-9080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@fb920f5] will not be managed by Spring
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==>  Preparing: SELECT id,parameters,admin FROM s2_system_config
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==> Parameters: 
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - <==      Total: 1
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2385ed7f]
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.h.c.mapper.BaseMatchStrategy 150 - word:访问次数,nature:_1_1_metric,frequency:100000
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.h.c.mapper.BaseMatchStrategy 43 - terms:[S2Term(word=访问次数, nature=_1_1_metric, offset=8, frequency=100000)],,detectDataSetIds:[]
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@67d02bd] was not registered for synchronization because synchronization is not active
14:57:06 [http-nio-9080-exec-2] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:57:06 [http-nio-9080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@fb920f5] will not be managed by Spring
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==>  Preparing: SELECT id,parameters,admin FROM s2_system_config
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==> Parameters: 
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - <==      Total: 1
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@67d02bd]
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3a7a5ded] was not registered for synchronization because synchronization is not active
14:57:06 [http-nio-9080-exec-2] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:57:06 [http-nio-9080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@fb920f5] will not be managed by Spring
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==>  Preparing: SELECT id,parameters,admin FROM s2_system_config
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==> Parameters: 
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - <==      Total: 1
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3a7a5ded]
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@73cd759a] was not registered for synchronization because synchronization is not active
14:57:06 [http-nio-9080-exec-2] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:57:06 [http-nio-9080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@fb920f5] will not be managed by Spring
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==>  Preparing: SELECT id,parameters,admin FROM s2_system_config
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==> Parameters: 
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - <==      Total: 1
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@73cd759a]
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@76f20c53] was not registered for synchronization because synchronization is not active
14:57:06 [http-nio-9080-exec-2] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:57:06 [http-nio-9080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@fb920f5] will not be managed by Spring
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==>  Preparing: SELECT id,parameters,admin FROM s2_system_config
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==> Parameters: 
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - <==      Total: 1
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@76f20c53]
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@f19be2] was not registered for synchronization because synchronization is not active
14:57:06 [http-nio-9080-exec-2] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:57:06 [http-nio-9080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@fb920f5] will not be managed by Spring
```

### 日志分析关键节点及其解读

1. **创建和关闭SqlSession**
    
    ```sql
    14:57:04 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3410f055] was not registered for synchronization because synchronization is not active
    14:57:04 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3410f055]
    14:57:04 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
    ```
    
    日志显示了多个`SqlSession`的创建和关闭。每次创建的`SqlSession`都没有被注册为同步，表明这些`SqlSession`是非事务性的。在短时间内频繁创建和关闭`SqlSession`可能是因为代码在循环中或多个并发请求导致的。
    
2. **获取数据库连接**
    
    ```sql
    14:57:04 [http-nio-9080-exec-2] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
    14:57:04 [http-nio-9080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@fb920f5] will not be managed by Spring
    ```
    
    每次创建`SqlSession`后，系统都会从数据源获取JDBC连接。连接不会被Spring管理，表明这些连接是由MyBatis直接使用的。
    
3. **执行查询**
    
    ```sql
    14:57:04 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==>  Preparing: SELECT id,parameters,admin FROM s2_system_config
    14:57:04 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==> Parameters:
    14:57:04 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - <==      Total: 1
    ```
    
    系统在每次创建`SqlSession`并获取数据库连接后，都会执行一个查询，选择`s2_system_config`表中的id、parameters和admin字段。查询没有参数，返回的结果总数为1。
    
4. **处理查询结果**
    
    ```
    14:57:05 [http-nio-9080-exec-2] DEBUG c.t.s.h.chat.mapper.BaseMapper 44 - after EmbeddingMapper,cost:1153,mapInfo:{...}
    ```
    
    系统执行查询后，会对结果进行处理，这里提到`EmbeddingMapper`的处理时间为1153毫秒，并且`mapInfo`包含了一些模式匹配的信息。这里的匹配信息包括数据集名称、模型、元素名称、业务名称、类型、别名等。
    
5. **关键字匹配和相似度计算**
    
    ```sql
    14:57:05 [http-nio-9080-exec-2] DEBUG c.t.s.h.c.mapper.BaseMatchStrategy 150 - word:访问次数,nature:_1_1_metric,frequency:100000
    14:57:05 [http-nio-9080-exec-2] DEBUG c.t.s.h.c.m.HanlpDictMatchStrategy 47 - terms:[S2Term(word=访问次数, nature=_1_1_metric, offset=8, frequency=100000)],detectModelIds:[]
    ```
    
    系统在查询结果后，会进行关键字匹配和相似度计算。这里`word`为“访问次数”，`nature`为`_1_1_metric`，`frequency`为100000。系统使用`HanlpDictMatchStrategy`对词条进行解析，计算相似度。
    

### 总结

通过这些日志的分析，可以看到系统在处理一个请求时，频繁创建和关闭`SqlSession`，每次都会获取数据库连接并执行查询。系统查询的是`s2_system_config`表中的id、parameters和admin字段，并对结果进行处理，包括关键字匹配和相似度计算。这种频繁的数据库访问和`SqlSession`管理方式可能导致性能问题，可以考虑优化代码逻辑以减少不必要的`SqlSession`创建和数据库连接获取。

## 5. 第五部分

```
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==>  Preparing: SELECT id,parameters,admin FROM s2_system_config
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==> Parameters: 
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - <==      Total: 1
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@f19be2]
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4fcf7022] was not registered for synchronization because synchronization is not active
14:57:06 [http-nio-9080-exec-2] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:57:06 [http-nio-9080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@fb920f5] will not be managed by Spring
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==>  Preparing: SELECT id,parameters,admin FROM s2_system_config
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==> Parameters: 
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - <==      Total: 1
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4fcf7022]
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@19d90c6d] was not registered for synchronization because synchronization is not active
14:57:06 [http-nio-9080-exec-2] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:57:06 [http-nio-9080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@fb920f5] will not be managed by Spring
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==>  Preparing: SELECT id,parameters,admin FROM s2_system_config
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==> Parameters: 
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - <==      Total: 1
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@19d90c6d]
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4f766856] was not registered for synchronization because synchronization is not active
14:57:06 [http-nio-9080-exec-2] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:57:06 [http-nio-9080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@fb920f5] will not be managed by Spring
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==>  Preparing: SELECT id,parameters,admin FROM s2_system_config
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==> Parameters: 
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - <==      Total: 1
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4f766856]
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@56f3fa0a] was not registered for synchronization because synchronization is not active
14:57:06 [http-nio-9080-exec-2] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:57:06 [http-nio-9080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@fb920f5] will not be managed by Spring
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==>  Preparing: SELECT id,parameters,admin FROM s2_system_config
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==> Parameters: 
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - <==      Total: 1
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@56f3fa0a]
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3365b33b] was not registered for synchronization because synchronization is not active
14:57:06 [http-nio-9080-exec-2] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:57:06 [http-nio-9080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@fb920f5] will not be managed by Spring
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==>  Preparing: SELECT id,parameters,admin FROM s2_system_config
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==> Parameters: 
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - <==      Total: 1
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3365b33b]
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3c763900] was not registered for synchronization because synchronization is not active
14:57:06 [http-nio-9080-exec-2] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:57:06 [http-nio-9080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@fb920f5] will not be managed by Spring
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==>  Preparing: SELECT id,parameters,admin FROM s2_system_config
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==> Parameters: 
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - <==      Total: 1
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3c763900]
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7ae63f1] was not registered for synchronization because synchronization is not active
14:57:06 [http-nio-9080-exec-2] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:57:06 [http-nio-9080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@fb920f5] will not be managed by Spring
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==>  Preparing: SELECT id,parameters,admin FROM s2_system_config
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==> Parameters: 
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - <==      Total: 1
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7ae63f1]
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1a613c72] was not registered for synchronization because synchronization is not active
14:57:06 [http-nio-9080-exec-2] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:57:06 [http-nio-9080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@fb920f5] will not be managed by Spring
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==>  Preparing: SELECT id,parameters,admin FROM s2_system_config
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==> Parameters: 
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - <==      Total: 1
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1a613c72]
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@102a2e86] was not registered for synchronization because synchronization is not active
14:57:06 [http-nio-9080-exec-2] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:57:06 [http-nio-9080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@fb920f5] will not be managed by Spring
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==>  Preparing: SELECT id,parameters,admin FROM s2_system_config
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==> Parameters: 
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - <==      Total: 1
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@102a2e86]
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1263e8b] was not registered for synchronization because synchronization is not active
14:57:06 [http-nio-9080-exec-2] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:57:06 [http-nio-9080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@fb920f5] will not be managed by Spring
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==>  Preparing: SELECT id,parameters,admin FROM s2_system_config
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==> Parameters: 
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - <==      Total: 1
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1263e8b]
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5f092284] was not registered for synchronization because synchronization is not active
14:57:06 [http-nio-9080-exec-2] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:57:06 [http-nio-9080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@fb920f5] will not be managed by Spring
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==>  Preparing: SELECT id,parameters,admin FROM s2_system_config
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==> Parameters: 
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - <==      Total: 1
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5f092284]
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@45e62e21] was not registered for synchronization because synchronization is not active
14:57:06 [http-nio-9080-exec-2] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:57:06 [http-nio-9080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@fb920f5] will not be managed by Spring
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==>  Preparing: SELECT id,parameters,admin FROM s2_system_config
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==> Parameters: 
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - <==      Total: 1
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@45e62e21]
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7ed82d4e] was not registered for synchronization because synchronization is not active
14:57:06 [http-nio-9080-exec-2] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:57:06 [http-nio-9080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@fb920f5] will not be managed by Spring
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==>  Preparing: SELECT id,parameters,admin FROM s2_system_config
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==> Parameters: 
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - <==      Total: 1
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7ed82d4e]
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5b4d457f] was not registered for synchronization because synchronization is not active
14:57:06 [http-nio-9080-exec-2] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:57:06 [http-nio-9080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@fb920f5] will not be managed by Spring
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==>  Preparing: SELECT id,parameters,admin FROM s2_system_config
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==> Parameters: 
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - <==      Total: 1
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5b4d457f]
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@159c36aa] was not registered for synchronization because synchronization is not active
14:57:06 [http-nio-9080-exec-2] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:57:06 [http-nio-9080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@fb920f5] will not be managed by Spring
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==>  Preparing: SELECT id,parameters,admin FROM s2_system_config
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==> Parameters: 
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - <==      Total: 1
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@159c36aa]
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7cb15d73] was not registered for synchronization because synchronization is not active
14:57:06 [http-nio-9080-exec-2] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:57:06 [http-nio-9080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@fb920f5] will not be managed by Spring
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==>  Preparing: SELECT id,parameters,admin FROM s2_system_config
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==> Parameters: 
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - <==      Total: 1
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7cb15d73]
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2cbe74da] was not registered for synchronization because synchronization is not active
14:57:06 [http-nio-9080-exec-2] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:57:06 [http-nio-9080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@fb920f5] will not be managed by Spring
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==>  Preparing: SELECT id,parameters,admin FROM s2_system_config
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==> Parameters: 
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - <==      Total: 1
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2cbe74da]
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@23751daa] was not registered for synchronization because synchronization is not active
14:57:06 [http-nio-9080-exec-2] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:57:06 [http-nio-9080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@fb920f5] will not be managed by Spring
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==>  Preparing: SELECT id,parameters,admin FROM s2_system_config
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==> Parameters: 
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - <==      Total: 1
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@23751daa]
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3d102a8a] was not registered for synchronization because synchronization is not active
14:57:06 [http-nio-9080-exec-2] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:57:06 [http-nio-9080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@fb920f5] will not be managed by Spring
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==>  Preparing: SELECT id,parameters,admin FROM s2_system_config
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==> Parameters: 
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - <==      Total: 1
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3d102a8a]
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2f86c0da] was not registered for synchronization because synchronization is not active
14:57:06 [http-nio-9080-exec-2] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:57:06 [http-nio-9080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@fb920f5] will not be managed by Spring
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==>  Preparing: SELECT id,parameters,admin FROM s2_system_config
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==> Parameters: 
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - <==      Total: 1
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2f86c0da]
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4da28d25] was not registered for synchronization because synchronization is not active
14:57:06 [http-nio-9080-exec-2] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:57:06 [http-nio-9080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@fb920f5] will not be managed by Spring
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==>  Preparing: SELECT id,parameters,admin FROM s2_system_config
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==> Parameters: 
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - <==      Total: 1
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4da28d25]
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@582f7dbb] was not registered for synchronization because synchronization is not active
14:57:06 [http-nio-9080-exec-2] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:57:06 [http-nio-9080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@fb920f5] will not be managed by Spring
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==>  Preparing: SELECT id,parameters,admin FROM s2_system_config
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==> Parameters: 
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - <==      Total: 1
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@582f7dbb]
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@25ac7f9a] was not registered for synchronization because synchronization is not active
14:57:06 [http-nio-9080-exec-2] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:57:06 [http-nio-9080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@fb920f5] will not be managed by Spring
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==>  Preparing: SELECT id,parameters,admin FROM s2_system_config
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==> Parameters: 
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - <==      Total: 1
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@25ac7f9a]
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@70274753] was not registered for synchronization because synchronization is not active
14:57:06 [http-nio-9080-exec-2] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:57:06 [http-nio-9080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@fb920f5] will not be managed by Spring
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==>  Preparing: SELECT id,parameters,admin FROM s2_system_config
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==> Parameters: 
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - <==      Total: 1
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@70274753]
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3af71515] was not registered for synchronization because synchronization is not active
14:57:06 [http-nio-9080-exec-2] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:57:06 [http-nio-9080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@fb920f5] will not be managed by Spring
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==>  Preparing: SELECT id,parameters,admin FROM s2_system_config
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==> Parameters: 
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - <==      Total: 1
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3af71515]
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@12d54ee0] was not registered for synchronization because synchronization is not active
14:57:06 [http-nio-9080-exec-2] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:57:06 [http-nio-9080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@fb920f5] will not be managed by Spring
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==>  Preparing: SELECT id,parameters,admin FROM s2_system_config
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==> Parameters: 
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - <==      Total: 1
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@12d54ee0]
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@63b76b86] was not registered for synchronization because synchronization is not active
14:57:06 [http-nio-9080-exec-2] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:57:06 [http-nio-9080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@fb920f5] will not be managed by Spring
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==>  Preparing: SELECT id,parameters,admin FROM s2_system_config
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==> Parameters: 
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - <==      Total: 1
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@63b76b86]
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@17d8d0bd] was not registered for synchronization because synchronization is not active
14:57:06 [http-nio-9080-exec-2] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:57:06 [http-nio-9080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@fb920f5] will not be managed by Spring
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==>  Preparing: SELECT id,parameters,admin FROM s2_system_config
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==> Parameters: 
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - <==      Total: 1
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@17d8d0bd]
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7a9c3940] was not registered for synchronization because synchronization is not active
14:57:06 [http-nio-9080-exec-2] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:57:06 [http-nio-9080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@fb920f5] will not be managed by Spring
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==>  Preparing: SELECT id,parameters,admin FROM s2_system_config
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==> Parameters: 
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - <==      Total: 1
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7a9c3940]
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1523b719] was not registered for synchronization because synchronization is not active
14:57:06 [http-nio-9080-exec-2] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:57:06 [http-nio-9080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@fb920f5] will not be managed by Spring
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==>  Preparing: SELECT id,parameters,admin FROM s2_system_config
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==> Parameters: 
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - <==      Total: 1
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1523b719]
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@50f1dfb6] was not registered for synchronization because synchronization is not active
14:57:06 [http-nio-9080-exec-2] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:57:06 [http-nio-9080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@fb920f5] will not be managed by Spring
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==>  Preparing: SELECT id,parameters,admin FROM s2_system_config
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==> Parameters: 
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - <==      Total: 1
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@50f1dfb6]
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@62a7d183] was not registered for synchronization because synchronization is not active
14:57:06 [http-nio-9080-exec-2] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:57:06 [http-nio-9080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@fb920f5] will not be managed by Spring
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==>  Preparing: SELECT id,parameters,admin FROM s2_system_config
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==> Parameters: 
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - <==      Total: 1
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@62a7d183]
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@12aaaf40] was not registered for synchronization because synchronization is not active
14:57:06 [http-nio-9080-exec-2] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:57:06 [http-nio-9080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@fb920f5] will not be managed by Spring
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==>  Preparing: SELECT id,parameters,admin FROM s2_system_config
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==> Parameters: 
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - <==      Total: 1
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@12aaaf40]
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5e785ee] was not registered for synchronization because synchronization is not active
14:57:06 [http-nio-9080-exec-2] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:57:06 [http-nio-9080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@fb920f5] will not be managed by Spring
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==>  Preparing: SELECT id,parameters,admin FROM s2_system_config
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==> Parameters: 
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - <==      Total: 1
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5e785ee]
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@48aa4e29] was not registered for synchronization because synchronization is not active
14:57:06 [http-nio-9080-exec-2] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:57:06 [http-nio-9080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@fb920f5] will not be managed by Spring
```

### 关键节点

1. **日志开头：**
    
    ```sql
    14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==>  Preparing: SELECT id,parameters,admin FROM s2_system_config
    14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==> Parameters:
    14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - <==      Total: 1
    ```
    
    这里显示了系统准备执行的SQL查询语句：`SELECT id,parameters,admin FROM s2_system_config`。日志显示该查询语句被准备执行，并且查询没有使用任何参数。执行结果返回了一行记录（Total: 1）。
    
2. **关闭非事务性SqlSession：**
    
    ```perl
    14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@f19be2]
    ```
    
    这是MyBatis在执行完查询后，关闭了一个非事务性（non-transactional）的SqlSession。
    
3. **重复执行SQL查询：**
    
    ```sql
    14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
    14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4fcf7022] was not registered for synchronization because synchronization is not active
    14:57:06 [http-nio-9080-exec-2] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
    14:57:06 [http-nio-9080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@fb920f5] will not be managed by Spring
    14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==>  Preparing: SELECT id,parameters,admin FROM s2_system_config
    14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==> Parameters:
    14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - <==      Total: 1
    ```
    
    每次查询结束后，都会创建一个新的SqlSession，并且重复执行相同的SQL查询。可以看到，创建新的SqlSession、获取JDBC连接、准备SQL语句、执行SQL查询、关闭SqlSession等一系列操作在同一秒钟内被重复执行了多次。
    

### 分析

从日志中可以看出，系统在短时间内重复进行了多次相同的SQL查询，并且每次查询都关闭并重新创建SqlSession。可能的原因包括：

1. **逻辑错误**：代码中可能存在逻辑错误，导致同一查询操作被重复执行。
2. **配置问题**：可能是某些配置参数设置不当，比如MyBatis或Spring的事务管理配置，导致每次查询都不使用事务并且每次都创建新的SqlSession。
3. **循环调用**：可能代码在一个循环中调用了相同的查询操作，而每次调用都没有正确地复用SqlSession。

这些重复的操作会导致性能下降，增加数据库负载，并可能引发连接池资源的耗尽等问题。建议对代码进行仔细排查，找出重复执行查询的原因，并优化代码逻辑或配置，避免不必要的重复查询操作。

## 6. 第六部分

```
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==>  Preparing: SELECT id,parameters,admin FROM s2_system_config
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==> Parameters: 
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - <==      Total: 1
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@48aa4e29]
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2bf5c02d] was not registered for synchronization because synchronization is not active
14:57:06 [http-nio-9080-exec-2] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:57:06 [http-nio-9080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@fb920f5] will not be managed by Spring
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==>  Preparing: SELECT id,parameters,admin FROM s2_system_config
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==> Parameters: 
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - <==      Total: 1
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2bf5c02d]
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@57ee05c0] was not registered for synchronization because synchronization is not active
14:57:06 [http-nio-9080-exec-2] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:57:06 [http-nio-9080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@fb920f5] will not be managed by Spring
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==>  Preparing: SELECT id,parameters,admin FROM s2_system_config
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==> Parameters: 
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - <==      Total: 1
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@57ee05c0]
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@67d56f55] was not registered for synchronization because synchronization is not active
14:57:06 [http-nio-9080-exec-2] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:57:06 [http-nio-9080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@fb920f5] will not be managed by Spring
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==>  Preparing: SELECT id,parameters,admin FROM s2_system_config
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==> Parameters: 
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - <==      Total: 1
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@67d56f55]
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@73a488a9] was not registered for synchronization because synchronization is not active
14:57:06 [http-nio-9080-exec-2] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:57:06 [http-nio-9080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@fb920f5] will not be managed by Spring
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==>  Preparing: SELECT id,parameters,admin FROM s2_system_config
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==> Parameters: 
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - <==      Total: 1
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@73a488a9]
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7c5cafc3] was not registered for synchronization because synchronization is not active
14:57:06 [http-nio-9080-exec-2] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:57:06 [http-nio-9080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@fb920f5] will not be managed by Spring
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==>  Preparing: SELECT id,parameters,admin FROM s2_system_config
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==> Parameters: 
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - <==      Total: 1
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7c5cafc3]
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@65581c7f] was not registered for synchronization because synchronization is not active
14:57:06 [http-nio-9080-exec-2] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:57:06 [http-nio-9080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@fb920f5] will not be managed by Spring
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==>  Preparing: SELECT id,parameters,admin FROM s2_system_config
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==> Parameters: 
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - <==      Total: 1
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@65581c7f]
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3298d473] was not registered for synchronization because synchronization is not active
14:57:06 [http-nio-9080-exec-2] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:57:06 [http-nio-9080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@fb920f5] will not be managed by Spring
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==>  Preparing: SELECT id,parameters,admin FROM s2_system_config
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==> Parameters: 
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - <==      Total: 1
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3298d473]
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@547154be] was not registered for synchronization because synchronization is not active
14:57:06 [http-nio-9080-exec-2] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:57:06 [http-nio-9080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@fb920f5] will not be managed by Spring
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==>  Preparing: SELECT id,parameters,admin FROM s2_system_config
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==> Parameters: 
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - <==      Total: 1
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@547154be]
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@110f7998] was not registered for synchronization because synchronization is not active
14:57:06 [http-nio-9080-exec-2] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:57:06 [http-nio-9080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@fb920f5] will not be managed by Spring
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==>  Preparing: SELECT id,parameters,admin FROM s2_system_config
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==> Parameters: 
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - <==      Total: 1
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@110f7998]
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@46cb0a66] was not registered for synchronization because synchronization is not active
14:57:06 [http-nio-9080-exec-2] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:57:06 [http-nio-9080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@fb920f5] will not be managed by Spring
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==>  Preparing: SELECT id,parameters,admin FROM s2_system_config
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==> Parameters: 
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - <==      Total: 1
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@46cb0a66]
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@49575694] was not registered for synchronization because synchronization is not active
14:57:06 [http-nio-9080-exec-2] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:57:06 [http-nio-9080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@fb920f5] will not be managed by Spring
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==>  Preparing: SELECT id,parameters,admin FROM s2_system_config
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==> Parameters: 
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - <==      Total: 1
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@49575694]
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4448a596] was not registered for synchronization because synchronization is not active
14:57:06 [http-nio-9080-exec-2] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:57:06 [http-nio-9080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@fb920f5] will not be managed by Spring
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==>  Preparing: SELECT id,parameters,admin FROM s2_system_config
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==> Parameters: 
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - <==      Total: 1
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4448a596]
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@65b2ea1b] was not registered for synchronization because synchronization is not active
14:57:06 [http-nio-9080-exec-2] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:57:06 [http-nio-9080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@fb920f5] will not be managed by Spring
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==>  Preparing: SELECT id,parameters,admin FROM s2_system_config
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==> Parameters: 
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - <==      Total: 1
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@65b2ea1b]
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4ed7205f] was not registered for synchronization because synchronization is not active
14:57:06 [http-nio-9080-exec-2] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:57:06 [http-nio-9080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@fb920f5] will not be managed by Spring
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==>  Preparing: SELECT id,parameters,admin FROM s2_system_config
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==> Parameters: 
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - <==      Total: 1
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4ed7205f]
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3d092ae7] was not registered for synchronization because synchronization is not active
14:57:06 [http-nio-9080-exec-2] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:57:06 [http-nio-9080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@fb920f5] will not be managed by Spring
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==>  Preparing: SELECT id,parameters,admin FROM s2_system_config
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==> Parameters: 
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - <==      Total: 1
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3d092ae7]
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1705c7e7] was not registered for synchronization because synchronization is not active
14:57:06 [http-nio-9080-exec-2] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:57:06 [http-nio-9080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@fb920f5] will not be managed by Spring
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==>  Preparing: SELECT id,parameters,admin FROM s2_system_config
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==> Parameters: 
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - <==      Total: 1
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1705c7e7]
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@632f00b4] was not registered for synchronization because synchronization is not active
14:57:06 [http-nio-9080-exec-2] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:57:06 [http-nio-9080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@fb920f5] will not be managed by Spring
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==>  Preparing: SELECT id,parameters,admin FROM s2_system_config
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==> Parameters: 
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - <==      Total: 1
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@632f00b4]
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4e63c67] was not registered for synchronization because synchronization is not active
14:57:06 [http-nio-9080-exec-2] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:57:06 [http-nio-9080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@fb920f5] will not be managed by Spring
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==>  Preparing: SELECT id,parameters,admin FROM s2_system_config
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==> Parameters: 
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - <==      Total: 1
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4e63c67]
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@229a873d] was not registered for synchronization because synchronization is not active
14:57:06 [http-nio-9080-exec-2] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:57:06 [http-nio-9080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@fb920f5] will not be managed by Spring
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==>  Preparing: SELECT id,parameters,admin FROM s2_system_config
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==> Parameters: 
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - <==      Total: 1
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@229a873d]
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5ab713b] was not registered for synchronization because synchronization is not active
14:57:06 [http-nio-9080-exec-2] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:57:06 [http-nio-9080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@fb920f5] will not be managed by Spring
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==>  Preparing: SELECT id,parameters,admin FROM s2_system_config
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==> Parameters: 
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - <==      Total: 1
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5ab713b]
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1264a0ac] was not registered for synchronization because synchronization is not active
14:57:06 [http-nio-9080-exec-2] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:57:06 [http-nio-9080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@fb920f5] will not be managed by Spring
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==>  Preparing: SELECT id,parameters,admin FROM s2_system_config
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==> Parameters: 
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - <==      Total: 1
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1264a0ac]
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@27da3123] was not registered for synchronization because synchronization is not active
14:57:06 [http-nio-9080-exec-2] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:57:06 [http-nio-9080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@fb920f5] will not be managed by Spring
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==>  Preparing: SELECT id,parameters,admin FROM s2_system_config
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==> Parameters: 
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - <==      Total: 1
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@27da3123]
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7fd11f6c] was not registered for synchronization because synchronization is not active
14:57:06 [http-nio-9080-exec-2] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:57:06 [http-nio-9080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@fb920f5] will not be managed by Spring
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==>  Preparing: SELECT id,parameters,admin FROM s2_system_config
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==> Parameters: 
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - <==      Total: 1
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7fd11f6c]
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4532fbf6] was not registered for synchronization because synchronization is not active
14:57:06 [http-nio-9080-exec-2] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:57:06 [http-nio-9080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@fb920f5] will not be managed by Spring
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==>  Preparing: SELECT id,parameters,admin FROM s2_system_config
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==> Parameters: 
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - <==      Total: 1
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4532fbf6]
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@472528fb] was not registered for synchronization because synchronization is not active
14:57:06 [http-nio-9080-exec-2] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:57:06 [http-nio-9080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@fb920f5] will not be managed by Spring
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==>  Preparing: SELECT id,parameters,admin FROM s2_system_config
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==> Parameters: 
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - <==      Total: 1
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@472528fb]
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1abec3db] was not registered for synchronization because synchronization is not active
14:57:06 [http-nio-9080-exec-2] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:57:06 [http-nio-9080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@fb920f5] will not be managed by Spring
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==>  Preparing: SELECT id,parameters,admin FROM s2_system_config
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==> Parameters: 
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - <==      Total: 1
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1abec3db]
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7e6ab9e] was not registered for synchronization because synchronization is not active
14:57:06 [http-nio-9080-exec-2] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:57:06 [http-nio-9080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@fb920f5] will not be managed by Spring
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==>  Preparing: SELECT id,parameters,admin FROM s2_system_config
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==> Parameters: 
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - <==      Total: 1
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7e6ab9e]
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@288b2600] was not registered for synchronization because synchronization is not active
14:57:06 [http-nio-9080-exec-2] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:57:06 [http-nio-9080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@fb920f5] will not be managed by Spring
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==>  Preparing: SELECT id,parameters,admin FROM s2_system_config
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==> Parameters: 
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - <==      Total: 1
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@288b2600]
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@22f47b87] was not registered for synchronization because synchronization is not active
14:57:06 [http-nio-9080-exec-2] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:57:06 [http-nio-9080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@fb920f5] will not be managed by Spring
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==>  Preparing: SELECT id,parameters,admin FROM s2_system_config
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==> Parameters: 
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - <==      Total: 1
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@22f47b87]
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2babd1ae] was not registered for synchronization because synchronization is not active
14:57:06 [http-nio-9080-exec-2] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:57:06 [http-nio-9080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@fb920f5] will not be managed by Spring
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==>  Preparing: SELECT id,parameters,admin FROM s2_system_config
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==> Parameters: 
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - <==      Total: 1
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2babd1ae]
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5e48ea5e] was not registered for synchronization because synchronization is not active
14:57:06 [http-nio-9080-exec-2] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:57:06 [http-nio-9080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@fb920f5] will not be managed by Spring
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==>  Preparing: SELECT id,parameters,admin FROM s2_system_config
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==> Parameters: 
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - <==      Total: 1
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5e48ea5e]
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7b145f73] was not registered for synchronization because synchronization is not active
14:57:06 [http-nio-9080-exec-2] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:57:06 [http-nio-9080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@fb920f5] will not be managed by Spring
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==>  Preparing: SELECT id,parameters,admin FROM s2_system_config
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==> Parameters: 
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - <==      Total: 1
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7b145f73]
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@31765d97] was not registered for synchronization because synchronization is not active
14:57:06 [http-nio-9080-exec-2] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:57:06 [http-nio-9080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@fb920f5] will not be managed by Spring
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==>  Preparing: SELECT id,parameters,admin FROM s2_system_config
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==> Parameters: 
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - <==      Total: 1
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@31765d97]
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@587a0069] was not registered for synchronization because synchronization is not active
14:57:06 [http-nio-9080-exec-2] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:57:06 [http-nio-9080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@fb920f5] will not be managed by Spring
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==>  Preparing: SELECT id,parameters,admin FROM s2_system_config
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==> Parameters: 
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - <==      Total: 1
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@587a0069]
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@59526cb0] was not registered for synchronization because synchronization is not active
14:57:06 [http-nio-9080-exec-2] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:57:06 [http-nio-9080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@fb920f5] will not be managed by Spring
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==>  Preparing: SELECT id,parameters,admin FROM s2_system_config
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==> Parameters: 
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - <==      Total: 1
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@59526cb0]
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3148d2e0] was not registered for synchronization because synchronization is not active
14:57:06 [http-nio-9080-exec-2] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:57:06 [http-nio-9080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@fb920f5] will not be managed by Spring
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==>  Preparing: SELECT id,parameters,admin FROM s2_system_config
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==> Parameters: 
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - <==      Total: 1
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3148d2e0]
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@79b8c6a6] was not registered for synchronization because synchronization is not active
14:57:06 [http-nio-9080-exec-2] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:57:06 [http-nio-9080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@fb920f5] will not be managed by Spring
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==>  Preparing: SELECT id,parameters,admin FROM s2_system_config
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==> Parameters: 
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - <==      Total: 1
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@79b8c6a6]
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@78f81f7b] was not registered for synchronization because synchronization is not active
14:57:06 [http-nio-9080-exec-2] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:57:06 [http-nio-9080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@fb920f5] will not be managed by Spring
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==>  Preparing: SELECT id,parameters,admin FROM s2_system_config
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==> Parameters: 
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - <==      Total: 1
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@78f81f7b]
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5cc87542] was not registered for synchronization because synchronization is not active
14:57:06 [http-nio-9080-exec-2] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:57:06 [http-nio-9080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@fb920f5] will not be managed by Spring
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==>  Preparing: SELECT id,parameters,admin FROM s2_system_config
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==> Parameters: 
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - <==      Total: 1
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5cc87542]
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6b3166be] was not registered for synchronization because synchronization is not active
14:57:06 [http-nio-9080-exec-2] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:57:06 [http-nio-9080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@fb920f5] will not be managed by Spring
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==>  Preparing: SELECT id,parameters,admin FROM s2_system_config
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==> Parameters: 
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - <==      Total: 1
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6b3166be]
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4796f475] was not registered for synchronization because synchronization is not active
14:57:06 [http-nio-9080-exec-2] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:57:06 [http-nio-9080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@fb920f5] will not be managed by Spring
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==>  Preparing: SELECT id,parameters,admin FROM s2_system_config
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==> Parameters: 
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - <==      Total: 1
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4796f475]
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@21bd1fd7] was not registered for synchronization because synchronization is not active
14:57:06 [http-nio-9080-exec-2] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:57:06 [http-nio-9080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@fb920f5] will not be managed by Spring
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==>  Preparing: SELECT id,parameters,admin FROM s2_system_config
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==> Parameters: 
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - <==      Total: 1
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@21bd1fd7]
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@56d65fc4] was not registered for synchronization because synchronization is not active
14:57:06 [http-nio-9080-exec-2] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:57:06 [http-nio-9080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@fb920f5] will not be managed by Spring
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==>  Preparing: SELECT id,parameters,admin FROM s2_system_config
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==> Parameters: 
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - <==      Total: 1
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@56d65fc4]
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1226f8fa] was not registered for synchronization because synchronization is not active
14:57:06 [http-nio-9080-exec-2] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:57:06 [http-nio-9080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@fb920f5] will not be managed by Spring
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==>  Preparing: SELECT id,parameters,admin FROM s2_system_config
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==> Parameters: 
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - <==      Total: 1
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1226f8fa]
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@49577043] was not registered for synchronization because synchronization is not active
14:57:06 [http-nio-9080-exec-2] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:57:06 [http-nio-9080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@fb920f5] will not be managed by Spring
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==>  Preparing: SELECT id,parameters,admin FROM s2_system_config
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==> Parameters: 
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - <==      Total: 1
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@49577043]
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@57bbc274] was not registered for synchronization because synchronization is not active
14:57:06 [http-nio-9080-exec-2] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:57:06 [http-nio-9080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@fb920f5] will not be managed by Spring
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==>  Preparing: SELECT id,parameters,admin FROM s2_system_config
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==> Parameters: 
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - <==      Total: 1
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@57bbc274]
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@516192e1] was not registered for synchronization because synchronization is not active
14:57:06 [http-nio-9080-exec-2] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:57:06 [http-nio-9080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@fb920f5] will not be managed by Spring
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==>  Preparing: SELECT id,parameters,admin FROM s2_system_config
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==> Parameters: 
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - <==      Total: 1
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@516192e1]
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@529a5488] was not registered for synchronization because synchronization is not active
14:57:06 [http-nio-9080-exec-2] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:57:06 [http-nio-9080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@fb920f5] will not be managed by Spring
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==>  Preparing: SELECT id,parameters,admin FROM s2_system_config
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==> Parameters: 
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - <==      Total: 1
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@529a5488]
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1db81aab] was not registered for synchronization because synchronization is not active
14:57:06 [http-nio-9080-exec-2] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:57:06 [http-nio-9080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@fb920f5] will not be managed by Spring
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==>  Preparing: SELECT id,parameters,admin FROM s2_system_config
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==> Parameters: 
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - <==      Total: 1
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1db81aab]
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1a956961] was not registered for synchronization because synchronization is not active
14:57:06 [http-nio-9080-exec-2] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:57:06 [http-nio-9080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@fb920f5] will not be managed by Spring
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==>  Preparing: SELECT id,parameters,admin FROM s2_system_config
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==> Parameters: 
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - <==      Total: 1
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1a956961]
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.h.chat.mapper.BaseMapper 44 - after KeywordMapper,cost:772,mapInfo:{1=[SchemaElementMatch(element=SchemaElement(dataSet=1, dataSetName=超音数数据集, model=2, id=1, name=访问次数, bizName=pv, useCnt=0, type=METRIC, alias=[], schemaValueMaps=null, relatedSchemaElements=[RelatedSchemaElement(dimensionId=1, isNecessary=false), RelatedSchemaElement(dimensionId=2, isNecessary=false)], defaultAgg=SUM, dataFormatType=null, order=0.0, isTag=0, description=一段时间内用户的访问次数), similarity=1.0, detectWord=访问次数, word=访问次数, frequency=100000, isInherited=false), SchemaElementMatch(element=SchemaElement(dataSet=1, dataSetName=超音数数据集, model=2, id=4, name=人均访问次数, bizName=pv_avg, useCnt=0, type=METRIC, alias=[平均访问次数], schemaValueMaps=null, relatedSchemaElements=[RelatedSchemaElement(dimensionId=1, isNecessary=false)], defaultAgg=, dataFormatType=null, order=0.0, isTag=0, description=每个用户平均访问的次数), similarity=0.9971581297489837, detectWord=人访问次数, word=人均访问次数, frequency=100000, isInherited=false), SchemaElementMatch(element=SchemaElement(dataSet=1, dataSetName=超音数数据集, model=2, id=3, name=访问用户数, bizName=uv, useCnt=0, type=METRIC, alias=[UV, 访问人数], schemaValueMaps=null, relatedSchemaElements=[RelatedSchemaElement(dimensionId=1, isNecessary=false)], defaultAgg=count, dataFormatType=null, order=0.0, isTag=0, description=访问的用户个数), similarity=0.9953412336995052, detectWord=访问次数, word=访问用户数, frequency=100000, isInherited=false)]}
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.h.chat.mapper.BaseMapper 33 - before QueryFilterMapper,mapInfo:{1=[SchemaElementMatch(element=SchemaElement(dataSet=1, dataSetName=超音数数据集, model=2, id=1, name=访问次数, bizName=pv, useCnt=0, type=METRIC, alias=[], schemaValueMaps=null, relatedSchemaElements=[RelatedSchemaElement(dimensionId=1, isNecessary=false), RelatedSchemaElement(dimensionId=2, isNecessary=false)], defaultAgg=SUM, dataFormatType=null, order=0.0, isTag=0, description=一段时间内用户的访问次数), similarity=1.0, detectWord=访问次数, word=访问次数, frequency=100000, isInherited=false), SchemaElementMatch(element=SchemaElement(dataSet=1, dataSetName=超音数数据集, model=2, id=4, name=人均访问次数, bizName=pv_avg, useCnt=0, type=METRIC, alias=[平均访问次数], schemaValueMaps=null, relatedSchemaElements=[RelatedSchemaElement(dimensionId=1, isNecessary=false)], defaultAgg=, dataFormatType=null, order=0.0, isTag=0, description=每个用户平均访问的次数), similarity=0.9971581297489837, detectWord=人访问次数, word=人均访问次数, frequency=100000, isInherited=false), SchemaElementMatch(element=SchemaElement(dataSet=1, dataSetName=超音数数据集, model=2, id=3, name=访问用户数, bizName=uv, useCnt=0, type=METRIC, alias=[UV, 访问人数], schemaValueMaps=null, relatedSchemaElements=[RelatedSchemaElement(dimensionId=1, isNecessary=false)], defaultAgg=count, dataFormatType=null, order=0.0, isTag=0, description=访问的用户个数), similarity=0.9953412336995052, detectWord=访问次数, word=访问用户数, frequency=100000, isInherited=false)]}
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.h.chat.mapper.BaseMapper 44 - after QueryFilterMapper,cost:0,mapInfo:{1=[SchemaElementMatch(element=SchemaElement(dataSet=1, dataSetName=超音数数据集, model=2, id=1, name=访问次数, bizName=pv, useCnt=0, type=METRIC, alias=[], schemaValueMaps=null, relatedSchemaElements=[RelatedSchemaElement(dimensionId=1, isNecessary=false), RelatedSchemaElement(dimensionId=2, isNecessary=false)], defaultAgg=SUM, dataFormatType=null, order=0.0, isTag=0, description=一段时间内用户的访问次数), similarity=1.0, detectWord=访问次数, word=访问次数, frequency=100000, isInherited=false), SchemaElementMatch(element=SchemaElement(dataSet=1, dataSetName=超音数数据集, model=2, id=4, name=人均访问次数, bizName=pv_avg, useCnt=0, type=METRIC, alias=[平均访问次数], schemaValueMaps=null, relatedSchemaElements=[RelatedSchemaElement(dimensionId=1, isNecessary=false)], defaultAgg=, dataFormatType=null, order=0.0, isTag=0, description=每个用户平均访问的次数), similarity=0.9971581297489837, detectWord=人访问次数, word=人均访问次数, frequency=100000, isInherited=false), SchemaElementMatch(element=SchemaElement(dataSet=1, dataSetName=超音数数据集, model=2, id=3, name=访问用户数, bizName=uv, useCnt=0, type=METRIC, alias=[UV, 访问人数], schemaValueMaps=null, relatedSchemaElements=[RelatedSchemaElement(dimensionId=1, isNecessary=false)], defaultAgg=count, dataFormatType=null, order=0.0, isTag=0, description=访问的用户个数), similarity=0.9953412336995052, detectWord=访问次数, word=访问用户数, frequency=100000, isInherited=false)]}
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.h.chat.mapper.BaseMapper 33 - before EntityMapper,mapInfo:{1=[SchemaElementMatch(element=SchemaElement(dataSet=1, dataSetName=超音数数据集, model=2, id=1, name=访问次数, bizName=pv, useCnt=0, type=METRIC, alias=[], schemaValueMaps=null, relatedSchemaElements=[RelatedSchemaElement(dimensionId=1, isNecessary=false), RelatedSchemaElement(dimensionId=2, isNecessary=false)], defaultAgg=SUM, dataFormatType=null, order=0.0, isTag=0, description=一段时间内用户的访问次数), similarity=1.0, detectWord=访问次数, word=访问次数, frequency=100000, isInherited=false), SchemaElementMatch(element=SchemaElement(dataSet=1, dataSetName=超音数数据集, model=2, id=4, name=人均访问次数, bizName=pv_avg, useCnt=0, type=METRIC, alias=[平均访问次数], schemaValueMaps=null, relatedSchemaElements=[RelatedSchemaElement(dimensionId=1, isNecessary=false)], defaultAgg=, dataFormatType=null, order=0.0, isTag=0, description=每个用户平均访问的次数), similarity=0.9971581297489837, detectWord=人访问次数, word=人均访问次数, frequency=100000, isInherited=false), SchemaElementMatch(element=SchemaElement(dataSet=1, dataSetName=超音数数据集, model=2, id=3, name=访问用户数, bizName=uv, useCnt=0, type=METRIC, alias=[UV, 访问人数], schemaValueMaps=null, relatedSchemaElements=[RelatedSchemaElement(dimensionId=1, isNecessary=false)], defaultAgg=count, dataFormatType=null, order=0.0, isTag=0, description=访问的用户个数), similarity=0.9953412336995052, detectWord=访问次数, word=访问用户数, frequency=100000, isInherited=false)]}
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.h.chat.mapper.BaseMapper 44 - after EntityMapper,cost:0,mapInfo:{1=[SchemaElementMatch(element=SchemaElement(dataSet=1, dataSetName=超音数数据集, model=2, id=1, name=访问次数, bizName=pv, useCnt=0, type=METRIC, alias=[], schemaValueMaps=null, relatedSchemaElements=[RelatedSchemaElement(dimensionId=1, isNecessary=false), RelatedSchemaElement(dimensionId=2, isNecessary=false)], defaultAgg=SUM, dataFormatType=null, order=0.0, isTag=0, description=一段时间内用户的访问次数), similarity=1.0, detectWord=访问次数, word=访问次数, frequency=100000, isInherited=false), SchemaElementMatch(element=SchemaElement(dataSet=1, dataSetName=超音数数据集, model=2, id=4, name=人均访问次数, bizName=pv_avg, useCnt=0, type=METRIC, alias=[平均访问次数], schemaValueMaps=null, relatedSchemaElements=[RelatedSchemaElement(dimensionId=1, isNecessary=false)], defaultAgg=, dataFormatType=null, order=0.0, isTag=0, description=每个用户平均访问的次数), similarity=0.9971581297489837, detectWord=人访问次数, word=人均访问次数, frequency=100000, isInherited=false), SchemaElementMatch(element=SchemaElement(dataSet=1, dataSetName=超音数数据集, model=2, id=3, name=访问用户数, bizName=uv, useCnt=0, type=METRIC, alias=[UV, 访问人数], schemaValueMaps=null, relatedSchemaElements=[RelatedSchemaElement(dimensionId=1, isNecessary=false)], defaultAgg=count, dataFormatType=null, order=0.0, isTag=0, description=访问的用户个数), similarity=0.9953412336995052, detectWord=访问次数, word=访问用户数, frequency=100000, isInherited=false)]}
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7dcf948b] was not registered for synchronization because synchronization is not active
14:57:06 [http-nio-9080-exec-2] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:57:06 [http-nio-9080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@fb920f5] will not be managed by Spring
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==>  Preparing: SELECT id,parameters,admin FROM s2_system_config
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==> Parameters: 
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - <==      Total: 1
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7dcf948b]
14:57:06 [http-nio-9080-exec-2] INFO  d.l.i.s.InMemoryEmbeddingStoreFactory 52 - embeddingStore reload from file:\tmp\InMemory.memory_1
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4436c6f1] was not registered for synchronization because synchronization is not active
14:57:06 [http-nio-9080-exec-2] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:57:06 [http-nio-9080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@fb920f5] will not be managed by Spring
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.h.s.p.m.D.selectList 135 - ==>  Preparing: SELECT id,domain_id,name,biz_name,description,status,alias,data_set_detail,created_at,created_by,updated_at,updated_by,query_config,admin,admin_org FROM s2_data_set WHERE (status = ? AND status <> ?)
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.h.s.p.m.D.selectList 135 - ==> Parameters: 1(Integer), 3(Integer)
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.h.s.p.m.D.selectList 135 - <==      Total: 2
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4436c6f1]
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1cface9a] was not registered for synchronization because synchronization is not active
14:57:06 [http-nio-9080-exec-2] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:57:06 [http-nio-9080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@fb920f5] will not be managed by Spring
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.h.s.p.m.T.getTagDOList 135 - ==>  Preparing: select * from s2_tag WHERE item_id in ( ? , ? , ? ) and type = ?
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.h.s.p.m.T.getTagDOList 135 - ==> Parameters: 1(Long), 2(Long), 3(Long), DIMENSION(String)
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.h.s.p.m.T.getTagDOList 135 - <==      Total: 1
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1cface9a]
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3e7d8b96] was not registered for synchronization because synchronization is not active
14:57:06 [http-nio-9080-exec-2] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:57:06 [http-nio-9080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@fb920f5] will not be managed by Spring
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.h.s.p.m.T.getTagDOList 135 - ==>  Preparing: select * from s2_tag WHERE item_id in ( ? , ? , ? , ? ) and type = ?
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.h.s.p.m.T.getTagDOList 135 - ==> Parameters: 1(Long), 3(Long), 4(Long), 2(Long), METRIC(String)
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.h.s.p.m.T.getTagDOList 135 - <==      Total: 0
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3e7d8b96]
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3b592a08] was not registered for synchronization because synchronization is not active
14:57:06 [http-nio-9080-exec-2] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:57:06 [http-nio-9080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@fb920f5] will not be managed by Spring
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.h.s.p.m.T.getTagDOList 135 - ==>  Preparing: select * from s2_tag WHERE item_id in ( ? , ? , ? , ? ) and type = ?
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.h.s.p.m.T.getTagDOList 135 - ==> Parameters: 4(Long), 5(Long), 6(Long), 7(Long), DIMENSION(String)
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.h.s.p.m.T.getTagDOList 135 - <==      Total: 4
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3b592a08]
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@39c72515] was not registered for synchronization because synchronization is not active
14:57:06 [http-nio-9080-exec-2] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:57:06 [http-nio-9080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@fb920f5] will not be managed by Spring
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.h.s.p.m.T.getTagDOList 135 - ==>  Preparing: select * from s2_tag WHERE item_id in ( ? , ? , ? ) and type = ?
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.h.s.p.m.T.getTagDOList 135 - ==> Parameters: 5(Long), 6(Long), 7(Long), METRIC(String)
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.h.s.p.m.T.getTagDOList 135 - <==      Total: 1
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@39c72515]
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@73900ba1] was not registered for synchronization because synchronization is not active
14:57:06 [http-nio-9080-exec-2] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:57:06 [http-nio-9080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@fb920f5] will not be managed by Spring
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.h.s.p.m.C.getContextByChatId 135 - ==>  Preparing: select * from s2_chat_context where chat_id=? limit 1
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.h.s.p.m.C.getContextByChatId 135 - ==> Parameters: 1(Integer)
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.h.s.p.m.C.getContextByChatId 135 - <==      Total: 1
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@73900ba1]
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@59b57b25] was not registered for synchronization because synchronization is not active
14:57:06 [http-nio-9080-exec-2] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:57:06 [http-nio-9080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@fb920f5] will not be managed by Spring
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==>  Preparing: SELECT id,parameters,admin FROM s2_system_config
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==> Parameters: 
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - <==      Total: 1
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@59b57b25]
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@70b7dd00] was not registered for synchronization because synchronization is not active
14:57:06 [http-nio-9080-exec-2] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:57:06 [http-nio-9080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@fb920f5] will not be managed by Spring
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==>  Preparing: SELECT id,parameters,admin FROM s2_system_config
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==> Parameters: 
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - <==      Total: 1
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@70b7dd00]
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@e524574] was not registered for synchronization because synchronization is not active
14:57:06 [http-nio-9080-exec-2] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:57:06 [http-nio-9080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@fb920f5] will not be managed by Spring
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==>  Preparing: SELECT id,parameters,admin FROM s2_system_config
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==> Parameters: 
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - <==      Total: 1
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@e524574]
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4978215] was not registered for synchronization because synchronization is not active
14:57:06 [http-nio-9080-exec-2] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:57:06 [http-nio-9080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@fb920f5] will not be managed by Spring
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==>  Preparing: SELECT id,parameters,admin FROM s2_system_config
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==> Parameters: 
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - <==      Total: 1
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4978215]
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@399a58f3] was not registered for synchronization because synchronization is not active
14:57:06 [http-nio-9080-exec-2] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:57:06 [http-nio-9080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@fb920f5] will not be managed by Spring
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==>  Preparing: SELECT id,parameters,admin FROM s2_system_config
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==> Parameters: 
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - <==      Total: 1
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@399a58f3]
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@64b293cb] was not registered for synchronization because synchronization is not active
14:57:06 [http-nio-9080-exec-2] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:57:06 [http-nio-9080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@fb920f5] will not be managed by Spring
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==>  Preparing: SELECT id,parameters,admin FROM s2_system_config
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==> Parameters: 
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - <==      Total: 1
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@64b293cb]
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6fd766fe] was not registered for synchronization because synchronization is not active
14:57:06 [http-nio-9080-exec-2] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:57:06 [http-nio-9080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@fb920f5] will not be managed by Spring
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==>  Preparing: SELECT id,parameters,admin FROM s2_system_config
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==> Parameters: 
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - <==      Total: 1
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6fd766fe]
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@23fefb05] was not registered for synchronization because synchronization is not active
14:57:06 [http-nio-9080-exec-2] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:57:06 [http-nio-9080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@fb920f5] will not be managed by Spring
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==>  Preparing: SELECT id,parameters,admin FROM s2_system_config
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==> Parameters: 
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - <==      Total: 1
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@23fefb05]
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.h.s.w.s.i.WorkflowServiceImpl 67 - RuleSqlParser result:{"queryText":"超音速对比所有人访问次数","chatId":1,"dataSetIds":[],"modelIdToDataSetIds":{"1":[1],"2":[1],"3":[1],"4":[2]},"user":{"id":6,"name":"admin","displayName":"admin","email":"null","isAdmin":1,"superAdmin":true},"saveAnswer":true,"text2SQLType":"RULE_AND_LLM","candidateQueries":[{"parseInfo":{"queryMode":"METRIC_GROUPBY","dataSet":{"dataSet":1,"dataSetName":"超音数数据集","id":1,"name":"超音数数据集","bizName":"s2","type":"DATASET","order":0.0,"isTag":0},"metrics":[{"dataSet":1,"dataSetName":"超音数数据集","model":2,"id":1,"name":"访问次数","bizName":"pv","useCnt":0,"type":"METRIC","alias":[],"relatedSchemaElements":[{"dimensionId":1,"necessary":false},{"dimensionId":2,"necessary":false}],"defaultAgg":"SUM","order":0.0,"isTag":0,"description":"一段时间内用户的访问次数"},{"dataSet":1,"dataSetName":"超音数数据集","model":2,"id":4,"name":"人均访问次数","bizName":"pv_avg","useCnt":0,"type":"METRIC","alias":["平均访问次数"],"relatedSchemaElements":[{"dimensionId":1,"necessary":false}],"defaultAgg":"","order":0.002841870251016343,"isTag":0,"description":"每个用户平均访问的次数"},{"dataSet":1,"dataSetName":"超音数数据集","model":2,"id":3,"name":"访问用户数","bizName":"uv","useCnt":0,"type":"METRIC","alias":["UV","访问人数"],"relatedSchemaElements":[{"dimensionId":1,"necessary":false}],"defaultAgg":"count","order":0.004658766300494777,"isTag":0,"description":"访问的用户个数"}],"dimensions":[{"dataSet":1,"dataSetName":"超音数数据集","model":1,"id":1,"name":"部门","bizName":"department","useCnt":0,"type":"DIMENSION","alias":[],"schemaValueMaps":[],"order":0.0,"isTag":1,"description":""}],"aggType":"NONE","filterType":"AND","dimensionFilters":[],"metricFilters":[],"orders":[],"dateInfo":{"dateMode":"RECENT","startDate":"2024-06-08","endDate":"2024-07-07","dateList":["2024-06-08","2024-06-09","2024-06-10","2024-06-11","2024-06-12","2024-06-13","2024-06-14","2024-06-15","2024-06-16","2024-06-17","2024-06-18","2024-06-19","2024-06-20","2024-06-21","2024-06-22","2024-06-23","2024-06-24","2024-06-25","2024-06-26","2024-06-27","2024-06-28","2024-06-29","2024-06-30","2024-07-01","2024-07-02","2024-07-03","2024-07-04","2024-07-05","2024-07-06","2024-07-07"],"unit":30,"period":"DAY","detectWord":"近30天","groupByDate":false,"inherited":true,"groupByTimeDimension":"sys_imp_date"},"limit":365,"score":6.0,"elementMatches":[{"element":{"dataSet":1,"dataSetName":"超音数数据集","model":2,"id":1,"name":"访问次数","bizName":"pv","useCnt":0,"type":"METRIC","alias":[],"relatedSchemaElements":[{"dimensionId":1,"necessary":false},{"dimensionId":2,"necessary":false}],"defaultAgg":"SUM","order":0.0,"isTag":0,"description":"一段时间内用户的访问次数"},"similarity":1.0,"detectWord":"访问次数","word":"访问次数","frequency":100000,"inherited":false},{"element":{"dataSet":1,"dataSetName":"超音数数据集","model":2,"id":4,"name":"人均访问次数","bizName":"pv_avg","useCnt":0,"type":"METRIC","alias":["平均访问次数"],"relatedSchemaElements":[{"dimensionId":1,"necessary":false}],"defaultAgg":"","order":0.002841870251016343,"isTag":0,"description":"每个用户平均访问的次数"},"similarity":0.9971581297489837,"detectWord":"人访问次数","word":"人均访问次数","frequency":100000,"inherited":false},{"element":{"dataSet":1,"dataSetName":"超音数数据集","model":2,"id":3,"name":"访问用户数","bizName":"uv","useCnt":0,"type":"METRIC","alias":["UV","访问人数"],"relatedSchemaElements":[{"dimensionId":1,"necessary":false}],"defaultAgg":"count","order":0.004658766300494777,"isTag":0,"description":"访问的用户个数"},"similarity":0.9953412336995052,"detectWord":"访问次数","word":"访问用户数","frequency":100000,"inherited":false},{"element":{"dataSet":1,"dataSetName":"超音数数据集","model":1,"id":1,"name":"部门","bizName":"department","useCnt":0,"type":"DIMENSION","alias":[],"schemaValueMaps":[],"order":0.0,"isTag":1,"description":""},"similarity":1.0,"detectWord":"部门","word":"部门","frequency":100000,"inherited":true}],"properties":{},"sqlInfo":{},"sqlEvaluation":{},"queryType":"ID","dataSetId":1},"queryMode":"METRIC_GROUPBY"},{"parseInfo":{"queryMode":"METRIC_MODEL","dataSet":{"dataSet":1,"dataSetName":"超音数数据集","id":1,"name":"超音数数据集","bizName":"s2","type":"DATASET","order":0.0,"isTag":0},"metrics":[{"dataSet":1,"dataSetName":"超音数数据集","model":2,"id":1,"name":"访问次数","bizName":"pv","useCnt":0,"type":"METRIC","alias":[],"relatedSchemaElements":[{"dimensionId":1,"necessary":false},{"dimensionId":2,"necessary":false}],"defaultAgg":"SUM","order":0.0,"isTag":0,"description":"一段时间内用户的访问次数"},{"dataSet":1,"dataSetName":"超音数数据集","model":2,"id":4,"name":"人均访问次数","bizName":"pv_avg","useCnt":0,"type":"METRIC","alias":["平均访问次数"],"relatedSchemaElements":[{"dimensionId":1,"necessary":false}],"defaultAgg":"","order":0.002841870251016343,"isTag":0,"description":"每个用户平均访问的次数"},{"dataSet":1,"dataSetName":"超音数数据集","model":2,"id":3,"name":"访问用户数","bizName":"uv","useCnt":0,"type":"METRIC","alias":["UV","访问人数"],"relatedSchemaElements":[{"dimensionId":1,"necessary":false}],"defaultAgg":"count","order":0.004658766300494777,"isTag":0,"description":"访问的用户个数"}],"dimensions":[],"aggType":"NONE","filterType":"AND","dimensionFilters":[],"metricFilters":[],"orders":[],"dateInfo":{"dateMode":"RECENT","startDate":"2024-06-08","endDate":"2024-07-07","dateList":["2024-06-08","2024-06-09","2024-06-10","2024-06-11","2024-06-12","2024-06-13","2024-06-14","2024-06-15","2024-06-16","2024-06-17","2024-06-18","2024-06-19","2024-06-20","2024-06-21","2024-06-22","2024-06-23","2024-06-24","2024-06-25","2024-06-26","2024-06-27","2024-06-28","2024-06-29","2024-06-30","2024-07-01","2024-07-02","2024-07-03","2024-07-04","2024-07-05","2024-07-06","2024-07-07"],"unit":30,"period":"DAY","detectWord":"近30天","groupByDate":false,"inherited":true,"groupByTimeDimension":"sys_imp_date"},"limit":365,"score":4.0,"elementMatches":[{"element":{"dataSet":1,"dataSetName":"超音数数据集","model":2,"id":1,"name":"访问次数","bizName":"pv","useCnt":0,"type":"METRIC","alias":[],"relatedSchemaElements":[{"dimensionId":1,"necessary":false},{"dimensionId":2,"necessary":false}],"defaultAgg":"SUM","order":0.0,"isTag":0,"description":"一段时间内用户的访问次数"},"similarity":1.0,"detectWord":"访问次数","word":"访问次数","frequency":100000,"inherited":false},{"element":{"dataSet":1,"dataSetName":"超音数数据集","model":2,"id":4,"name":"人均访问次数","bizName":"pv_avg","useCnt":0,"type":"METRIC","alias":["平均访问次数"],"relatedSchemaElements":[{"dimensionId":1,"necessary":false}],"defaultAgg":"","order":0.002841870251016343,"isTag":0,"description":"每个用户平均访问的次数"},"similarity":0.9971581297489837,"detectWord":"人访问次数","word":"人均访问次数","frequency":100000,"inherited":false},{"element":{"dataSet":1,"dataSetName":"超音数数据集","model":2,"id":3,"name":"访问用户数","bizName":"uv","useCnt":0,"type":"METRIC","alias":["UV","访问人数"],"relatedSchemaElements":[{"dimensionId":1,"necessary":false}],"defaultAgg":"count","order":0.004658766300494777,"isTag":0,"description":"访问的用户个数"},"similarity":0.9953412336995052,"detectWord":"访问次数","word":"访问用户数","frequency":100000,"inherited":false}],"properties":{},"sqlInfo":{},"sqlEvaluation":{},"queryType":"ID","dataSetId":1},"queryMode":"METRIC_MODEL"}],"mapInfo":{"dataSetElementMatches":{"1":[{"element":{"dataSet":1,"dataSetName":"超音数数据集","model":2,"id":1,"name":"访问次数","bizName":"pv","useCnt":0,"type":"METRIC","alias":[],"relatedSchemaElements":[{"dimensionId":1,"necessary":false},{"dimensionId":2,"necessary":false}],"defaultAgg":"SUM","order":0.0,"isTag":0,"description":"一段时间内用户的访问次数"},"similarity":1.0,"detectWord":"访问次数","word":"访问次数","frequency":100000,"inherited":false},{"element":{"dataSet":1,"dataSetName":"超音数数据集","model":2,"id":4,"name":"人均访问次数","bizName":"pv_avg","useCnt":0,"type":"METRIC","alias":["平均访问次数"],"relatedSchemaElements":[{"dimensionId":1,"necessary":false}],"defaultAgg":"","order":0.002841870251016343,"isTag":0,"description":"每个用户平均访问的次数"},"similarity":0.9971581297489837,"detectWord":"人访问次数","word":"人均访问次数","frequency":100000,"inherited":false},{"element":{"dataSet":1,"dataSetName":"超音数数据集","model":2,"id":3,"name":"访问用户数","bizName":"uv","useCnt":0,"type":"METRIC","alias":["UV","访问人数"],"relatedSchemaElements":[{"dimensionId":1,"necessary":false}],"defaultAgg":"count","order":0.004658766300494777,"isTag":0,"description":"访问的用户个数"},"similarity":0.9953412336995052,"detectWord":"访问次数","word":"访问用户数","frequency":100000,"inherited":false},{"element":{"dataSet":1,"dataSetName":"超音数数据集","model":1,"id":1,"name":"部门","bizName":"department","useCnt":0,"type":"DIMENSION","alias":[],"schemaValueMaps":[],"order":0.0,"isTag":1,"description":""},"similarity":1.0,"detectWord":"部门","word":"部门","frequency":100000,"inherited":true}]},"matchedDataSetInfos":[1]},"mapModeEnum":"STRICT","queryDataType":"ALL","llmConfig":{"provider":"OPEN_AI","baseUrl":"https://api.openai.com/v1","apiKey":"kGA4i6jY7QqG5xH+S0N++SzVWVKyAHesOq7NpoFVI7pgU14eb1AM296OFiLJTNtDVfpWDpfu7o4vDG2C2yWiSA==","modelName":"gpt-3.5-turbo","temperature":0.0,"timeOut":60},"exemplars":[]}
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@528fe906] was not registered for synchronization because synchronization is not active
14:57:06 [http-nio-9080-exec-2] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:57:06 [http-nio-9080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@fb920f5] will not be managed by Spring
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==>  Preparing: SELECT id,parameters,admin FROM s2_system_config
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==> Parameters: 
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - <==      Total: 1
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@528fe906]
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@49acc2a4] was not registered for synchronization because synchronization is not active
14:57:06 [http-nio-9080-exec-2] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:57:06 [http-nio-9080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@fb920f5] will not be managed by Spring
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==>  Preparing: SELECT id,parameters,admin FROM s2_system_config
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==> Parameters: 
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - <==      Total: 1
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@49acc2a4]
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@27c0026f] was not registered for synchronization because synchronization is not active
14:57:06 [http-nio-9080-exec-2] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:57:06 [http-nio-9080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@fb920f5] will not be managed by Spring
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==>  Preparing: SELECT id,parameters,admin FROM s2_system_config
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==> Parameters: 
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - <==      Total: 1
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@27c0026f]
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@751b822c] was not registered for synchronization because synchronization is not active
14:57:06 [http-nio-9080-exec-2] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:57:06 [http-nio-9080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@fb920f5] will not be managed by Spring
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==>  Preparing: SELECT id,parameters,admin FROM s2_system_config
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==> Parameters: 
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - <==      Total: 1
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@751b822c]
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@8f0d0ba] was not registered for synchronization because synchronization is not active
14:57:06 [http-nio-9080-exec-2] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:57:06 [http-nio-9080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@fb920f5] will not be managed by Spring
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==>  Preparing: SELECT id,parameters,admin FROM s2_system_config
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==> Parameters: 
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - <==      Total: 1
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@8f0d0ba]
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@15fba850] was not registered for synchronization because synchronization is not active
14:57:06 [http-nio-9080-exec-2] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:57:06 [http-nio-9080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@fb920f5] will not be managed by Spring
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==>  Preparing: SELECT id,parameters,admin FROM s2_system_config
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==> Parameters: 
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - <==      Total: 1
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@15fba850]
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@176abe2c] was not registered for synchronization because synchronization is not active
14:57:06 [http-nio-9080-exec-2] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:57:06 [http-nio-9080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@fb920f5] will not be managed by Spring
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==>  Preparing: SELECT id,parameters,admin FROM s2_system_config
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==> Parameters: 
14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - <==      Total: 1
14:57:06 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@176abe2c]
```

系统在反复执行SQL查询。每个查询都在选择`s2_system_config`表中的`id`、`parameters`和`admin`列。

以下是一个典型的查询过程描述：

1. **创建SQL会话**：日志显示`org.mybatis.spring.SqlSessionUtils`创建了一个新的SQL会话（例如`org.apache.ibatis.session.defaults.DefaultSqlSession@48aa4e29`）。
2. **获取JDBC连接**：通过`org.mybatis.spring.SqlSessionUtils`获取到JDBC连接（例如`com.mysql.cj.jdbc.ConnectionImpl@fb920f5`）。
3. **准备查询**：系统准备并执行SQL查询：
    
    ```sql
    SELECT id, parameters, admin FROM s2_system_config
    ```
    
4. **查询参数**：每次查询的参数都是空的，这意味着该查询没有动态参数。
5. **查询结果**：每次查询的结果总数都是1，表明数据库中有一条符合查询条件的记录。
6. **关闭SQL会话**：每次查询结束后，系统都会关闭当前的SQL会话，并准备创建新的会话。

这些日志反复显示相同的查询和操作，这种情况可能表明系统在执行某种循环操作，或者有某个功能在频繁调用相同的查询。

此外，还涉及了一些其他查询，例如从`s2_data_set`和`s2_tag`表中选择数据。

每次查询的详细步骤如下：

1. **选择系统配置**：
    
    ```sql
    SELECT id, parameters, admin FROM s2_system_config
    ```
    
    结果：总数为1。
    
2. **选择数据集**：
    
    ```sql
    SELECT id, domain_id, name, biz_name, description, status, alias, data_set_detail, created_at, created_by, updated_at, updated_by, query_config, admin, admin_org FROM s2_data_set WHERE (status = ? AND status <> ?)
    ```
    
    参数：1(Integer), 3(Integer)
    结果：总数为2。
    
3. **选择标签**：
    
    ```sql
    SELECT * FROM s2_tag WHERE item_id in (?, ?, ?) and type = ?
    ```
    
    参数：1(Long), 2(Long), 3(Long), DIMENSION(String)
    结果：总数为1。
    

## 7. 第七部分（开始运行LLM模块）

```
14:57:07 [http-nio-9080-exec-2] INFO  c.t.s.h.chat.parser.llm.LLMSqlParser 38 - try generating query statement for dataSetId:1
14:57:07 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:57:07 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4502e6f5] was not registered for synchronization because synchronization is not active
14:57:07 [http-nio-9080-exec-2] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:57:07 [http-nio-9080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@fb920f5] will not be managed by Spring
14:57:07 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==>  Preparing: SELECT id,parameters,admin FROM s2_system_config
14:57:07 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==> Parameters: 
14:57:07 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - <==      Total: 1
14:57:07 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4502e6f5]
14:57:07 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:57:07 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2a77176c] was not registered for synchronization because synchronization is not active
14:57:07 [http-nio-9080-exec-2] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:57:07 [http-nio-9080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@fb920f5] will not be managed by Spring
14:57:07 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==>  Preparing: SELECT id,parameters,admin FROM s2_system_config
14:57:07 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==> Parameters: 
14:57:07 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - <==      Total: 1
14:57:07 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2a77176c]
14:57:07 [http-nio-9080-exec-2] INFO  c.t.s.h.chat.parser.llm.LLMSqlParser 58 - currentRetryRound:1, start runText2SQL
14:57:07 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:57:07 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@52c00780] was not registered for synchronization because synchronization is not active
14:57:07 [http-nio-9080-exec-2] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:57:07 [http-nio-9080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@fb920f5] will not be managed by Spring
14:57:07 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==>  Preparing: SELECT id,parameters,admin FROM s2_system_config
14:57:07 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==> Parameters: 
14:57:07 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - <==      Total: 1
14:57:07 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@52c00780]
14:57:07 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:57:07 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3b11fc70] was not registered for synchronization because synchronization is not active
14:57:07 [http-nio-9080-exec-2] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:57:07 [http-nio-9080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@fb920f5] will not be managed by Spring
14:57:07 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==>  Preparing: SELECT id,parameters,admin FROM s2_system_config
14:57:07 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==> Parameters: 
14:57:07 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - <==      Total: 1
14:57:07 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3b11fc70]
14:57:07 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:57:07 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5c305faa] was not registered for synchronization because synchronization is not active
14:57:07 [http-nio-9080-exec-2] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:57:07 [http-nio-9080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@fb920f5] will not be managed by Spring
14:57:07 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==>  Preparing: SELECT id,parameters,admin FROM s2_system_config
14:57:07 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==> Parameters: 
14:57:07 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - <==      Total: 1
14:57:07 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5c305faa]
14:57:19 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:57:19 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3a32e0b3] was not registered for synchronization because synchronization is not active
14:57:19 [http-nio-9080-exec-2] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:57:19 [http-nio-9080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@fb920f5] will not be managed by Spring
14:57:19 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==>  Preparing: SELECT id,parameters,admin FROM s2_system_config
14:57:19 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==> Parameters: 
14:57:19 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - <==      Total: 1
14:57:19 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3a32e0b3]
14:57:19 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:57:19 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@59dd5a72] was not registered for synchronization because synchronization is not active
14:57:19 [http-nio-9080-exec-2] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:57:19 [http-nio-9080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@fb920f5] will not be managed by Spring
14:57:19 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==>  Preparing: SELECT id,parameters,admin FROM s2_system_config
14:57:19 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==> Parameters: 
14:57:19 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - <==      Total: 1
14:57:19 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@59dd5a72]
14:57:19 [http-nio-9080-exec-2] DEBUG c.t.s.h.s.w.s.i.WorkflowServiceImpl 67 - LLMSqlParser result:{"queryText":"超音速对比所有人访问次数","chatId":1,"dataSetIds":[],"modelIdToDataSetIds":{"1":[1],"2":[1],"3":[1],"4":[2]},"user":{"id":6,"name":"admin","displayName":"admin","email":"null","isAdmin":1,"superAdmin":true},"saveAnswer":true,"text2SQLType":"RULE_AND_LLM","candidateQueries":[{"parseInfo":{"queryMode":"LLM_S2SQL","dataSet":{"dataSet":1,"dataSetName":"超音数数据集","id":1,"name":"超音数数据集","bizName":"s2","type":"DATASET","order":0.0,"isTag":0},"metrics":[],"dimensions":[],"aggType":"NONE","filterType":"AND","dimensionFilters":[],"metricFilters":[],"orders":[],"score":24.0,"elementMatches":[{"element":{"dataSet":1,"dataSetName":"超音数数据集","model":2,"id":1,"name":"访问次数","bizName":"pv","useCnt":0,"type":"METRIC","alias":[],"relatedSchemaElements":[{"dimensionId":1,"necessary":false},{"dimensionId":2,"necessary":false}],"defaultAgg":"SUM","order":0.0,"isTag":0,"description":"一段时间内用户的访问次数"},"similarity":1.0,"detectWord":"访问次数","word":"访问次数","frequency":100000,"inherited":false},{"element":{"dataSet":1,"dataSetName":"超音数数据集","model":2,"id":4,"name":"人均访问次数","bizName":"pv_avg","useCnt":0,"type":"METRIC","alias":["平均访问次数"],"relatedSchemaElements":[{"dimensionId":1,"necessary":false}],"defaultAgg":"","order":0.002841870251016343,"isTag":0,"description":"每个用户平均访问的次数"},"similarity":0.9971581297489837,"detectWord":"人访问次数","word":"人均访问次数","frequency":100000,"inherited":false},{"element":{"dataSet":1,"dataSetName":"超音数数据集","model":2,"id":3,"name":"访问用户数","bizName":"uv","useCnt":0,"type":"METRIC","alias":["UV","访问人数"],"relatedSchemaElements":[{"dimensionId":1,"necessary":false}],"defaultAgg":"count","order":0.004658766300494777,"isTag":0,"description":"访问的用户个数"},"similarity":0.9953412336995052,"detectWord":"访问次数","word":"访问用户数","frequency":100000,"inherited":false},{"element":{"dataSet":1,"dataSetName":"超音数数据集","model":1,"id":1,"name":"部门","bizName":"department","useCnt":0,"type":"DIMENSION","alias":[],"schemaValueMaps":[],"order":0.0,"isTag":1,"description":""},"similarity":1.0,"detectWord":"部门","word":"部门","frequency":100000,"inherited":true}],"properties":{"type":"internal","CONTEXT":{"dataSetId":1,"llmReq":{"queryText":"超音速对比所有人访问次数","filterCondition":{},"schema":{"domainName":"超音数数据集","dataSetName":"超音数数据集","dataSetId":1,"fieldNameList":["访问用户数","用户","部门","访问次数","人均访问次数","停留时长","页面","数据日期"],"metrics":[{"dataSet":1,"dataSetName":"超音数数据集","model":2,"id":1,"name":"访问次数","bizName":"pv","useCnt":0,"type":"METRIC","alias":[],"relatedSchemaElements":[{"dimensionId":1,"necessary":false},{"dimensionId":2,"necessary":false}],"defaultAgg":"SUM","order":0.0,"isTag":0,"description":"一段时间内用户的访问次数"},{"dataSet":1,"dataSetName":"超音数数据集","model":2,"id":4,"name":"人均访问次数","bizName":"pv_avg","useCnt":0,"type":"METRIC","alias":["平均访问次数"],"relatedSchemaElements":[{"dimensionId":1,"necessary":false}],"defaultAgg":"","order":0.002841870251016343,"isTag":0,"description":"每个用户平均访问的次数"},{"dataSet":1,"dataSetName":"超音数数据集","model":2,"id":3,"name":"访问用户数","bizName":"uv","useCnt":0,"type":"METRIC","alias":["UV","访问人数"],"relatedSchemaElements":[{"dimensionId":1,"necessary":false}],"defaultAgg":"count","order":0.004658766300494777,"isTag":0,"description":"访问的用户个数"}],"dimensions":[{"dataSet":1,"dataSetName":"超音数数据集","model":1,"id":1,"name":"部门","bizName":"department","useCnt":0,"type":"DIMENSION","alias":[],"schemaValueMaps":[],"order":0.0,"isTag":1,"description":""}],"terms":[]},"linking":[],"currentDate":"2024-08-07","priorExts":"","sqlGenType":"1_pass_self_consistency","llmConfig":{"provider":"OPEN_AI","baseUrl":"https://api.openai.com/v1","apiKey":"kGA4i6jY7QqG5xH+S0N++SzVWVKyAHesOq7NpoFVI7pgU14eb1AM296OFiLJTNtDVfpWDpfu7o4vDG2C2yWiSA==","modelName":"gpt-3.5-turbo","temperature":0.0,"timeOut":60},"exemplars":[]},"llmResp":{"query":"超音速对比所有人访问次数","modelName":"超音数数据集","dbSchema":"Table: 超音数数据集, Metrics: [访问次数 COMMENT '一段时间内用户的访问次数' AGGREGATE 'SUM',人均访问次数 COMMENT '每个用户平均访问的次数',访问用户数 COMMENT '访问的用户个数' AGGREGATE 'COUNT',], Dimensions: [部门,]","sqlOutput":"SELECT SUM(访问次数) FROM 超音数数据集","sqlRespMap":{"SELECT SUM(访问次数) FROM 超音数数据集":{"sqlWeight":1.0,"fewShots":[{"question":"今年以来发行的歌曲中，有哪些在近7天播放超过一千万的 (补充信息:。当前的日期是2023-08-12) ","dbSchema":"Table: 歌曲库, Columns = [\"发行日期\", \"歌曲语言\", \"歌曲来源\", \"歌曲流派\", \"歌曲名\", \"歌曲版本\", \"歌曲类型\", \"发行时间\", \"数据日期\"]","sql":"SELECT 歌曲名 FROM 歌曲库 WHERE datediff('year', 发行日期, '2023-08-12') <= 0 AND datediff('day', 数据日期, '2023-08-12') <= 7 AND 结算播放量 > 10000000"},{"question":"超音数近半年每个月的平均访问次数 (补充信息:。当前的日期是2023-09-04) ","dbSchema":"Table: 超音数产品, Columns = [\"用户名\", \"部门\", \"模块\", \"访问时长\", \"访问次数\", \"访问人数\", \"数据日期\"]","sql":"SELECT MONTH(数据日期), AVG(访问次数) FROM 超音数产品 WHERE datediff('year', 数据日期, '2023-09-04') <= 0.5 GROUP BY MONTH(数据日期)"},{"question":"我想要近半年签约的播放量前十的歌手有哪些 (补充信息:。当前的日期是2023-09-11) ","dbSchema":"Table: 艺人库, Columns = [\"播放量层级\", \"播放量单调性\", \"播放量方差\", \"播放量突增类型\", \"播放量集中度\", \"歌手名\", \"歌手等级\", \"歌手类型\", \"歌手来源\", \"签约日期\", \"MPPM潮流人等级\", \"结算播放量\", \"运营播放量\", \"历史累计结算播放量\", \"有播放量歌曲数\", \"历史累计运营播放量\", \"付费用户结算播放量\", \"结算播放量占比\", \"运营播放份额\", \"免费用户结算播放占比\", \"完播量\", \"数据日期\"]","sql":"SELECT 歌手名 FROM 艺人库 WHERE datediff('year', 签约日期, '2023-09-11') <= 0.5 ORDER BY 结算播放量 DESC LIMIT 10"},{"question":"播放量大于1万的歌曲有多少 (补充信息:。当前的日期是2023-07-31) ","dbSchema":"Table: 歌曲库, Columns = [\"歌曲名\", \"歌曲版本\", \"歌曲类型\", \"MPPM歌曲ID\", \"是否严选窄口径歌曲\", \"是否严选宽口径歌曲\", \"是否潮流人歌曲\", \"超声波歌曲ID\", \"C音歌曲ID\", \"C音歌曲MID\", \"结算播放量\", \"运营播放量\", \"分享量\", \"收藏量\", \"运营搜播量\", \"结算搜播量\", \"拉新用户数\", \"拉活用户数\", \"分享率\", \"结算播放份额\", \"数据日期\"]","sql":"SELECT 歌曲名 FROM 歌曲库 WHERE 结算播放量 > 10000"},{"question":"超音数访问次数大于1k的部门是哪些 (补充信息:。当前的日期是2023-09-14) ","dbSchema":"Table: 超音数产品, Columns = [\"部门\", \"模块\", \"用户名\", \"访问次数\", \"访问人数\", \"访问时长\", \"数据日期\"]","sql":"SELECT 部门 FROM 超音数产品 WHERE 访问次数 > 1000"}]}}},"linkingValues":[]}},"sqlInfo":{"s2SQL":"SELECT SUM(访问次数) FROM 超音数数据集"},"sqlEvaluation":{},"queryType":"ID","dataSetId":1},"queryMode":"LLM_S2SQL"},{"parseInfo":{"queryMode":"METRIC_GROUPBY","dataSet":{"dataSet":1,"dataSetName":"超音数数据集","id":1,"name":"超音数数据集","bizName":"s2","type":"DATASET","order":0.0,"isTag":0},"metrics":[{"dataSet":1,"dataSetName":"超音数数据集","model":2,"id":1,"name":"访问次数","bizName":"pv","useCnt":0,"type":"METRIC","alias":[],"relatedSchemaElements":[{"dimensionId":1,"necessary":false},{"dimensionId":2,"necessary":false}],"defaultAgg":"SUM","order":0.0,"isTag":0,"description":"一段时间内用户的访问次数"},{"dataSet":1,"dataSetName":"超音数数据集","model":2,"id":4,"name":"人均访问次数","bizName":"pv_avg","useCnt":0,"type":"METRIC","alias":["平均访问次数"],"relatedSchemaElements":[{"dimensionId":1,"necessary":false}],"defaultAgg":"","order":0.002841870251016343,"isTag":0,"description":"每个用户平均访问的次数"},{"dataSet":1,"dataSetName":"超音数数据集","model":2,"id":3,"name":"访问用户数","bizName":"uv","useCnt":0,"type":"METRIC","alias":["UV","访问人数"],"relatedSchemaElements":[{"dimensionId":1,"necessary":false}],"defaultAgg":"count","order":0.004658766300494777,"isTag":0,"description":"访问的用户个数"}],"dimensions":[{"dataSet":1,"dataSetName":"超音数数据集","model":1,"id":1,"name":"部门","bizName":"department","useCnt":0,"type":"DIMENSION","alias":[],"schemaValueMaps":[],"order":0.0,"isTag":1,"description":""}],"aggType":"NONE","filterType":"AND","dimensionFilters":[],"metricFilters":[],"orders":[],"dateInfo":{"dateMode":"RECENT","startDate":"2024-06-08","endDate":"2024-07-07","dateList":["2024-06-08","2024-06-09","2024-06-10","2024-06-11","2024-06-12","2024-06-13","2024-06-14","2024-06-15","2024-06-16","2024-06-17","2024-06-18","2024-06-19","2024-06-20","2024-06-21","2024-06-22","2024-06-23","2024-06-24","2024-06-25","2024-06-26","2024-06-27","2024-06-28","2024-06-29","2024-06-30","2024-07-01","2024-07-02","2024-07-03","2024-07-04","2024-07-05","2024-07-06","2024-07-07"],"unit":30,"period":"DAY","detectWord":"近30天","groupByDate":false,"inherited":true,"groupByTimeDimension":"sys_imp_date"},"limit":365,"score":6.0,"elementMatches":[{"element":{"dataSet":1,"dataSetName":"超音数数据集","model":2,"id":1,"name":"访问次数","bizName":"pv","useCnt":0,"type":"METRIC","alias":[],"relatedSchemaElements":[{"dimensionId":1,"necessary":false},{"dimensionId":2,"necessary":false}],"defaultAgg":"SUM","order":0.0,"isTag":0,"description":"一段时间内用户的访问次数"},"similarity":1.0,"detectWord":"访问次数","word":"访问次数","frequency":100000,"inherited":false},{"element":{"dataSet":1,"dataSetName":"超音数数据集","model":2,"id":4,"name":"人均访问次数","bizName":"pv_avg","useCnt":0,"type":"METRIC","alias":["平均访问次数"],"relatedSchemaElements":[{"dimensionId":1,"necessary":false}],"defaultAgg":"","order":0.002841870251016343,"isTag":0,"description":"每个用户平均访问的次数"},"similarity":0.9971581297489837,"detectWord":"人访问次数","word":"人均访问次数","frequency":100000,"inherited":false},{"element":{"dataSet":1,"dataSetName":"超音数数据集","model":2,"id":3,"name":"访问用户数","bizName":"uv","useCnt":0,"type":"METRIC","alias":["UV","访问人数"],"relatedSchemaElements":[{"dimensionId":1,"necessary":false}],"defaultAgg":"count","order":0.004658766300494777,"isTag":0,"description":"访问的用户个数"},"similarity":0.9953412336995052,"detectWord":"访问次数","word":"访问用户数","frequency":100000,"inherited":false},{"element":{"dataSet":1,"dataSetName":"超音数数据集","model":1,"id":1,"name":"部门","bizName":"department","useCnt":0,"type":"DIMENSION","alias":[],"schemaValueMaps":[],"order":0.0,"isTag":1,"description":""},"similarity":1.0,"detectWord":"部门","word":"部门","frequency":100000,"inherited":true}],"properties":{},"sqlInfo":{},"sqlEvaluation":{},"queryType":"ID","dataSetId":1},"queryMode":"METRIC_GROUPBY"},{"parseInfo":{"queryMode":"METRIC_MODEL","dataSet":{"dataSet":1,"dataSetName":"超音数数据集","id":1,"name":"超音数数据集","bizName":"s2","type":"DATASET","order":0.0,"isTag":0},"metrics":[{"dataSet":1,"dataSetName":"超音数数据集","model":2,"id":1,"name":"访问次数","bizName":"pv","useCnt":0,"type":"METRIC","alias":[],"relatedSchemaElements":[{"dimensionId":1,"necessary":false},{"dimensionId":2,"necessary":false}],"defaultAgg":"SUM","order":0.0,"isTag":0,"description":"一段时间内用户的访问次数"},{"dataSet":1,"dataSetName":"超音数数据集","model":2,"id":4,"name":"人均访问次数","bizName":"pv_avg","useCnt":0,"type":"METRIC","alias":["平均访问次数"],"relatedSchemaElements":[{"dimensionId":1,"necessary":false}],"defaultAgg":"","order":0.002841870251016343,"isTag":0,"description":"每个用户平均访问的次数"},{"dataSet":1,"dataSetName":"超音数数据集","model":2,"id":3,"name":"访问用户数","bizName":"uv","useCnt":0,"type":"METRIC","alias":["UV","访问人数"],"relatedSchemaElements":[{"dimensionId":1,"necessary":false}],"defaultAgg":"count","order":0.004658766300494777,"isTag":0,"description":"访问的用户个数"}],"dimensions":[],"aggType":"NONE","filterType":"AND","dimensionFilters":[],"metricFilters":[],"orders":[],"dateInfo":{"dateMode":"RECENT","startDate":"2024-06-08","endDate":"2024-07-07","dateList":["2024-06-08","2024-06-09","2024-06-10","2024-06-11","2024-06-12","2024-06-13","2024-06-14","2024-06-15","2024-06-16","2024-06-17","2024-06-18","2024-06-19","2024-06-20","2024-06-21","2024-06-22","2024-06-23","2024-06-24","2024-06-25","2024-06-26","2024-06-27","2024-06-28","2024-06-29","2024-06-30","2024-07-01","2024-07-02","2024-07-03","2024-07-04","2024-07-05","2024-07-06","2024-07-07"],"unit":30,"period":"DAY","detectWord":"近30天","groupByDate":false,"inherited":true,"groupByTimeDimension":"sys_imp_date"},"limit":365,"score":4.0,"elementMatches":[{"element":{"dataSet":1,"dataSetName":"超音数数据集","model":2,"id":1,"name":"访问次数","bizName":"pv","useCnt":0,"type":"METRIC","alias":[],"relatedSchemaElements":[{"dimensionId":1,"necessary":false},{"dimensionId":2,"necessary":false}],"defaultAgg":"SUM","order":0.0,"isTag":0,"description":"一段时间内用户的访问次数"},"similarity":1.0,"detectWord":"访问次数","word":"访问次数","frequency":100000,"inherited":false},{"element":{"dataSet":1,"dataSetName":"超音数数据集","model":2,"id":4,"name":"人均访问次数","bizName":"pv_avg","useCnt":0,"type":"METRIC","alias":["平均访问次数"],"relatedSchemaElements":[{"dimensionId":1,"necessary":false}],"defaultAgg":"","order":0.002841870251016343,"isTag":0,"description":"每个用户平均访问的次数"},"similarity":0.9971581297489837,"detectWord":"人访问次数","word":"人均访问次数","frequency":100000,"inherited":false},{"element":{"dataSet":1,"dataSetName":"超音数数据集","model":2,"id":3,"name":"访问用户数","bizName":"uv","useCnt":0,"type":"METRIC","alias":["UV","访问人数"],"relatedSchemaElements":[{"dimensionId":1,"necessary":false}],"defaultAgg":"count","order":0.004658766300494777,"isTag":0,"description":"访问的用户个数"},"similarity":0.9953412336995052,"detectWord":"访问次数","word":"访问用户数","frequency":100000,"inherited":false}],"properties":{},"sqlInfo":{},"sqlEvaluation":{},"queryType":"ID","dataSetId":1},"queryMode":"METRIC_MODEL"}],"mapInfo":{"dataSetElementMatches":{"1":[{"element":{"dataSet":1,"dataSetName":"超音数数据集","model":2,"id":1,"name":"访问次数","bizName":"pv","useCnt":0,"type":"METRIC","alias":[],"relatedSchemaElements":[{"dimensionId":1,"necessary":false},{"dimensionId":2,"necessary":false}],"defaultAgg":"SUM","order":0.0,"isTag":0,"description":"一段时间内用户的访问次数"},"similarity":1.0,"detectWord":"访问次数","word":"访问次数","frequency":100000,"inherited":false},{"element":{"dataSet":1,"dataSetName":"超音数数据集","model":2,"id":4,"name":"人均访问次数","bizName":"pv_avg","useCnt":0,"type":"METRIC","alias":["平均访问次数"],"relatedSchemaElements":[{"dimensionId":1,"necessary":false}],"defaultAgg":"","order":0.002841870251016343,"isTag":0,"description":"每个用户平均访问的次数"},"similarity":0.9971581297489837,"detectWord":"人访问次数","word":"人均访问次数","frequency":100000,"inherited":false},{"element":{"dataSet":1,"dataSetName":"超音数数据集","model":2,"id":3,"name":"访问用户数","bizName":"uv","useCnt":0,"type":"METRIC","alias":["UV","访问人数"],"relatedSchemaElements":[{"dimensionId":1,"necessary":false}],"defaultAgg":"count","order":0.004658766300494777,"isTag":0,"description":"访问的用户个数"},"similarity":0.9953412336995052,"detectWord":"访问次数","word":"访问用户数","frequency":100000,"inherited":false},{"element":{"dataSet":1,"dataSetName":"超音数数据集","model":1,"id":1,"name":"部门","bizName":"department","useCnt":0,"type":"DIMENSION","alias":[],"schemaValueMaps":[],"order":0.0,"isTag":1,"description":""},"similarity":1.0,"detectWord":"部门","word":"部门","frequency":100000,"inherited":true}]},"matchedDataSetInfos":[1]},"mapModeEnum":"STRICT","queryDataType":"ALL","llmConfig":{"provider":"OPEN_AI","baseUrl":"https://api.openai.com/v1","apiKey":"kGA4i6jY7QqG5xH+S0N++SzVWVKyAHesOq7NpoFVI7pgU14eb1AM296OFiLJTNtDVfpWDpfu7o4vDG2C2yWiSA==","modelName":"gpt-3.5-turbo","temperature":0.0,"timeOut":60},"exemplars":[]}
14:57:19 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:57:19 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6719cef5] was not registered for synchronization because synchronization is not active
14:57:19 [http-nio-9080-exec-2] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:57:19 [http-nio-9080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@fb920f5] will not be managed by Spring
14:57:19 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==>  Preparing: SELECT id,parameters,admin FROM s2_system_config
14:57:19 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==> Parameters: 
14:57:19 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - <==      Total: 1
14:57:19 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6719cef5]
14:57:19 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:57:19 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@702dc6f2] was not registered for synchronization because synchronization is not active
14:57:19 [http-nio-9080-exec-2] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:57:19 [http-nio-9080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@fb920f5] will not be managed by Spring
14:57:19 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==>  Preparing: SELECT id,parameters,admin FROM s2_system_config
14:57:19 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==> Parameters: 
14:57:19 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - <==      Total: 1
14:57:19 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@702dc6f2]
14:57:19 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:57:19 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@211579a6] was not registered for synchronization because synchronization is not active
14:57:19 [http-nio-9080-exec-2] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:57:19 [http-nio-9080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@fb920f5] will not be managed by Spring
14:57:19 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==>  Preparing: SELECT id,parameters,admin FROM s2_system_config
14:57:19 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==> Parameters: 
14:57:19 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - <==      Total: 1
14:57:19 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@211579a6]
14:57:19 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:57:19 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3733fe22] was not registered for synchronization because synchronization is not active
14:57:19 [http-nio-9080-exec-2] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:57:19 [http-nio-9080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@fb920f5] will not be managed by Spring
14:57:19 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==>  Preparing: SELECT id,parameters,admin FROM s2_system_config
14:57:19 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==> Parameters: 
14:57:19 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - <==      Total: 1
14:57:19 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3733fe22]
14:57:19 [http-nio-9080-exec-2] DEBUG c.t.s.h.s.w.s.i.WorkflowServiceImpl 67 - QueryTypeParser result:{"queryText":"超音速对比所有人访问次数","chatId":1,"dataSetIds":[],"modelIdToDataSetIds":{"1":[1],"2":[1],"3":[1],"4":[2]},"user":{"id":6,"name":"admin","displayName":"admin","email":"null","isAdmin":1,"superAdmin":true},"saveAnswer":true,"text2SQLType":"RULE_AND_LLM","candidateQueries":[{"parseInfo":{"queryMode":"LLM_S2SQL","dataSet":{"dataSet":1,"dataSetName":"超音数数据集","id":1,"name":"超音数数据集","bizName":"s2","type":"DATASET","order":0.0,"isTag":0},"metrics":[],"dimensions":[],"aggType":"NONE","filterType":"AND","dimensionFilters":[],"metricFilters":[],"orders":[],"score":24.0,"elementMatches":[{"element":{"dataSet":1,"dataSetName":"超音数数据集","model":2,"id":1,"name":"访问次数","bizName":"pv","useCnt":0,"type":"METRIC","alias":[],"relatedSchemaElements":[{"dimensionId":1,"necessary":false},{"dimensionId":2,"necessary":false}],"defaultAgg":"SUM","order":0.0,"isTag":0,"description":"一段时间内用户的访问次数"},"similarity":1.0,"detectWord":"访问次数","word":"访问次数","frequency":100000,"inherited":false},{"element":{"dataSet":1,"dataSetName":"超音数数据集","model":2,"id":4,"name":"人均访问次数","bizName":"pv_avg","useCnt":0,"type":"METRIC","alias":["平均访问次数"],"relatedSchemaElements":[{"dimensionId":1,"necessary":false}],"defaultAgg":"","order":0.002841870251016343,"isTag":0,"description":"每个用户平均访问的次数"},"similarity":0.9971581297489837,"detectWord":"人访问次数","word":"人均访问次数","frequency":100000,"inherited":false},{"element":{"dataSet":1,"dataSetName":"超音数数据集","model":2,"id":3,"name":"访问用户数","bizName":"uv","useCnt":0,"type":"METRIC","alias":["UV","访问人数"],"relatedSchemaElements":[{"dimensionId":1,"necessary":false}],"defaultAgg":"count","order":0.004658766300494777,"isTag":0,"description":"访问的用户个数"},"similarity":0.9953412336995052,"detectWord":"访问次数","word":"访问用户数","frequency":100000,"inherited":false},{"element":{"dataSet":1,"dataSetName":"超音数数据集","model":1,"id":1,"name":"部门","bizName":"department","useCnt":0,"type":"DIMENSION","alias":[],"schemaValueMaps":[],"order":0.0,"isTag":1,"description":""},"similarity":1.0,"detectWord":"部门","word":"部门","frequency":100000,"inherited":true}],"properties":{"type":"internal","CONTEXT":{"dataSetId":1,"llmReq":{"queryText":"超音速对比所有人访问次数","filterCondition":{},"schema":{"domainName":"超音数数据集","dataSetName":"超音数数据集","dataSetId":1,"fieldNameList":["访问用户数","用户","部门","访问次数","人均访问次数","停留时长","页面","数据日期"],"metrics":[{"dataSet":1,"dataSetName":"超音数数据集","model":2,"id":1,"name":"访问次数","bizName":"pv","useCnt":0,"type":"METRIC","alias":[],"relatedSchemaElements":[{"dimensionId":1,"necessary":false},{"dimensionId":2,"necessary":false}],"defaultAgg":"SUM","order":0.0,"isTag":0,"description":"一段时间内用户的访问次数"},{"dataSet":1,"dataSetName":"超音数数据集","model":2,"id":4,"name":"人均访问次数","bizName":"pv_avg","useCnt":0,"type":"METRIC","alias":["平均访问次数"],"relatedSchemaElements":[{"dimensionId":1,"necessary":false}],"defaultAgg":"","order":0.002841870251016343,"isTag":0,"description":"每个用户平均访问的次数"},{"dataSet":1,"dataSetName":"超音数数据集","model":2,"id":3,"name":"访问用户数","bizName":"uv","useCnt":0,"type":"METRIC","alias":["UV","访问人数"],"relatedSchemaElements":[{"dimensionId":1,"necessary":false}],"defaultAgg":"count","order":0.004658766300494777,"isTag":0,"description":"访问的用户个数"}],"dimensions":[{"dataSet":1,"dataSetName":"超音数数据集","model":1,"id":1,"name":"部门","bizName":"department","useCnt":0,"type":"DIMENSION","alias":[],"schemaValueMaps":[],"order":0.0,"isTag":1,"description":""}],"terms":[]},"linking":[],"currentDate":"2024-08-07","priorExts":"","sqlGenType":"1_pass_self_consistency","llmConfig":{"provider":"OPEN_AI","baseUrl":"https://api.openai.com/v1","apiKey":"kGA4i6jY7QqG5xH+S0N++SzVWVKyAHesOq7NpoFVI7pgU14eb1AM296OFiLJTNtDVfpWDpfu7o4vDG2C2yWiSA==","modelName":"gpt-3.5-turbo","temperature":0.0,"timeOut":60},"exemplars":[]},"llmResp":{"query":"超音速对比所有人访问次数","modelName":"超音数数据集","dbSchema":"Table: 超音数数据集, Metrics: [访问次数 COMMENT '一段时间内用户的访问次数' AGGREGATE 'SUM',人均访问次数 COMMENT '每个用户平均访问的次数',访问用户数 COMMENT '访问的用户个数' AGGREGATE 'COUNT',], Dimensions: [部门,]","sqlOutput":"SELECT SUM(访问次数) FROM 超音数数据集","sqlRespMap":{"SELECT SUM(访问次数) FROM 超音数数据集":{"sqlWeight":1.0,"fewShots":[{"question":"今年以来发行的歌曲中，有哪些在近7天播放超过一千万的 (补充信息:。当前的日期是2023-08-12) ","dbSchema":"Table: 歌曲库, Columns = [\"发行日期\", \"歌曲语言\", \"歌曲来源\", \"歌曲流派\", \"歌曲名\", \"歌曲版本\", \"歌曲类型\", \"发行时间\", \"数据日期\"]","sql":"SELECT 歌曲名 FROM 歌曲库 WHERE datediff('year', 发行日期, '2023-08-12') <= 0 AND datediff('day', 数据日期, '2023-08-12') <= 7 AND 结算播放量 > 10000000"},{"question":"超音数近半年每个月的平均访问次数 (补充信息:。当前的日期是2023-09-04) ","dbSchema":"Table: 超音数产品, Columns = [\"用户名\", \"部门\", \"模块\", \"访问时长\", \"访问次数\", \"访问人数\", \"数据日期\"]","sql":"SELECT MONTH(数据日期), AVG(访问次数) FROM 超音数产品 WHERE datediff('year', 数据日期, '2023-09-04') <= 0.5 GROUP BY MONTH(数据日期)"},{"question":"我想要近半年签约的播放量前十的歌手有哪些 (补充信息:。当前的日期是2023-09-11) ","dbSchema":"Table: 艺人库, Columns = [\"播放量层级\", \"播放量单调性\", \"播放量方差\", \"播放量突增类型\", \"播放量集中度\", \"歌手名\", \"歌手等级\", \"歌手类型\", \"歌手来源\", \"签约日期\", \"MPPM潮流人等级\", \"结算播放量\", \"运营播放量\", \"历史累计结算播放量\", \"有播放量歌曲数\", \"历史累计运营播放量\", \"付费用户结算播放量\", \"结算播放量占比\", \"运营播放份额\", \"免费用户结算播放占比\", \"完播量\", \"数据日期\"]","sql":"SELECT 歌手名 FROM 艺人库 WHERE datediff('year', 签约日期, '2023-09-11') <= 0.5 ORDER BY 结算播放量 DESC LIMIT 10"},{"question":"播放量大于1万的歌曲有多少 (补充信息:。当前的日期是2023-07-31) ","dbSchema":"Table: 歌曲库, Columns = [\"歌曲名\", \"歌曲版本\", \"歌曲类型\", \"MPPM歌曲ID\", \"是否严选窄口径歌曲\", \"是否严选宽口径歌曲\", \"是否潮流人歌曲\", \"超声波歌曲ID\", \"C音歌曲ID\", \"C音歌曲MID\", \"结算播放量\", \"运营播放量\", \"分享量\", \"收藏量\", \"运营搜播量\", \"结算搜播量\", \"拉新用户数\", \"拉活用户数\", \"分享率\", \"结算播放份额\", \"数据日期\"]","sql":"SELECT 歌曲名 FROM 歌曲库 WHERE 结算播放量 > 10000"},{"question":"超音数访问次数大于1k的部门是哪些 (补充信息:。当前的日期是2023-09-14) ","dbSchema":"Table: 超音数产品, Columns = [\"部门\", \"模块\", \"用户名\", \"访问次数\", \"访问人数\", \"访问时长\", \"数据日期\"]","sql":"SELECT 部门 FROM 超音数产品 WHERE 访问次数 > 1000"}]}}},"linkingValues":[]}},"sqlInfo":{"s2SQL":"SELECT SUM(访问次数) FROM 超音数数据集","correctS2SQL":"SELECT SUM(访问次数) FROM 超音数数据集"},"sqlEvaluation":{},"queryType":"METRIC","dataSetId":1},"queryMode":"LLM_S2SQL"},{"parseInfo":{"queryMode":"METRIC_GROUPBY","dataSet":{"dataSet":1,"dataSetName":"超音数数据集","id":1,"name":"超音数数据集","bizName":"s2","type":"DATASET","order":0.0,"isTag":0},"metrics":[{"dataSet":1,"dataSetName":"超音数数据集","model":2,"id":1,"name":"访问次数","bizName":"pv","useCnt":0,"type":"METRIC","alias":[],"relatedSchemaElements":[{"dimensionId":1,"necessary":false},{"dimensionId":2,"necessary":false}],"defaultAgg":"SUM","order":0.0,"isTag":0,"description":"一段时间内用户的访问次数"},{"dataSet":1,"dataSetName":"超音数数据集","model":2,"id":4,"name":"人均访问次数","bizName":"pv_avg","useCnt":0,"type":"METRIC","alias":["平均访问次数"],"relatedSchemaElements":[{"dimensionId":1,"necessary":false}],"defaultAgg":"","order":0.002841870251016343,"isTag":0,"description":"每个用户平均访问的次数"},{"dataSet":1,"dataSetName":"超音数数据集","model":2,"id":3,"name":"访问用户数","bizName":"uv","useCnt":0,"type":"METRIC","alias":["UV","访问人数"],"relatedSchemaElements":[{"dimensionId":1,"necessary":false}],"defaultAgg":"count","order":0.004658766300494777,"isTag":0,"description":"访问的用户个数"}],"dimensions":[{"bizName":"sys_imp_date","order":0.0,"isTag":0},{"dataSet":1,"dataSetName":"超音数数据集","model":1,"id":1,"name":"部门","bizName":"department","useCnt":0,"type":"DIMENSION","alias":[],"schemaValueMaps":[],"order":0.0,"isTag":1,"description":""}],"aggType":"NONE","filterType":"AND","dimensionFilters":[],"metricFilters":[],"orders":[],"dateInfo":{"dateMode":"RECENT","startDate":"2024-06-08","endDate":"2024-07-07","dateList":["2024-06-08","2024-06-09","2024-06-10","2024-06-11","2024-06-12","2024-06-13","2024-06-14","2024-06-15","2024-06-16","2024-06-17","2024-06-18","2024-06-19","2024-06-20","2024-06-21","2024-06-22","2024-06-23","2024-06-24","2024-06-25","2024-06-26","2024-06-27","2024-06-28","2024-06-29","2024-06-30","2024-07-01","2024-07-02","2024-07-03","2024-07-04","2024-07-05","2024-07-06","2024-07-07"],"unit":30,"period":"DAY","detectWord":"近30天","groupByDate":false,"inherited":true,"groupByTimeDimension":"sys_imp_date"},"limit":365,"score":6.0,"elementMatches":[{"element":{"dataSet":1,"dataSetName":"超音数数据集","model":2,"id":1,"name":"访问次数","bizName":"pv","useCnt":0,"type":"METRIC","alias":[],"relatedSchemaElements":[{"dimensionId":1,"necessary":false},{"dimensionId":2,"necessary":false}],"defaultAgg":"SUM","order":0.0,"isTag":0,"description":"一段时间内用户的访问次数"},"similarity":1.0,"detectWord":"访问次数","word":"访问次数","frequency":100000,"inherited":false},{"element":{"dataSet":1,"dataSetName":"超音数数据集","model":2,"id":4,"name":"人均访问次数","bizName":"pv_avg","useCnt":0,"type":"METRIC","alias":["平均访问次数"],"relatedSchemaElements":[{"dimensionId":1,"necessary":false}],"defaultAgg":"","order":0.002841870251016343,"isTag":0,"description":"每个用户平均访问的次数"},"similarity":0.9971581297489837,"detectWord":"人访问次数","word":"人均访问次数","frequency":100000,"inherited":false},{"element":{"dataSet":1,"dataSetName":"超音数数据集","model":2,"id":3,"name":"访问用户数","bizName":"uv","useCnt":0,"type":"METRIC","alias":["UV","访问人数"],"relatedSchemaElements":[{"dimensionId":1,"necessary":false}],"defaultAgg":"count","order":0.004658766300494777,"isTag":0,"description":"访问的用户个数"},"similarity":0.9953412336995052,"detectWord":"访问次数","word":"访问用户数","frequency":100000,"inherited":false},{"element":{"dataSet":1,"dataSetName":"超音数数据集","model":1,"id":1,"name":"部门","bizName":"department","useCnt":0,"type":"DIMENSION","alias":[],"schemaValueMaps":[],"order":0.0,"isTag":1,"description":""},"similarity":1.0,"detectWord":"部门","word":"部门","frequency":100000,"inherited":true}],"properties":{},"sqlInfo":{"s2SQL":"SELECT sys_imp_date, 部门, SUM(访问次数) AS 访问次数 FROM 超音数数据集 WHERE sys_imp_date >= '2024-07-08' AND sys_imp_date <= '2024-08-06' GROUP BY sys_imp_date, 部门 LIMIT 365","correctS2SQL":"SELECT sys_imp_date, 部门, SUM(访问次数) AS 访问次数 FROM 超音数数据集 WHERE sys_imp_date >= '2024-07-08' AND sys_imp_date <= '2024-08-06' GROUP BY sys_imp_date, 部门 LIMIT 365"},"sqlEvaluation":{},"queryType":"METRIC","dataSetId":1},"queryMode":"METRIC_GROUPBY"},{"parseInfo":{"queryMode":"METRIC_MODEL","dataSet":{"dataSet":1,"dataSetName":"超音数数据集","id":1,"name":"超音数数据集","bizName":"s2","type":"DATASET","order":0.0,"isTag":0},"metrics":[{"dataSet":1,"dataSetName":"超音数数据集","model":2,"id":1,"name":"访问次数","bizName":"pv","useCnt":0,"type":"METRIC","alias":[],"relatedSchemaElements":[{"dimensionId":1,"necessary":false},{"dimensionId":2,"necessary":false}],"defaultAgg":"SUM","order":0.0,"isTag":0,"description":"一段时间内用户的访问次数"},{"dataSet":1,"dataSetName":"超音数数据集","model":2,"id":4,"name":"人均访问次数","bizName":"pv_avg","useCnt":0,"type":"METRIC","alias":["平均访问次数"],"relatedSchemaElements":[{"dimensionId":1,"necessary":false}],"defaultAgg":"","order":0.002841870251016343,"isTag":0,"description":"每个用户平均访问的次数"},{"dataSet":1,"dataSetName":"超音数数据集","model":2,"id":3,"name":"访问用户数","bizName":"uv","useCnt":0,"type":"METRIC","alias":["UV","访问人数"],"relatedSchemaElements":[{"dimensionId":1,"necessary":false}],"defaultAgg":"count","order":0.004658766300494777,"isTag":0,"description":"访问的用户个数"}],"dimensions":[{"bizName":"sys_imp_date","order":0.0,"isTag":0}],"aggType":"NONE","filterType":"AND","dimensionFilters":[],"metricFilters":[],"orders":[],"dateInfo":{"dateMode":"RECENT","startDate":"2024-06-08","endDate":"2024-07-07","dateList":["2024-06-08","2024-06-09","2024-06-10","2024-06-11","2024-06-12","2024-06-13","2024-06-14","2024-06-15","2024-06-16","2024-06-17","2024-06-18","2024-06-19","2024-06-20","2024-06-21","2024-06-22","2024-06-23","2024-06-24","2024-06-25","2024-06-26","2024-06-27","2024-06-28","2024-06-29","2024-06-30","2024-07-01","2024-07-02","2024-07-03","2024-07-04","2024-07-05","2024-07-06","2024-07-07"],"unit":30,"period":"DAY","detectWord":"近30天","groupByDate":false,"inherited":true,"groupByTimeDimension":"sys_imp_date"},"limit":365,"score":4.0,"elementMatches":[{"element":{"dataSet":1,"dataSetName":"超音数数据集","model":2,"id":1,"name":"访问次数","bizName":"pv","useCnt":0,"type":"METRIC","alias":[],"relatedSchemaElements":[{"dimensionId":1,"necessary":false},{"dimensionId":2,"necessary":false}],"defaultAgg":"SUM","order":0.0,"isTag":0,"description":"一段时间内用户的访问次数"},"similarity":1.0,"detectWord":"访问次数","word":"访问次数","frequency":100000,"inherited":false},{"element":{"dataSet":1,"dataSetName":"超音数数据集","model":2,"id":4,"name":"人均访问次数","bizName":"pv_avg","useCnt":0,"type":"METRIC","alias":["平均访问次数"],"relatedSchemaElements":[{"dimensionId":1,"necessary":false}],"defaultAgg":"","order":0.002841870251016343,"isTag":0,"description":"每个用户平均访问的次数"},"similarity":0.9971581297489837,"detectWord":"人访问次数","word":"人均访问次数","frequency":100000,"inherited":false},{"element":{"dataSet":1,"dataSetName":"超音数数据集","model":2,"id":3,"name":"访问用户数","bizName":"uv","useCnt":0,"type":"METRIC","alias":["UV","访问人数"],"relatedSchemaElements":[{"dimensionId":1,"necessary":false}],"defaultAgg":"count","order":0.004658766300494777,"isTag":0,"description":"访问的用户个数"},"similarity":0.9953412336995052,"detectWord":"访问次数","word":"访问用户数","frequency":100000,"inherited":false}],"properties":{},"sqlInfo":{"s2SQL":"SELECT sys_imp_date, SUM(访问次数) AS 访问次数 FROM 超音数数据集 WHERE sys_imp_date >= '2024-07-08' AND sys_imp_date <= '2024-08-06' GROUP BY sys_imp_date LIMIT 365","correctS2SQL":"SELECT sys_imp_date, SUM(访问次数) AS 访问次数 FROM 超音数数据集 WHERE sys_imp_date >= '2024-07-08' AND sys_imp_date <= '2024-08-06' GROUP BY sys_imp_date LIMIT 365"},"sqlEvaluation":{},"queryType":"METRIC","dataSetId":1},"queryMode":"METRIC_MODEL"}],"mapInfo":{"dataSetElementMatches":{"1":[{"element":{"dataSet":1,"dataSetName":"超音数数据集","model":2,"id":1,"name":"访问次数","bizName":"pv","useCnt":0,"type":"METRIC","alias":[],"relatedSchemaElements":[{"dimensionId":1,"necessary":false},{"dimensionId":2,"necessary":false}],"defaultAgg":"SUM","order":0.0,"isTag":0,"description":"一段时间内用户的访问次数"},"similarity":1.0,"detectWord":"访问次数","word":"访问次数","frequency":100000,"inherited":false},{"element":{"dataSet":1,"dataSetName":"超音数数据集","model":2,"id":4,"name":"人均访问次数","bizName":"pv_avg","useCnt":0,"type":"METRIC","alias":["平均访问次数"],"relatedSchemaElements":[{"dimensionId":1,"necessary":false}],"defaultAgg":"","order":0.002841870251016343,"isTag":0,"description":"每个用户平均访问的次数"},"similarity":0.9971581297489837,"detectWord":"人访问次数","word":"人均访问次数","frequency":100000,"inherited":false},{"element":{"dataSet":1,"dataSetName":"超音数数据集","model":2,"id":3,"name":"访问用户数","bizName":"uv","useCnt":0,"type":"METRIC","alias":["UV","访问人数"],"relatedSchemaElements":[{"dimensionId":1,"necessary":false}],"defaultAgg":"count","order":0.004658766300494777,"isTag":0,"description":"访问的用户个数"},"similarity":0.9953412336995052,"detectWord":"访问次数","word":"访问用户数","frequency":100000,"inherited":false},{"element":{"dataSet":1,"dataSetName":"超音数数据集","model":1,"id":1,"name":"部门","bizName":"department","useCnt":0,"type":"DIMENSION","alias":[],"schemaValueMaps":[],"order":0.0,"isTag":1,"description":""},"similarity":1.0,"detectWord":"部门","word":"部门","frequency":100000,"inherited":true}]},"matchedDataSetInfos":[1]},"mapModeEnum":"STRICT","queryDataType":"ALL","llmConfig":{"provider":"OPEN_AI","baseUrl":"https://api.openai.com/v1","apiKey":"kGA4i6jY7QqG5xH+S0N++SzVWVKyAHesOq7NpoFVI7pgU14eb1AM296OFiLJTNtDVfpWDpfu7o4vDG2C2yWiSA==","modelName":"gpt-3.5-turbo","temperature":0.0,"timeOut":60},"exemplars":[]}
14:57:19 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:57:19 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@363a7d7c] was not registered for synchronization because synchronization is not active
14:57:19 [http-nio-9080-exec-2] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:57:19 [http-nio-9080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@fb920f5] will not be managed by Spring
14:57:19 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==>  Preparing: SELECT id,parameters,admin FROM s2_system_config
14:57:19 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==> Parameters: 
14:57:19 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - <==      Total: 1
14:57:19 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@363a7d7c]
14:57:19 [http-nio-9080-exec-2] DEBUG c.t.s.h.c.c.BaseSemanticCorrector 35 - sqlCorrection:SchemaCorrector sql:SqlInfo(s2SQL=SELECT SUM(访问次数) FROM 超音数数据集, correctS2SQL=SELECT SUM(访问次数) FROM 超音数数据集, querySQL=null, sourceId=null)
14:57:19 [http-nio-9080-exec-2] DEBUG c.t.s.h.c.c.BaseSemanticCorrector 35 - sqlCorrection:TimeCorrector sql:SqlInfo(s2SQL=SELECT SUM(访问次数) FROM 超音数数据集, correctS2SQL=SELECT SUM(访问次数) FROM 超音数数据集 WHERE (数据日期 >= '2024-07-31' AND 数据日期 <= '2024-08-06'), querySQL=null, sourceId=null)
14:57:19 [http-nio-9080-exec-2] DEBUG c.t.s.h.c.c.BaseSemanticCorrector 35 - sqlCorrection:SelectCorrector sql:SqlInfo(s2SQL=SELECT SUM(访问次数) FROM 超音数数据集, correctS2SQL=SELECT SUM(访问次数) FROM 超音数数据集 WHERE (数据日期 >= '2024-07-31' AND 数据日期 <= '2024-08-06'), querySQL=null, sourceId=null)
14:57:19 [http-nio-9080-exec-2] DEBUG c.t.s.h.c.c.BaseSemanticCorrector 35 - sqlCorrection:WhereCorrector sql:SqlInfo(s2SQL=SELECT SUM(访问次数) FROM 超音数数据集, correctS2SQL=SELECT SUM(访问次数) FROM 超音数数据集 WHERE (数据日期 >= '2024-07-31' AND 数据日期 <= '2024-08-06'), querySQL=null, sourceId=null)
14:57:19 [http-nio-9080-exec-2] DEBUG c.t.s.h.c.c.BaseSemanticCorrector 35 - sqlCorrection:GroupByCorrector sql:SqlInfo(s2SQL=SELECT SUM(访问次数) FROM 超音数数据集, correctS2SQL=SELECT SUM(访问次数) FROM 超音数数据集 WHERE (数据日期 >= '2024-07-31' AND 数据日期 <= '2024-08-06'), querySQL=null, sourceId=null)
14:57:19 [http-nio-9080-exec-2] DEBUG c.t.s.h.c.c.BaseSemanticCorrector 35 - sqlCorrection:AggCorrector sql:SqlInfo(s2SQL=SELECT SUM(访问次数) FROM 超音数数据集, correctS2SQL=SELECT SUM(访问次数) FROM 超音数数据集 WHERE (数据日期 >= '2024-07-31' AND 数据日期 <= '2024-08-06'), querySQL=null, sourceId=null)
14:57:19 [http-nio-9080-exec-2] DEBUG c.t.s.h.c.c.BaseSemanticCorrector 35 - sqlCorrection:HavingCorrector sql:SqlInfo(s2SQL=SELECT SUM(访问次数) FROM 超音数数据集, correctS2SQL=SELECT SUM(访问次数) FROM 超音数数据集 WHERE (数据日期 >= '2024-07-31' AND 数据日期 <= '2024-08-06'), querySQL=null, sourceId=null)
14:57:19 [http-nio-9080-exec-2] DEBUG c.t.s.h.c.c.BaseSemanticCorrector 35 - sqlCorrection:GrammarCorrector sql:SqlInfo(s2SQL=SELECT SUM(访问次数) FROM 超音数数据集, correctS2SQL=SELECT SUM(访问次数) FROM 超音数数据集 WHERE (数据日期 >= '2024-07-31' AND 数据日期 <= '2024-08-06'), querySQL=null, sourceId=null)
14:57:19 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:57:19 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@48e74ccf] was not registered for synchronization because synchronization is not active
14:57:19 [http-nio-9080-exec-2] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:57:19 [http-nio-9080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@fb920f5] will not be managed by Spring
14:57:19 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==>  Preparing: SELECT id,parameters,admin FROM s2_system_config
14:57:19 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==> Parameters: 
14:57:19 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - <==      Total: 1
14:57:19 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@48e74ccf]
14:57:19 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:57:19 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2103a209] was not registered for synchronization because synchronization is not active
14:57:19 [http-nio-9080-exec-2] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:57:19 [http-nio-9080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@fb920f5] will not be managed by Spring
14:57:19 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==>  Preparing: SELECT id,parameters,admin FROM s2_system_config
14:57:19 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==> Parameters: 
14:57:19 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - <==      Total: 1
14:57:19 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2103a209]
14:57:19 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:57:19 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1ba9e53b] was not registered for synchronization because synchronization is not active
14:57:19 [http-nio-9080-exec-2] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:57:19 [http-nio-9080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@fb920f5] will not be managed by Spring
14:57:19 [http-nio-9080-exec-2] DEBUG c.t.s.h.s.p.m.D.selectList 135 - ==>  Preparing: SELECT id,domain_id,name,biz_name,description,status,alias,data_set_detail,created_at,created_by,updated_at,updated_by,query_config,admin,admin_org FROM s2_data_set WHERE (id IN (?) AND status = ? AND status <> ?)
14:57:19 [http-nio-9080-exec-2] DEBUG c.t.s.h.s.p.m.D.selectList 135 - ==> Parameters: 1(Long), 1(Integer), 3(Integer)
14:57:19 [http-nio-9080-exec-2] DEBUG c.t.s.h.s.p.m.D.selectList 135 - <==      Total: 1
14:57:19 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1ba9e53b]
14:57:19 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:57:19 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2b60624c] was not registered for synchronization because synchronization is not active
14:57:19 [http-nio-9080-exec-2] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:57:19 [http-nio-9080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@fb920f5] will not be managed by Spring
14:57:19 [http-nio-9080-exec-2] DEBUG c.t.s.h.s.p.m.T.getTagDOList 135 - ==>  Preparing: select * from s2_tag WHERE item_id in ( ? , ? , ? ) and type = ?
14:57:19 [http-nio-9080-exec-2] DEBUG c.t.s.h.s.p.m.T.getTagDOList 135 - ==> Parameters: 1(Long), 2(Long), 3(Long), DIMENSION(String)
14:57:19 [http-nio-9080-exec-2] DEBUG c.t.s.h.s.p.m.T.getTagDOList 135 - <==      Total: 1
14:57:19 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2b60624c]
14:57:19 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:57:19 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@46152032] was not registered for synchronization because synchronization is not active
14:57:19 [http-nio-9080-exec-2] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:57:19 [http-nio-9080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@fb920f5] will not be managed by Spring
14:57:19 [http-nio-9080-exec-2] DEBUG c.t.s.h.s.p.m.T.getTagDOList 135 - ==>  Preparing: select * from s2_tag WHERE item_id in ( ? , ? , ? , ? ) and type = ?
14:57:19 [http-nio-9080-exec-2] DEBUG c.t.s.h.s.p.m.T.getTagDOList 135 - ==> Parameters: 1(Long), 3(Long), 4(Long), 2(Long), METRIC(String)
14:57:19 [http-nio-9080-exec-2] DEBUG c.t.s.h.s.p.m.T.getTagDOList 135 - <==      Total: 0
14:57:19 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@46152032]
14:57:19 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:57:19 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@37735abb] was not registered for synchronization because synchronization is not active
14:57:19 [http-nio-9080-exec-2] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:57:19 [http-nio-9080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@fb920f5] will not be managed by Spring
14:57:19 [http-nio-9080-exec-2] DEBUG c.t.s.h.s.p.m.TermMapper.selectList 135 - ==>  Preparing: SELECT id,domain_id,name,description,alias,related_metrics,related_dimensions,created_at,created_by,updated_at,updated_by FROM s2_term WHERE (domain_id IN (?))
14:57:19 [http-nio-9080-exec-2] DEBUG c.t.s.h.s.p.m.TermMapper.selectList 135 - ==> Parameters: 1(Long)
14:57:19 [http-nio-9080-exec-2] DEBUG c.t.s.h.s.p.m.TermMapper.selectList 135 - <==      Total: 2
14:57:19 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@37735abb]
14:57:19 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:57:19 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5ec199c3] was not registered for synchronization because synchronization is not active
14:57:19 [http-nio-9080-exec-2] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:57:19 [http-nio-9080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@fb920f5] will not be managed by Spring
14:57:19 [http-nio-9080-exec-2] DEBUG c.t.s.h.s.p.m.M.query 135 - ==>  Preparing: select t.* from s2_metric t left join ( select * from s2_tag where type = 'METRIC' ) t1 on t.id = t1.item_id where t.status != 3 and t.status = ? and t.model_id in ( ? , ? , ? )
14:57:19 [http-nio-9080-exec-2] DEBUG c.t.s.h.s.p.m.M.query 135 - ==> Parameters: 1(Integer), 1(Long), 2(Long), 3(Long)
14:57:19 [http-nio-9080-exec-2] DEBUG c.t.s.h.s.p.m.M.query 135 - <==      Total: 4
14:57:19 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5ec199c3]
14:57:19 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:57:19 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@67548d6f] was not registered for synchronization because synchronization is not active
14:57:19 [http-nio-9080-exec-2] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:57:19 [http-nio-9080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@fb920f5] will not be managed by Spring
14:57:19 [http-nio-9080-exec-2] DEBUG c.t.s.h.s.p.m.M.selectList 135 - ==>  Preparing: SELECT id,domain_id,tag_object_id,name,biz_name,description,database_id,status,created_at,created_by,updated_at,updated_by,depends,filter_sql,viewer,view_org,admin,admin_org,is_open,drill_down_dimensions,alias,source_type,ext FROM s2_model WHERE (status <> ? AND id IN (?,?,?,?))
14:57:19 [http-nio-9080-exec-2] DEBUG c.t.s.h.s.p.m.M.selectList 135 - ==> Parameters: 3(Integer), 2(Long), 3(Long), 2(Long), 2(Long)
14:57:19 [http-nio-9080-exec-2] DEBUG c.t.s.h.s.p.m.M.selectList 135 - <==      Total: 2
14:57:19 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@67548d6f]
14:57:19 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:57:19 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@550875d0] was not registered for synchronization because synchronization is not active
14:57:19 [http-nio-9080-exec-2] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:57:19 [http-nio-9080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@fb920f5] will not be managed by Spring
14:57:19 [http-nio-9080-exec-2] DEBUG c.t.s.h.s.p.m.T.getTagDOList 135 - ==>  Preparing: select * from s2_tag WHERE item_id in ( ? , ? , ? , ? ) and type = ?
14:57:19 [http-nio-9080-exec-2] DEBUG c.t.s.h.s.p.m.T.getTagDOList 135 - ==> Parameters: 1(Long), 2(Long), 3(Long), 4(Long), METRIC(String)
14:57:19 [http-nio-9080-exec-2] DEBUG c.t.s.h.s.p.m.T.getTagDOList 135 - <==      Total: 0
14:57:19 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@550875d0]
14:57:19 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:57:19 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@211c3ef2] was not registered for synchronization because synchronization is not active
14:57:19 [http-nio-9080-exec-2] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:57:19 [http-nio-9080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@fb920f5] will not be managed by Spring
14:57:19 [http-nio-9080-exec-2] DEBUG c.t.s.h.s.p.m.D.query 135 - ==>  Preparing: select * from s2_dimension t left join ( select * from s2_tag where type = 'DIMENSION' ) t1 on t.id = t1.item_id where status != 3 and t.status = ? and t.model_id in ( ? , ? , ? )
14:57:19 [http-nio-9080-exec-2] DEBUG c.t.s.h.s.p.m.D.query 135 - ==> Parameters: 1(Integer), 1(Long), 2(Long), 3(Long)
14:57:19 [http-nio-9080-exec-2] DEBUG c.t.s.h.s.p.m.D.query 135 - <==      Total: 3
14:57:19 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@211c3ef2]
14:57:19 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:57:19 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1f8acd10] was not registered for synchronization because synchronization is not active
14:57:19 [http-nio-9080-exec-2] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:57:19 [http-nio-9080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@fb920f5] will not be managed by Spring
14:57:19 [http-nio-9080-exec-2] DEBUG c.t.s.h.s.p.m.M.selectList 135 - ==>  Preparing: SELECT id,domain_id,tag_object_id,name,biz_name,description,database_id,status,created_at,created_by,updated_at,updated_by,depends,filter_sql,viewer,view_org,admin,admin_org,is_open,drill_down_dimensions,alias,source_type,ext FROM s2_model WHERE (status <> ? AND id IN (?,?,?))
14:57:19 [http-nio-9080-exec-2] DEBUG c.t.s.h.s.p.m.M.selectList 135 - ==> Parameters: 3(Integer), 1(Long), 1(Long), 3(Long)
14:57:19 [http-nio-9080-exec-2] DEBUG c.t.s.h.s.p.m.M.selectList 135 - <==      Total: 2
14:57:19 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1f8acd10]
14:57:19 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:57:19 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3ae57d98] was not registered for synchronization because synchronization is not active
14:57:19 [http-nio-9080-exec-2] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:57:19 [http-nio-9080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@fb920f5] will not be managed by Spring
14:57:19 [http-nio-9080-exec-2] DEBUG c.t.s.h.s.p.m.T.getTagDOList 135 - ==>  Preparing: select * from s2_tag WHERE item_id in ( ? , ? , ? ) and type = ?
14:57:19 [http-nio-9080-exec-2] DEBUG c.t.s.h.s.p.m.T.getTagDOList 135 - ==> Parameters: 1(Long), 2(Long), 3(Long), DIMENSION(String)
14:57:19 [http-nio-9080-exec-2] DEBUG c.t.s.h.s.p.m.T.getTagDOList 135 - <==      Total: 1
14:57:19 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3ae57d98]
14:57:19 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:57:19 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2ed184eb] was not registered for synchronization because synchronization is not active
14:57:19 [http-nio-9080-exec-2] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:57:19 [http-nio-9080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@fb920f5] will not be managed by Spring
14:57:19 [http-nio-9080-exec-2] DEBUG c.t.s.h.s.p.m.T.getTagDOList 135 - ==>  Preparing: select * from s2_tag WHERE item_id in ( ? , ? , ? ) and type = ?
14:57:19 [http-nio-9080-exec-2] DEBUG c.t.s.h.s.p.m.T.getTagDOList 135 - ==> Parameters: 1(Long), 2(Long), 3(Long), DIMENSION(String)
14:57:19 [http-nio-9080-exec-2] DEBUG c.t.s.h.s.p.m.T.getTagDOList 135 - <==      Total: 1
14:57:19 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2ed184eb]
14:57:19 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:57:19 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@34b01cf3] was not registered for synchronization because synchronization is not active
14:57:19 [http-nio-9080-exec-2] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:57:19 [http-nio-9080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@fb920f5] will not be managed by Spring
14:57:19 [http-nio-9080-exec-2] DEBUG c.t.s.h.s.p.m.M.selectList 135 - ==>  Preparing: SELECT id,domain_id,tag_object_id,name,biz_name,description,database_id,status,created_at,created_by,updated_at,updated_by,model_detail,depends,filter_sql,viewer,view_org,admin,admin_org,is_open,drill_down_dimensions,alias,source_type,ext FROM s2_model WHERE (status <> ? AND id IN (?,?,?) AND id IN (?,?,?))
14:57:19 [http-nio-9080-exec-2] DEBUG c.t.s.h.s.p.m.M.selectList 135 - ==> Parameters: 3(Integer), 1(Long), 2(Long), 3(Long), 1(Long), 2(Long), 3(Long)
14:57:19 [http-nio-9080-exec-2] DEBUG c.t.s.h.s.p.m.M.selectList 135 - <==      Total: 3
14:57:19 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@34b01cf3]
14:57:19 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:57:19 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@20128fac] was not registered for synchronization because synchronization is not active
14:57:19 [http-nio-9080-exec-2] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:57:19 [http-nio-9080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@fb920f5] will not be managed by Spring
14:57:19 [http-nio-9080-exec-2] DEBUG c.t.s.h.s.p.m.M.query 135 - ==>  Preparing: select t.* from s2_metric t left join ( select * from s2_tag where type = 'METRIC' ) t1 on t.id = t1.item_id where t.status != 3 and t.biz_name like CONCAT('%',?,'%') and t.model_id in ( ? )
14:57:19 [http-nio-9080-exec-2] DEBUG c.t.s.h.s.p.m.M.query 135 - ==> Parameters: pv(String), 1(Long)
14:57:19 [http-nio-9080-exec-2] DEBUG c.t.s.h.s.p.m.M.query 135 - <==      Total: 0
14:57:19 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@20128fac]
14:57:19 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:57:19 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@74daaf09] was not registered for synchronization because synchronization is not active
14:57:19 [http-nio-9080-exec-2] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:57:19 [http-nio-9080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@fb920f5] will not be managed by Spring
14:57:19 [http-nio-9080-exec-2] DEBUG c.t.s.h.s.p.m.M.selectList 135 - ==>  Preparing: SELECT id,domain_id,tag_object_id,name,biz_name,description,database_id,status,created_at,created_by,updated_at,updated_by,depends,filter_sql,viewer,view_org,admin,admin_org,is_open,drill_down_dimensions,alias,source_type,ext FROM s2_model WHERE (status <> ?)
14:57:19 [http-nio-9080-exec-2] DEBUG c.t.s.h.s.p.m.M.selectList 135 - ==> Parameters: 3(Integer)
14:57:19 [http-nio-9080-exec-2] DEBUG c.t.s.h.s.p.m.M.selectList 135 - <==      Total: 4
14:57:19 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@74daaf09]
14:57:19 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:57:19 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@77de7c4f] was not registered for synchronization because synchronization is not active
14:57:19 [http-nio-9080-exec-2] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:57:19 [http-nio-9080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@fb920f5] will not be managed by Spring
14:57:19 [http-nio-9080-exec-2] DEBUG c.t.s.h.s.p.m.T.getTagDOList 135 - ==>  Preparing: select * from s2_tag WHERE type = ?
14:57:19 [http-nio-9080-exec-2] DEBUG c.t.s.h.s.p.m.T.getTagDOList 135 - ==> Parameters: METRIC(String)
14:57:19 [http-nio-9080-exec-2] DEBUG c.t.s.h.s.p.m.T.getTagDOList 135 - <==      Total: 1
14:57:19 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@77de7c4f]
14:57:19 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:57:19 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5d4c0e86] was not registered for synchronization because synchronization is not active
14:57:19 [http-nio-9080-exec-2] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:57:19 [http-nio-9080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@fb920f5] will not be managed by Spring
14:57:19 [http-nio-9080-exec-2] DEBUG c.t.s.h.s.p.m.StatMapper.getStatInfo 135 - ==>  Preparing: select * from s2_query_stat_info WHERE model_id in ( ? )
14:57:19 [http-nio-9080-exec-2] DEBUG c.t.s.h.s.p.m.StatMapper.getStatInfo 135 - ==> Parameters: 1(Long)
14:57:19 [http-nio-9080-exec-2] DEBUG c.t.s.h.s.p.m.StatMapper.getStatInfo 135 - <==      Total: 0
14:57:19 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5d4c0e86]
14:57:19 [http-nio-9080-exec-2] DEBUG c.t.s.h.s.w.s.impl.SchemaServiceImpl 451 - statInfos:[]
14:57:19 [http-nio-9080-exec-2] DEBUG c.t.s.h.s.w.s.impl.SchemaServiceImpl 273 - typeIdAndStatPair:{}
14:57:20 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:57:20 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@e691976] was not registered for synchronization because synchronization is not active
14:57:20 [http-nio-9080-exec-2] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:57:20 [http-nio-9080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@fb920f5] will not be managed by Spring
14:57:20 [http-nio-9080-exec-2] DEBUG c.t.s.h.s.p.m.M.selectList 135 - ==>  Preparing: SELECT id,domain_id,tag_object_id,name,biz_name,description,database_id,status,created_at,created_by,updated_at,updated_by,model_detail,depends,filter_sql,viewer,view_org,admin,admin_org,is_open,drill_down_dimensions,alias,source_type,ext FROM s2_model WHERE (status <> ? AND id IN (?,?,?))
14:57:20 [http-nio-9080-exec-2] DEBUG c.t.s.h.s.p.m.M.selectList 135 - ==> Parameters: 3(Integer), 1(Long), 2(Long), 3(Long)
14:57:20 [http-nio-9080-exec-2] DEBUG c.t.s.h.s.p.m.M.selectList 135 - <==      Total: 3
14:57:20 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@e691976]
14:57:20 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:57:20 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@f521a60] was not registered for synchronization because synchronization is not active
14:57:20 [http-nio-9080-exec-2] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:57:20 [http-nio-9080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@fb920f5] will not be managed by Spring
14:57:20 [http-nio-9080-exec-2] DEBUG c.t.s.h.s.p.m.M.selectList 135 - ==>  Preparing: SELECT id,domain_id,from_model_id,to_model_id,join_type,join_condition FROM s2_model_rela WHERE (from_model_id IN (?,?,?) OR to_model_id IN (?,?,?))
14:57:20 [http-nio-9080-exec-2] DEBUG c.t.s.h.s.p.m.M.selectList 135 - ==> Parameters: 1(Long), 2(Long), 3(Long), 1(Long), 2(Long), 3(Long)
14:57:20 [http-nio-9080-exec-2] DEBUG c.t.s.h.s.p.m.M.selectList 135 - <==      Total: 2
14:57:20 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@f521a60]
14:57:20 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:57:20 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@24910d3a] was not registered for synchronization because synchronization is not active
14:57:20 [http-nio-9080-exec-2] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:57:20 [http-nio-9080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@fb920f5] will not be managed by Spring
14:57:20 [http-nio-9080-exec-2] DEBUG c.t.s.h.s.p.m.T.queryTagRespList 135 - ==>  Preparing: select * from ( select s2_tag.* , s2_dimension.model_id as model_id, s2_dimension.sensitive_level as sensitive_level, s2_dimension.name as name, s2_dimension.biz_name as biz_name, s2_dimension.description as description from s2_tag join s2_dimension on s2_tag.item_id = s2_dimension.id where s2_dimension.status=1 and s2_tag.type='DIMENSION' union select s2_tag.*, s2_metric.model_id as model_id, s2_metric.sensitive_level as sensitive_level, s2_metric.name as name, s2_metric.biz_name as biz_name, s2_metric.description as description from s2_tag join s2_metric on s2_tag.item_id = s2_metric.id where s2_metric.status=1 and s2_tag.type='METRIC' )t WHERE model_id in ( ? , ? , ? ) order by updated_at desc
14:57:20 [http-nio-9080-exec-2] DEBUG c.t.s.h.s.p.m.T.queryTagRespList 135 - ==> Parameters: 1(Long), 2(Long), 3(Long)
14:57:20 [http-nio-9080-exec-2] DEBUG c.t.s.h.s.p.m.T.queryTagRespList 135 - <==      Total: 1
14:57:20 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@24910d3a]
14:57:20 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:57:20 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4d3b046d] was not registered for synchronization because synchronization is not active
14:57:20 [http-nio-9080-exec-2] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:57:20 [http-nio-9080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@fb920f5] will not be managed by Spring
14:57:20 [http-nio-9080-exec-2] DEBUG c.t.s.h.s.p.m.M.selectById 135 - ==>  Preparing: SELECT id,domain_id,tag_object_id,name,biz_name,description,database_id,status,created_at,created_by,updated_at,updated_by,model_detail,depends,filter_sql,viewer,view_org,admin,admin_org,is_open,drill_down_dimensions,alias,source_type,ext FROM s2_model WHERE id=?
14:57:20 [http-nio-9080-exec-2] DEBUG c.t.s.h.s.p.m.M.selectById 135 - ==> Parameters: 1(Long)
14:57:20 [http-nio-9080-exec-2] DEBUG c.t.s.h.s.p.m.M.selectById 135 - <==      Total: 1
14:57:20 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4d3b046d]
14:57:20 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:57:20 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@653919af] was not registered for synchronization because synchronization is not active
14:57:20 [http-nio-9080-exec-2] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:57:20 [http-nio-9080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@fb920f5] will not be managed by Spring
14:57:20 [http-nio-9080-exec-2] DEBUG c.t.s.h.s.p.m.D.selectList 135 - ==>  Preparing: SELECT id,name,biz_name,parent_id,status,created_at,created_by,updated_at,updated_by,admin,admin_org,is_open,viewer,view_org FROM s2_domain
14:57:20 [http-nio-9080-exec-2] DEBUG c.t.s.h.s.p.m.D.selectList 135 - ==> Parameters: 
14:57:20 [http-nio-9080-exec-2] DEBUG c.t.s.h.s.p.m.D.selectList 135 - <==      Total: 3
14:57:20 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@653919af]
14:57:20 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:57:20 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5b846fcf] was not registered for synchronization because synchronization is not active
14:57:20 [http-nio-9080-exec-2] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:57:20 [http-nio-9080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@fb920f5] will not be managed by Spring
14:57:20 [http-nio-9080-exec-2] DEBUG c.t.s.h.s.p.m.D.selectList 135 - ==>  Preparing: SELECT id,name,biz_name,parent_id,status,created_at,created_by,updated_at,updated_by,admin,admin_org,is_open,viewer,view_org FROM s2_domain
14:57:20 [http-nio-9080-exec-2] DEBUG c.t.s.h.s.p.m.D.selectList 135 - ==> Parameters: 
14:57:20 [http-nio-9080-exec-2] DEBUG c.t.s.h.s.p.m.D.selectList 135 - <==      Total: 3
14:57:20 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5b846fcf]
14:57:20 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:57:20 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@56bb2565] was not registered for synchronization because synchronization is not active
14:57:20 [http-nio-9080-exec-2] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:57:20 [http-nio-9080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@fb920f5] will not be managed by Spring
14:57:20 [http-nio-9080-exec-2] DEBUG c.t.s.h.s.p.m.D.selectById 135 - ==>  Preparing: SELECT id,name,description,version,type,created_at,created_by,updated_at,updated_by,admin,viewer,config FROM s2_database WHERE id=?
14:57:20 [http-nio-9080-exec-2] DEBUG c.t.s.h.s.p.m.D.selectById 135 - ==> Parameters: 1(Long)
14:57:20 [http-nio-9080-exec-2] DEBUG c.t.s.h.s.p.m.D.selectById 135 - <==      Total: 1
14:57:20 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@56bb2565]
14:57:20 [http-nio-9080-exec-2] DEBUG c.t.s.h.s.utils.QueryReqConverter 173 - dataSetId:1,convert name to bizName before:SELECT SUM(访问次数) FROM 超音数数据集 WHERE (数据日期 >= '2024-07-31' AND 数据日期 <= '2024-08-06')
14:57:20 [http-nio-9080-exec-2] DEBUG c.t.s.h.s.utils.QueryReqConverter 175 - dataSetId:1,convert name to bizName after:SELECT SUM(pv) FROM 超音数数据集 WHERE (sys_imp_date >= '2024-07-31' AND sys_imp_date <= '2024-08-06')
14:57:20 [http-nio-9080-exec-2] DEBUG c.t.s.h.s.utils.QueryReqConverter 243 - correctTableName after:SELECT SUM(pv) FROM t_1 WHERE (sys_imp_date >= '2024-07-31' AND sys_imp_date <= '2024-08-06')
14:57:20 [http-nio-9080-exec-2] DEBUG c.t.s.h.s.utils.QueryReqConverter 79 - replaceOrderAggSameAlias SELECT SUM(pv) FROM t_1 WHERE (sys_imp_date >= '2024-07-31' AND sys_imp_date <= '2024-08-06') -> SELECT SUM(pv) FROM t_1 WHERE (sys_imp_date >= '2024-07-31' AND sys_imp_date <= '2024-08-06')
14:57:20 [http-nio-9080-exec-2] DEBUG c.t.s.h.s.utils.QueryReqConverter 125 - QueryReqConverter queryStructReq[{"dataSetId":1"modelIds":[],"groups":[],"aggregators":[{"column":"pv","func":UNKNOWN,"nameCh":"null","args":null,"alias":null}],"orders":[],"dimensionFilters":[],"metricFilters":[],"params":[],"dateInfo":{"dateMode":BETWEEN,"startDate":"2024-08-06","endDate":"2024-07-31","dateList":[],"unit":1,"period":"DAY","text":"null"},"limit":2000,"cacheInfo":{"cache":true}}]
14:57:20 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:57:20 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@49260189] was not registered for synchronization because synchronization is not active
14:57:20 [http-nio-9080-exec-2] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:57:20 [http-nio-9080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@fb920f5] will not be managed by Spring
14:57:20 [http-nio-9080-exec-2] DEBUG c.t.s.h.s.p.m.D.selectById 135 - ==>  Preparing: SELECT id,name,description,version,type,created_at,created_by,updated_at,updated_by,admin,viewer,config FROM s2_database WHERE id=?
14:57:20 [http-nio-9080-exec-2] DEBUG c.t.s.h.s.p.m.D.selectById 135 - ==> Parameters: 1(Long)
14:57:20 [http-nio-9080-exec-2] DEBUG c.t.s.h.s.p.m.D.selectById 135 - <==      Total: 1
```

### 日志关键节点分析

日志中的关键节点如下：

1. **14:57:07 - LLMSqlParser 开始生成查询语句**
    
    ```python
    14:57:07 [http-nio-9080-exec-2] INFO  c.t.s.h.chat.parser.llm.LLMSqlParser 38 - try generating query statement for dataSetId:1
    ```
    
    这条日志表明系统尝试为 dataSetId 为 1 的数据集生成查询语句。
    
2. **14:57:07 - 创建新的 SqlSession**
    
    ```sql
    14:57:07 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
    ```
    
    系统创建了一个新的 SqlSession，这表明数据库操作即将开始。
    
3. **14:57:07 - 准备执行 SQL 查询**
    
    ```sql
    14:57:07 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==>  Preparing: SELECT id,parameters,admin FROM s2_system_config
    ```
    
    系统准备执行 SQL 查询 `SELECT id,parameters,admin FROM s2_system_config`。
    
4. **14:57:07 - SQL 查询执行结果**
    
    ```makefile
    14:57:07 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - <==      Total: 1
    ```
    
    SQL 查询执行成功，返回了 1 条结果。
    
5. **14:57:07 - 关闭 SqlSession**
    
    ```perl
    14:57:07 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4502e6f5]
    ```
    
    系统关闭了 SqlSession。
    
6. **14:57:19 - 解析查询文本和 SQL 语句**
    
    ```sql
    14:57:19 [http-nio-9080-exec-2] DEBUG c.t.s.h.s.w.s.i.WorkflowServiceImpl 67 - QueryTypeParser result:{"queryText":"超音速对比所有人访问次数","chatId":1,"dataSetIds":[],"modelIdToDataSetIds":{"1":[1],"2":[1],"3":[1],"4":[2]},"user":{"id":6,"name":"admin","displayName":"admin","email":"null","isAdmin":1,"superAdmin":true},"saveAnswer":true,"text2SQLType":"RULE_AND_LLM","candidateQueries":[...]}
    ```
    
    解析结果包括查询文本、聊天 ID、数据集 ID 以及用户信息等。
    
7. **14:57:19 - SQL 语句的语义校正**
    
    ```sql
    14:57:19 [http-nio-9080-exec-2] DEBUG c.t.s.h.c.c.BaseSemanticCorrector 35 - sqlCorrection:GrammarCorrector sql:SqlInfo(s2SQL=SELECT SUM(访问次数) FROM 超音数数据集, correctS2SQL=SELECT SUM(访问次数) FROM 超音数数据集 WHERE (数据日期 >= '2024-07-31' AND 数据日期 <= '2024-08-06'), querySQL=null, sourceId=null)
    ```
    
    对生成的 SQL 语句进行了语义校正，添加了时间范围条件。
    
8. **14:57:20 - 将生成的查询语句转换为业务名称**
    
    ```sql
    14:57:20 [http-nio-9080-exec-2] DEBUG c.t.s.h.s.utils.QueryReqConverter 173 - dataSetId:1,convert name to bizName before:SELECT SUM(访问次数) FROM 超音数数据集 WHERE (数据日期 >= '2024-07-31' AND 数据日期 <= '2024-08-06')
    14:57:20 [http-nio-9080-exec-2] DEBUG c.t.s.h.s.utils.QueryReqConverter 175 - dataSetId:1,convert name to bizName after:SELECT SUM(pv) FROM 超音数数据集 WHERE (sys_imp_date >= '2024-07-31' AND sys_imp_date <= '2024-08-06')
    ```
    
    将 SQL 语句中的列名和表名转换为业务名称。
    

### 分析总结

从日志中可以看到，系统主要进行了以下几个步骤：

1. **初始化**：系统开始为特定的数据集生成查询语句，并创建了多个 SqlSession 以便进行数据库操作。
2. **执行 SQL 查询**：系统多次执行 `SELECT id,parameters,admin FROM s2_system_config` 查询，并成功返回结果。
3. **解析和生成 SQL**：通过 LLMSqlParser 和 QueryTypeParser 分析查询文本，生成初步的 SQL 语句。
4. **语义校正**：对生成的 SQL 语句进行多次校正，确保其语义准确。
5. **转换业务名称**：将 SQL 语句中的技术名词转换为业务名词，确保查询语句符合业务需求。

# 核心运行

## 1. 第一部分

```
14:57:20 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@49260189]
14:57:20 [http-nio-9080-exec-2] DEBUG c.t.s.h.c.u.SysTimeDimensionBuilder 19 - addSysTimeDimension before:[Dim(name=部门, type=categorical, expr=null, dateFormat=yyyy-MM-dd, typeParams=null, isCreateDimension=1, bizName=department, description=null, isTag=0)], engineAdaptor:com.tencent.supersonic.headless.core.adaptor.db.MysqlAdaptor@486b5958
14:57:20 [http-nio-9080-exec-2] DEBUG c.t.s.h.c.u.SysTimeDimensionBuilder 19 - addSysTimeDimension before:[Dim(name=, type=time, expr=null, dateFormat=yyyy-MM-dd, typeParams=DimensionTimeTypeParams(isPrimary=true, timeGranularity=day), isCreateDimension=0, bizName=imp_date, description=null, isTag=0), Dim(name=, type=categorical, expr=page, dateFormat=yyyy-MM-dd, typeParams=null, isCreateDimension=0, bizName=page, description=null, isTag=0)], engineAdaptor:com.tencent.supersonic.headless.core.adaptor.db.MysqlAdaptor@486b5958
14:57:20 [http-nio-9080-exec-2] DEBUG c.t.s.h.c.u.SysTimeDimensionBuilder 29 - addSysTimeDimension after:[Dim(name=, type=time, expr=null, dateFormat=yyyy-MM-dd, typeParams=DimensionTimeTypeParams(isPrimary=true, timeGranularity=day), isCreateDimension=0, bizName=imp_date, description=null, isTag=0), Dim(name=, type=categorical, expr=page, dateFormat=yyyy-MM-dd, typeParams=null, isCreateDimension=0, bizName=page, description=null, isTag=0), Dim(name=null, type=time, expr=imp_date, dateFormat=yyyy-MM-dd, typeParams=DimensionTimeTypeParams(isPrimary=true, timeGranularity=day), isCreateDimension=0, bizName=sys_imp_date, description=null, isTag=0), Dim(name=null, type=time, expr=DATE_FORMAT(DATE_SUB(imp_date, INTERVAL (DAYOFWEEK(imp_date) - 2) DAY), '%Y-%m-%d'), dateFormat=yyyy-MM-dd, typeParams=DimensionTimeTypeParams(isPrimary=false, timeGranularity=week), isCreateDimension=0, bizName=sys_imp_week, description=null, isTag=0), Dim(name=null, type=time, expr=DATE_FORMAT(imp_date, '%Y-%m') , dateFormat=yyyy-MM-dd, typeParams=DimensionTimeTypeParams(isPrimary=false, timeGranularity=month), isCreateDimension=0, bizName=sys_imp_month, description=null, isTag=0)], engineAdaptor:com.tencent.supersonic.headless.core.adaptor.db.MysqlAdaptor@486b5958
14:57:20 [http-nio-9080-exec-2] DEBUG c.t.s.h.c.u.SysTimeDimensionBuilder 19 - addSysTimeDimension before:[Dim(name=, type=time, expr=null, dateFormat=yyyy-MM-dd, typeParams=DimensionTimeTypeParams(isPrimary=true, timeGranularity=day), isCreateDimension=0, bizName=imp_date, description=null, isTag=0), Dim(name=页面, type=categorical, expr=page, dateFormat=yyyy-MM-dd, typeParams=null, isCreateDimension=1, bizName=page, description=null, isTag=0)], engineAdaptor:com.tencent.supersonic.headless.core.adaptor.db.MysqlAdaptor@486b5958
14:57:20 [http-nio-9080-exec-2] DEBUG c.t.s.h.c.u.SysTimeDimensionBuilder 29 - addSysTimeDimension after:[Dim(name=, type=time, expr=null, dateFormat=yyyy-MM-dd, typeParams=DimensionTimeTypeParams(isPrimary=true, timeGranularity=day), isCreateDimension=0, bizName=imp_date, description=null, isTag=0), Dim(name=页面, type=categorical, expr=page, dateFormat=yyyy-MM-dd, typeParams=null, isCreateDimension=1, bizName=page, description=null, isTag=0), Dim(name=null, type=time, expr=imp_date, dateFormat=yyyy-MM-dd, typeParams=DimensionTimeTypeParams(isPrimary=true, timeGranularity=day), isCreateDimension=0, bizName=sys_imp_date, description=null, isTag=0), Dim(name=null, type=time, expr=DATE_FORMAT(DATE_SUB(imp_date, INTERVAL (DAYOFWEEK(imp_date) - 2) DAY), '%Y-%m-%d'), dateFormat=yyyy-MM-dd, typeParams=DimensionTimeTypeParams(isPrimary=false, timeGranularity=week), isCreateDimension=0, bizName=sys_imp_week, description=null, isTag=0), Dim(name=null, type=time, expr=DATE_FORMAT(imp_date, '%Y-%m') , dateFormat=yyyy-MM-dd, typeParams=DimensionTimeTypeParams(isPrimary=false, timeGranularity=month), isCreateDimension=0, bizName=sys_imp_month, description=null, isTag=0)], engineAdaptor:com.tencent.supersonic.headless.core.adaptor.db.MysqlAdaptor@486b5958
14:57:20 [http-nio-9080-exec-2] DEBUG c.t.s.h.c.t.DefaultSemanticTranslator 51 - SemanticConverter before [QueryParam(groups=[], aggregators=[{"column":"pv","func":UNKNOWN,"nameCh":"null","args":null,"alias":null}], orders=[], dimensionFilters=[], metricFilters=[], dateInfo={"dateMode":BETWEEN,"startDate":"2024-08-06","endDate":"2024-07-31","dateList":[],"unit":1,"period":"DAY","text":"null"}, limit=2000, queryType=METRIC, s2SQL=null, correctS2SQL=null, dataSetId=1, dataSetName=null, modelIds=[], params=[], metrics=[pv], dimensions=null, where=null, order=null, nativeQuery=false)]
14:57:20 [http-nio-9080-exec-2] DEBUG c.t.s.h.c.t.DefaultSemanticTranslator 54 - SemanticConverter accept [com.tencent.supersonic.headless.core.translator.converter.DefaultDimValueConverter]
14:57:20 [http-nio-9080-exec-2] DEBUG c.t.s.h.c.t.DefaultSemanticTranslator 54 - SemanticConverter accept [com.tencent.supersonic.headless.core.translator.converter.SqlVariableParseConverter]
14:57:20 [http-nio-9080-exec-2] DEBUG c.t.s.h.c.t.DefaultSemanticTranslator 58 - SemanticConverter after QueryParam(groups=[], aggregators=[{"column":"pv","func":UNKNOWN,"nameCh":"null","args":null,"alias":null}], orders=[], dimensionFilters=[], metricFilters=[], dateInfo={"dateMode":BETWEEN,"startDate":"2024-08-06","endDate":"2024-07-31","dateList":[],"unit":1,"period":"DAY","text":"null"}, limit=2000, queryType=METRIC, s2SQL=null, correctS2SQL=null, dataSetId=1, dataSetName=null, modelIds=[], params=[], metrics=[pv], dimensions=null, where=null, order=null, nativeQuery=false) DataSetQueryParam(sql=SELECT SUM(pv) FROM t_1 WHERE (sys_imp_date >= '2024-07-31' AND sys_imp_date <= '2024-08-06'), tables=[MetricTable(alias=t_1, metrics=[pv], dimensions=[sys_imp_date], where=null, aggOption=DEFAULT)], supportWith=true, withAlias=true) MetricQueryParam(metrics=null, dimensions=null, where=null, limit=null, order=null, nativeQuery=false)
14:57:20 [http-nio-9080-exec-2] INFO  c.t.s.h.c.t.DefaultSemanticTranslator 78 - parse dataSetQuery [DataSetQueryParam(sql=SELECT SUM(pv) FROM t_1 WHERE (sys_imp_date >= '2024-07-31' AND sys_imp_date <= '2024-08-06'), tables=[MetricTable(alias=t_1, metrics=[pv], dimensions=[sys_imp_date], where=null, aggOption=DEFAULT)], supportWith=true, withAlias=true)] 
14:57:20 [http-nio-9080-exec-2] INFO  c.t.s.h.c.t.DefaultSemanticTranslator 125 - parse metricQuery [MetricQueryParam(metrics=[pv], dimensions=[sys_imp_date], where=null, limit=null, order=null, nativeQuery=false)] isAgg [DEFAULT]
14:57:20 [http-nio-9080-exec-2] INFO  c.t.s.h.c.t.c.s.node.DataSourceNode 204 - dataSourceMeasures [{user_department=0, s2_pv_uv_statis=1, s2_stay_time_statis=0}]
14:57:20 [http-nio-9080-exec-2] DEBUG c.t.s.h.c.t.c.s.node.DataSourceNode 229 - baseDataSource  match all 
14:57:20 [http-nio-9080-exec-2] DEBUG org.apache.calcite.sql.parser 890 - Reduced DAYOFWEEK(`imp_date`) - 2
14:57:22 [http-nio-9080-exec-2] DEBUG org.apache.calcite.sql2rel 628 - Plan after converting SqlNode to RelNode
LogicalProject(sys_imp_date=[$0], pv=[$2])
  LogicalAggregate(group=[{0, 1}], s2_pv_uv_statis_pv=[SUM($2)])
    LogicalProject(sys_imp_date=[$4], imp_date=[$4], s2_pv_uv_statis_pv=[1])
      LogicalTableScan(table=[[s2_pv_uv_statis]])

14:57:22 [http-nio-9080-exec-2] DEBUG c.t.s.h.c.t.c.sql.node.SemanticNode 423 - RelNode optimize SELECT `imp_date` AS `sys_imp_date`, SUM(1) AS `pv`
FROM
s2_pv_uv_statis
GROUP BY `imp_date`, `imp_date`
14:57:22 [http-nio-9080-exec-2] DEBUG o.a.c.p.A.rule_execution_summary 300 - Rule Attempts Info for HepPlanner
14:57:22 [http-nio-9080-exec-2] DEBUG o.a.c.p.A.rule_execution_summary 301 - 
Rules                                                                   Attempts           Time (us)
* Total                                                                        0                   0

14:57:22 [http-nio-9080-exec-2] DEBUG o.apache.calcite.plan.RelOptPlanner 380 - For final plan, using rel#18:LogicalProject.(input=HepRelVertex#17,inputs=0,exprs=[$2])
14:57:22 [http-nio-9080-exec-2] DEBUG o.apache.calcite.plan.RelOptPlanner 380 - For final plan, using rel#16:LogicalAggregate.(input=HepRelVertex#15,group={0, 1},s2_pv_uv_statis_pv=SUM($2))
14:57:22 [http-nio-9080-exec-2] DEBUG o.apache.calcite.plan.RelOptPlanner 380 - For final plan, using rel#14:LogicalProject.(input=HepRelVertex#13,exprs=[$4, $4, 1])
14:57:22 [http-nio-9080-exec-2] DEBUG o.apache.calcite.plan.RelOptPlanner 380 - For final plan, using rel#1:LogicalTableScan.(table=[s2_pv_uv_statis])
14:57:22 [http-nio-9080-exec-2] DEBUG org.apache.calcite.sql.parser 890 - Reduced `sys_imp_date` >= '2024-07-31' AND `sys_imp_date` <= '2024-08-06'
14:57:22 [http-nio-9080-exec-2] DEBUG org.apache.calcite.sql2rel 628 - Plan after converting SqlNode to RelNode
LogicalAggregate(group=[{}], EXPR$0=[SUM($0)])
  LogicalProject(pv=[$1])
    LogicalFilter(condition=[AND(>=($0, _UTF-8'2024-07-31'), <=($0, _UTF-8'2024-08-06'))])
      LogicalProject(sys_imp_date=[$0], pv=[$1])
        LogicalAggregate(group=[{0}], pv=[SUM($1)])
          LogicalProject(imp_date=[$4], $f1=[1])
            LogicalTableScan(table=[[s2_pv_uv_statis]])

14:57:22 [http-nio-9080-exec-2] DEBUG org.apache.calcite.sql2rel 628 - Plan after converting SqlNode to RelNode
LogicalAggregate(group=[{}], EXPR$0=[SUM($0)])
  LogicalProject(pv=[$1])
    LogicalFilter(condition=[AND(>=($0, _UTF-8'2024-07-31'), <=($0, _UTF-8'2024-08-06'))])
      LogicalProject(sys_imp_date=[$0], pv=[$1])
        LogicalAggregate(group=[{0}], pv=[SUM($1)])
          LogicalProject(imp_date=[$4], $f1=[1])
            LogicalTableScan(table=[[s2_pv_uv_statis]])

14:57:22 [http-nio-9080-exec-2] DEBUG c.t.s.h.c.t.c.sql.node.SemanticNode 423 - RelNode optimize SELECT SUM(`pv`)
FROM
(SELECT `imp_date` AS `sys_imp_date`, SUM(1) AS `pv`
FROM
s2_pv_uv_statis
GROUP BY `imp_date`) AS `t1`
WHERE `sys_imp_date` >= '2024-07-31' AND `sys_imp_date` <= '2024-08-06'
14:57:22 [http-nio-9080-exec-2] DEBUG o.apache.calcite.plan.RelOptPlanner 45 - call#0: Apply rule [FilterToGroupScanRule] to [rel#49:LogicalFilter,rel#47:LogicalProject,rel#45:LogicalAggregate,rel#43:LogicalProject]
14:57:22 [http-nio-9080-exec-2] DEBUG o.a.c.p.A.rule_execution_summary 300 - Rule Attempts Info for HepPlanner
14:57:22 [http-nio-9080-exec-2] DEBUG o.a.c.p.A.rule_execution_summary 301 - 
Rules                                                                   Attempts           Time (us)
FilterToGroupScanRule                                                          1                 968
* Total                                                                        1                 968

14:57:22 [http-nio-9080-exec-2] DEBUG o.apache.calcite.plan.RelOptPlanner 380 - For final plan, using rel#53:LogicalAggregate.(input=HepRelVertex#52,group={},EXPR$0=SUM($0))
14:57:22 [http-nio-9080-exec-2] DEBUG o.apache.calcite.plan.RelOptPlanner 380 - For final plan, using rel#51:LogicalProject.(input=HepRelVertex#50,exprs=[$1])
14:57:22 [http-nio-9080-exec-2] DEBUG o.apache.calcite.plan.RelOptPlanner 380 - For final plan, using rel#49:LogicalFilter.(input=HepRelVertex#48,condition=AND(>=($0, _UTF-8'2024-07-31'), <=($0, _UTF-8'2024-08-06')))
14:57:22 [http-nio-9080-exec-2] DEBUG o.apache.calcite.plan.RelOptPlanner 380 - For final plan, using rel#47:LogicalProject.(input=HepRelVertex#46,inputs=0..1)
14:57:22 [http-nio-9080-exec-2] DEBUG o.apache.calcite.plan.RelOptPlanner 380 - For final plan, using rel#45:LogicalAggregate.(input=HepRelVertex#44,group={0},pv=SUM($1))
14:57:22 [http-nio-9080-exec-2] DEBUG o.apache.calcite.plan.RelOptPlanner 380 - For final plan, using rel#43:LogicalProject.(input=HepRelVertex#42,exprs=[$4, 1])
14:57:22 [http-nio-9080-exec-2] DEBUG o.apache.calcite.plan.RelOptPlanner 380 - For final plan, using rel#22:LogicalTableScan.(table=[s2_pv_uv_statis])
14:57:22 [http-nio-9080-exec-2] DEBUG c.t.s.h.c.t.c.CalciteQueryParser 46 - simplifySql [SELECT SUM(`pv`)
FROM
(SELECT `imp_date` AS `sys_imp_date`, SUM(1) AS `pv`
FROM
s2_pv_uv_statis
GROUP BY `imp_date`) AS `t7`
WHERE `sys_imp_date` >= '2024-07-31' AND `sys_imp_date` <= '2024-08-06']
14:57:22 [http-nio-9080-exec-2] DEBUG c.t.s.h.c.t.DetailQueryOptimizer 27 - before handleNoMetric, sql:with t_1 as (SELECT `imp_date` AS `sys_imp_date`, SUM(1) AS `pv`
FROM
s2_pv_uv_statis
GROUP BY `imp_date`, `imp_date`)
SELECT SUM(pv) FROM t_1 WHERE (sys_imp_date >= '2024-07-31' AND sys_imp_date <= '2024-08-06') limit 1000
14:57:22 [http-nio-9080-exec-2] DEBUG c.t.s.h.c.t.DetailQueryOptimizer 36 - after handleNoMetric, sql:with t_1 as (SELECT `imp_date` AS `sys_imp_date`, SUM(1) AS `pv`
FROM
s2_pv_uv_statis
GROUP BY `imp_date`, `imp_date`)
SELECT SUM(pv) FROM t_1 WHERE (sys_imp_date >= '2024-07-31' AND sys_imp_date <= '2024-08-06') limit 1000
14:57:22 [http-nio-9080-exec-2] DEBUG c.t.s.h.s.utils.QueryReqConverter 173 - dataSetId:1,convert name to bizName before:SELECT sys_imp_date, department, SUM(pv) AS pv FROM 超音数数据集 WHERE sys_imp_date >= '2024-07-08' AND sys_imp_date <= '2024-08-06' GROUP BY sys_imp_date, department LIMIT 365
14:57:22 [http-nio-9080-exec-2] DEBUG c.t.s.h.s.utils.QueryReqConverter 175 - dataSetId:1,convert name to bizName after:SELECT sys_imp_date, department, SUM(pv) AS pv FROM 超音数数据集 WHERE sys_imp_date >= '2024-07-08' AND sys_imp_date <= '2024-08-06' GROUP BY sys_imp_date, department LIMIT 365
14:57:22 [http-nio-9080-exec-2] DEBUG c.t.s.h.s.utils.QueryReqConverter 243 - correctTableName after:SELECT sys_imp_date, department, SUM(pv) AS pv FROM t_1 WHERE sys_imp_date >= '2024-07-08' AND sys_imp_date <= '2024-08-06' GROUP BY sys_imp_date, department LIMIT 365
14:57:22 [http-nio-9080-exec-2] DEBUG c.t.s.h.s.utils.QueryReqConverter 79 - replaceOrderAggSameAlias SELECT sys_imp_date, department, SUM(pv) AS pv FROM t_1 WHERE sys_imp_date >= '2024-07-08' AND sys_imp_date <= '2024-08-06' GROUP BY sys_imp_date, department LIMIT 365 -> SELECT sys_imp_date, department, SUM(pv) AS pv FROM t_1 WHERE sys_imp_date >= '2024-07-08' AND sys_imp_date <= '2024-08-06' GROUP BY sys_imp_date, department LIMIT 365
14:57:22 [http-nio-9080-exec-2] DEBUG c.t.s.h.s.utils.QueryReqConverter 125 - QueryReqConverter queryStructReq[{"dataSetId":1"modelIds":[],"groups":[],"aggregators":[{"column":"pv","func":UNKNOWN,"nameCh":"null","args":null,"alias":null}],"orders":[],"dimensionFilters":[],"metricFilters":[],"params":[],"dateInfo":{"dateMode":BETWEEN,"startDate":"2024-08-06","endDate":"2024-07-08","dateList":[],"unit":1,"period":"DAY","text":"null"},"limit":2000,"cacheInfo":{"cache":true}}]
14:57:22 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:57:22 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@41590376] was not registered for synchronization because synchronization is not active
14:57:22 [http-nio-9080-exec-2] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:57:22 [http-nio-9080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@fb920f5] will not be managed by Spring
14:57:22 [http-nio-9080-exec-2] DEBUG c.t.s.h.s.p.m.D.selectById 135 - ==>  Preparing: SELECT id,name,description,version,type,created_at,created_by,updated_at,updated_by,admin,viewer,config FROM s2_database WHERE id=?
14:57:22 [http-nio-9080-exec-2] DEBUG c.t.s.h.s.p.m.D.selectById 135 - ==> Parameters: 1(Long)
14:57:22 [http-nio-9080-exec-2] DEBUG c.t.s.h.s.p.m.D.selectById 135 - <==      Total: 1
14:57:22 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@41590376]
14:57:22 [http-nio-9080-exec-2] DEBUG c.t.s.h.c.u.SysTimeDimensionBuilder 19 - addSysTimeDimension before:[Dim(name=部门, type=categorical, expr=null, dateFormat=yyyy-MM-dd, typeParams=null, isCreateDimension=1, bizName=department, description=null, isTag=0)], engineAdaptor:com.tencent.supersonic.headless.core.adaptor.db.MysqlAdaptor@486b5958
14:57:22 [http-nio-9080-exec-2] DEBUG c.t.s.h.c.u.SysTimeDimensionBuilder 19 - addSysTimeDimension before:[Dim(name=, type=time, expr=null, dateFormat=yyyy-MM-dd, typeParams=DimensionTimeTypeParams(isPrimary=true, timeGranularity=day), isCreateDimension=0, bizName=imp_date, description=null, isTag=0), Dim(name=, type=categorical, expr=page, dateFormat=yyyy-MM-dd, typeParams=null, isCreateDimension=0, bizName=page, description=null, isTag=0), Dim(name=null, type=time, expr=imp_date, dateFormat=yyyy-MM-dd, typeParams=DimensionTimeTypeParams(isPrimary=true, timeGranularity=day), isCreateDimension=0, bizName=sys_imp_date, description=null, isTag=0), Dim(name=null, type=time, expr=DATE_FORMAT(DATE_SUB(imp_date, INTERVAL (DAYOFWEEK(imp_date) - 2) DAY), '%Y-%m-%d'), dateFormat=yyyy-MM-dd, typeParams=DimensionTimeTypeParams(isPrimary=false, timeGranularity=week), isCreateDimension=0, bizName=sys_imp_week, description=null, isTag=0), Dim(name=null, type=time, expr=DATE_FORMAT(imp_date, '%Y-%m') , dateFormat=yyyy-MM-dd, typeParams=DimensionTimeTypeParams(isPrimary=false, timeGranularity=month), isCreateDimension=0, bizName=sys_imp_month, description=null, isTag=0)], engineAdaptor:com.tencent.supersonic.headless.core.adaptor.db.MysqlAdaptor@486b5958
14:57:22 [http-nio-9080-exec-2] DEBUG c.t.s.h.c.u.SysTimeDimensionBuilder 29 - addSysTimeDimension after:[Dim(name=, type=time, expr=null, dateFormat=yyyy-MM-dd, typeParams=DimensionTimeTypeParams(isPrimary=true, timeGranularity=day), isCreateDimension=0, bizName=imp_date, description=null, isTag=0), Dim(name=, type=categorical, expr=page, dateFormat=yyyy-MM-dd, typeParams=null, isCreateDimension=0, bizName=page, description=null, isTag=0), Dim(name=null, type=time, expr=imp_date, dateFormat=yyyy-MM-dd, typeParams=DimensionTimeTypeParams(isPrimary=true, timeGranularity=day), isCreateDimension=0, bizName=sys_imp_date, description=null, isTag=0), Dim(name=null, type=time, expr=DATE_FORMAT(DATE_SUB(imp_date, INTERVAL (DAYOFWEEK(imp_date) - 2) DAY), '%Y-%m-%d'), dateFormat=yyyy-MM-dd, typeParams=DimensionTimeTypeParams(isPrimary=false, timeGranularity=week), isCreateDimension=0, bizName=sys_imp_week, description=null, isTag=0), Dim(name=null, type=time, expr=DATE_FORMAT(imp_date, '%Y-%m') , dateFormat=yyyy-MM-dd, typeParams=DimensionTimeTypeParams(isPrimary=false, timeGranularity=month), isCreateDimension=0, bizName=sys_imp_month, description=null, isTag=0), Dim(name=null, type=time, expr=imp_date, dateFormat=yyyy-MM-dd, typeParams=DimensionTimeTypeParams(isPrimary=true, timeGranularity=day), isCreateDimension=0, bizName=sys_imp_date, description=null, isTag=0), Dim(name=null, type=time, expr=DATE_FORMAT(DATE_SUB(imp_date, INTERVAL (DAYOFWEEK(imp_date) - 2) DAY), '%Y-%m-%d'), dateFormat=yyyy-MM-dd, typeParams=DimensionTimeTypeParams(isPrimary=false, timeGranularity=week), isCreateDimension=0, bizName=sys_imp_week, description=null, isTag=0), Dim(name=null, type=time, expr=DATE_FORMAT(imp_date, '%Y-%m') , dateFormat=yyyy-MM-dd, typeParams=DimensionTimeTypeParams(isPrimary=false, timeGranularity=month), isCreateDimension=0, bizName=sys_imp_month, description=null, isTag=0)], engineAdaptor:com.tencent.supersonic.headless.core.adaptor.db.MysqlAdaptor@486b5958
14:57:22 [http-nio-9080-exec-2] DEBUG c.t.s.h.c.u.SysTimeDimensionBuilder 19 - addSysTimeDimension before:[Dim(name=, type=time, expr=null, dateFormat=yyyy-MM-dd, typeParams=DimensionTimeTypeParams(isPrimary=true, timeGranularity=day), isCreateDimension=0, bizName=imp_date, description=null, isTag=0), Dim(name=页面, type=categorical, expr=page, dateFormat=yyyy-MM-dd, typeParams=null, isCreateDimension=1, bizName=page, description=null, isTag=0), Dim(name=null, type=time, expr=imp_date, dateFormat=yyyy-MM-dd, typeParams=DimensionTimeTypeParams(isPrimary=true, timeGranularity=day), isCreateDimension=0, bizName=sys_imp_date, description=null, isTag=0), Dim(name=null, type=time, expr=DATE_FORMAT(DATE_SUB(imp_date, INTERVAL (DAYOFWEEK(imp_date) - 2) DAY), '%Y-%m-%d'), dateFormat=yyyy-MM-dd, typeParams=DimensionTimeTypeParams(isPrimary=false, timeGranularity=week), isCreateDimension=0, bizName=sys_imp_week, description=null, isTag=0), Dim(name=null, type=time, expr=DATE_FORMAT(imp_date, '%Y-%m') , dateFormat=yyyy-MM-dd, typeParams=DimensionTimeTypeParams(isPrimary=false, timeGranularity=month), isCreateDimension=0, bizName=sys_imp_month, description=null, isTag=0)], engineAdaptor:com.tencent.supersonic.headless.core.adaptor.db.MysqlAdaptor@486b5958
14:57:22 [http-nio-9080-exec-2] DEBUG c.t.s.h.c.u.SysTimeDimensionBuilder 29 - addSysTimeDimension after:[Dim(name=, type=time, expr=null, dateFormat=yyyy-MM-dd, typeParams=DimensionTimeTypeParams(isPrimary=true, timeGranularity=day), isCreateDimension=0, bizName=imp_date, description=null, isTag=0), Dim(name=页面, type=categorical, expr=page, dateFormat=yyyy-MM-dd, typeParams=null, isCreateDimension=1, bizName=page, description=null, isTag=0), Dim(name=null, type=time, expr=imp_date, dateFormat=yyyy-MM-dd, typeParams=DimensionTimeTypeParams(isPrimary=true, timeGranularity=day), isCreateDimension=0, bizName=sys_imp_date, description=null, isTag=0), Dim(name=null, type=time, expr=DATE_FORMAT(DATE_SUB(imp_date, INTERVAL (DAYOFWEEK(imp_date) - 2) DAY), '%Y-%m-%d'), dateFormat=yyyy-MM-dd, typeParams=DimensionTimeTypeParams(isPrimary=false, timeGranularity=week), isCreateDimension=0, bizName=sys_imp_week, description=null, isTag=0), Dim(name=null, type=time, expr=DATE_FORMAT(imp_date, '%Y-%m') , dateFormat=yyyy-MM-dd, typeParams=DimensionTimeTypeParams(isPrimary=false, timeGranularity=month), isCreateDimension=0, bizName=sys_imp_month, description=null, isTag=0), Dim(name=null, type=time, expr=imp_date, dateFormat=yyyy-MM-dd, typeParams=DimensionTimeTypeParams(isPrimary=true, timeGranularity=day), isCreateDimension=0, bizName=sys_imp_date, description=null, isTag=0), Dim(name=null, type=time, expr=DATE_FORMAT(DATE_SUB(imp_date, INTERVAL (DAYOFWEEK(imp_date) - 2) DAY), '%Y-%m-%d'), dateFormat=yyyy-MM-dd, typeParams=DimensionTimeTypeParams(isPrimary=false, timeGranularity=week), isCreateDimension=0, bizName=sys_imp_week, description=null, isTag=0), Dim(name=null, type=time, expr=DATE_FORMAT(imp_date, '%Y-%m') , dateFormat=yyyy-MM-dd, typeParams=DimensionTimeTypeParams(isPrimary=false, timeGranularity=month), isCreateDimension=0, bizName=sys_imp_month, description=null, isTag=0)], engineAdaptor:com.tencent.supersonic.headless.core.adaptor.db.MysqlAdaptor@486b5958
14:57:22 [http-nio-9080-exec-2] DEBUG c.t.s.h.c.t.DefaultSemanticTranslator 51 - SemanticConverter before [QueryParam(groups=[], aggregators=[{"column":"pv","func":UNKNOWN,"nameCh":"null","args":null,"alias":null}], orders=[], dimensionFilters=[], metricFilters=[], dateInfo={"dateMode":BETWEEN,"startDate":"2024-08-06","endDate":"2024-07-08","dateList":[],"unit":1,"period":"DAY","text":"null"}, limit=2000, queryType=DETAIL, s2SQL=null, correctS2SQL=null, dataSetId=1, dataSetName=null, modelIds=[], params=[], metrics=[pv], dimensions=null, where=null, order=null, nativeQuery=false)]
14:57:22 [http-nio-9080-exec-2] DEBUG c.t.s.h.c.t.DefaultSemanticTranslator 54 - SemanticConverter accept [com.tencent.supersonic.headless.core.translator.converter.DefaultDimValueConverter]
14:57:22 [http-nio-9080-exec-2] DEBUG c.t.s.h.c.t.DefaultSemanticTranslator 54 - SemanticConverter accept [com.tencent.supersonic.headless.core.translator.converter.SqlVariableParseConverter]
14:57:22 [http-nio-9080-exec-2] DEBUG c.t.s.h.c.t.DefaultSemanticTranslator 58 - SemanticConverter after QueryParam(groups=[], aggregators=[{"column":"pv","func":UNKNOWN,"nameCh":"null","args":null,"alias":null}], orders=[], dimensionFilters=[], metricFilters=[], dateInfo={"dateMode":BETWEEN,"startDate":"2024-08-06","endDate":"2024-07-08","dateList":[],"unit":1,"period":"DAY","text":"null"}, limit=2000, queryType=DETAIL, s2SQL=null, correctS2SQL=null, dataSetId=1, dataSetName=null, modelIds=[], params=[], metrics=[pv], dimensions=null, where=null, order=null, nativeQuery=false) DataSetQueryParam(sql=SELECT sys_imp_date, department, SUM(pv) AS pv FROM t_1 WHERE sys_imp_date >= '2024-07-08' AND sys_imp_date <= '2024-08-06' GROUP BY sys_imp_date, department LIMIT 365, tables=[MetricTable(alias=t_1, metrics=[pv], dimensions=[sys_imp_date, department], where=null, aggOption=OUTER)], supportWith=true, withAlias=true) MetricQueryParam(metrics=null, dimensions=null, where=null, limit=null, order=null, nativeQuery=false)
14:57:22 [http-nio-9080-exec-2] INFO  c.t.s.h.c.t.DefaultSemanticTranslator 78 - parse dataSetQuery [DataSetQueryParam(sql=SELECT sys_imp_date, department, SUM(pv) AS pv FROM t_1 WHERE sys_imp_date >= '2024-07-08' AND sys_imp_date <= '2024-08-06' GROUP BY sys_imp_date, department LIMIT 365, tables=[MetricTable(alias=t_1, metrics=[pv], dimensions=[sys_imp_date, department], where=null, aggOption=OUTER)], supportWith=true, withAlias=true)] 
14:57:22 [http-nio-9080-exec-2] INFO  c.t.s.h.c.t.DefaultSemanticTranslator 125 - parse metricQuery [MetricQueryParam(metrics=[pv], dimensions=[sys_imp_date, department], where=null, limit=null, order=null, nativeQuery=true)] isAgg [OUTER]
14:57:22 [http-nio-9080-exec-2] INFO  c.t.s.h.c.t.c.s.node.DataSourceNode 204 - dataSourceMeasures [{user_department=0, s2_pv_uv_statis=1, s2_stay_time_statis=0}]
14:57:22 [http-nio-9080-exec-2] DEBUG c.t.s.h.c.t.c.s.node.DataSourceNode 282 - baseDataSource not match all dimension
14:57:22 [http-nio-9080-exec-2] DEBUG c.t.s.h.c.t.c.s.node.DataSourceNode 250 - linkDataSources [DataSource(id=1, name=user_department, sourceId=1, type=mysql, sqlQuery=select user_name,department from s2_user_department, tableQuery=null, identifiers=[Identify(name=user_name, type=primary)], dimensions=[Dimension(name=department, owners=null, type=categorical, expr=department, dimensionTimeTypeParams=DimensionTimeTypeParams(isPrimary=null, timeGranularity=null), dataType=UNKNOWN, bizName=department, defaultValues=null, ext=null)], measures=[Measure(name=user_department_internal_cnt, agg=count, expr=user_name, constraint=null, alias=null, createMetric=null), Measure(name=user_department_internal_cnt, agg=count, expr=user_name, constraint=null, alias=null, createMetric=null), Measure(name=user_name, agg=, expr=user_name, constraint=null, alias=null, createMetric=null), Measure(name=department, agg=, expr=department, constraint=null, alias=null, createMetric=null)], aggTime=none, timePartType=null), DataSource(id=2, name=s2_pv_uv_statis, sourceId=1, type=mysql, sqlQuery=SELECT imp_date, user_name, page, 1 as pv, user_name as user_id FROM s2_pv_uv_statis, tableQuery=null, identifiers=[Identify(name=user_name, type=primary)], dimensions=[Dimension(name=imp_date, owners=null, type=time, expr=imp_date, dimensionTimeTypeParams=DimensionTimeTypeParams(isPrimary=true, timeGranularity=day), dataType=UNKNOWN, bizName=imp_date, defaultValues=null, ext=null), Dimension(name=page, owners=null, type=categorical, expr=page, dimensionTimeTypeParams=DimensionTimeTypeParams(isPrimary=null, timeGranularity=null), dataType=UNKNOWN, bizName=page, defaultValues=null, ext=null), Dimension(name=sys_imp_date, owners=null, type=time, expr=imp_date, dimensionTimeTypeParams=DimensionTimeTypeParams(isPrimary=true, timeGranularity=day), dataType=UNKNOWN, bizName=sys_imp_date, defaultValues=null, ext=null), Dimension(name=sys_imp_week, owners=null, type=time, expr=DATE_FORMAT(DATE_SUB(imp_date, INTERVAL (DAYOFWEEK(imp_date) - 2) DAY), '%Y-%m-%d'), dimensionTimeTypeParams=DimensionTimeTypeParams(isPrimary=false, timeGranularity=week), dataType=UNKNOWN, bizName=sys_imp_week, defaultValues=null, ext=null), Dimension(name=sys_imp_month, owners=null, type=time, expr=DATE_FORMAT(imp_date, '%Y-%m') , dimensionTimeTypeParams=DimensionTimeTypeParams(isPrimary=false, timeGranularity=month), dataType=UNKNOWN, bizName=sys_imp_month, defaultValues=null, ext=null), Dimension(name=sys_imp_date, owners=null, type=time, expr=imp_date, dimensionTimeTypeParams=DimensionTimeTypeParams(isPrimary=true, timeGranularity=day), dataType=UNKNOWN, bizName=sys_imp_date, defaultValues=null, ext=null), Dimension(name=sys_imp_week, owners=null, type=time, expr=DATE_FORMAT(DATE_SUB(imp_date, INTERVAL (DAYOFWEEK(imp_date) - 2) DAY), '%Y-%m-%d'), dimensionTimeTypeParams=DimensionTimeTypeParams(isPrimary=false, timeGranularity=week), dataType=UNKNOWN, bizName=sys_imp_week, defaultValues=null, ext=null), Dimension(name=sys_imp_month, owners=null, type=time, expr=DATE_FORMAT(imp_date, '%Y-%m') , dimensionTimeTypeParams=DimensionTimeTypeParams(isPrimary=false, timeGranularity=month), dataType=UNKNOWN, bizName=sys_imp_month, defaultValues=null, ext=null)], measures=[Measure(name=s2_pv_uv_statis_pv, agg=SUM, expr=pv, constraint=null, alias=null, createMetric=null), Measure(name=s2_pv_uv_statis_user_id, agg=SUM, expr=user_id, constraint=null, alias=null, createMetric=null), Measure(name=s2_pv_uv_statis_internal_cnt, agg=count, expr=user_name, constraint=null, alias=null, createMetric=null), Measure(name=s2_pv_uv_statis_internal_cnt, agg=count, expr=user_name, constraint=null, alias=null, createMetric=null), Measure(name=user_name, agg=, expr=user_name, constraint=null, alias=null, createMetric=null), Measure(name=imp_date, agg=, expr=imp_date, constraint=null, alias=null, createMetric=null), Measure(name=page, agg=, expr=page, constraint=null, alias=null, createMetric=null), Measure(name=pv, agg=, expr=pv, constraint=null, alias=null, createMetric=null), Measure(name=user_id, agg=, expr=user_id, constraint=null, alias=null, createMetric=null)], aggTime=day, timePartType=null)]
14:57:22 [http-nio-9080-exec-2] INFO  c.t.s.h.c.t.c.sql.render.JoinRender 110 - tableView (SELECT `user_name`, `department` AS `department` FROM (SELECT `user_name`, `department` FROM `s2_user_department`) AS `user_department`) AS `src00_user_department_ccf7`

```

### 关键节点分析

1. **关闭非事务性的 SqlSession**
    - **时间**: 14:57:20
    - **日志**:
        
        ```css
        [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@49260189]
        ```
        
    - **分析**: 日志显示关闭了一个非事务性的 SqlSession，这意味着当前的操作已经完成了一个数据库访问，并且不需要事务管理。
2. **SysTimeDimensionBuilder 添加时间维度**
    - **时间**: 14:57:20
    - **日志**:
        
        ```perl
        [http-nio-9080-exec-2] DEBUG c.t.s.h.c.u.SysTimeDimensionBuilder 19 - addSysTimeDimension before:... engineAdaptor:com.tencent.supersonic.headless.core.adaptor.db.MysqlAdaptor@486b5958
        [http-nio-9080-exec-2] DEBUG c.t.s.h.c.u.SysTimeDimensionBuilder 29 - addSysTimeDimension after:... engineAdaptor:com.tencent.supersonic.headless.core.adaptor.db.MysqlAdaptor@486b5958
        ```
        
    - **分析**: `SysTimeDimensionBuilder` 类正在添加时间维度，显示了在操作前后的维度变化。日志表明系统正在构建和调整时间维度数据以适应后续查询。
3. **SemanticConverter 处理查询参数**
    - **时间**: 14:57:20
    - **日志**:
        
        ```css
        [http-nio-9080-exec-2] DEBUG c.t.s.h.c.t.DefaultSemanticTranslator 51 - SemanticConverter before [QueryParam...]
        [http-nio-9080-exec-2] DEBUG c.t.s.h.c.t.DefaultSemanticTranslator 54 - SemanticConverter accept [com.tencent.supersonic.headless.core.translator.converter.DefaultDimValueConverter]
        [http-nio-9080-exec-2] DEBUG c.t.s.h.c.t.DefaultSemanticTranslator 58 - SemanticConverter after QueryParam...
        ```
        
    - **分析**: 日志显示 `DefaultSemanticTranslator` 类正在处理查询参数，转换和优化查询条件。这个过程包括接收不同的转换器并应用它们对查询参数进行处理。
4. **数据集查询解析**
    - **时间**: 14:57:20
    - **日志**:
        
        ```sql
        [http-nio-9080-exec-2] INFO  c.t.s.h.c.t.DefaultSemanticTranslator 78 - parse dataSetQuery [DataSetQueryParam(sql=SELECT SUM(pv) FROM t_1 WHERE ...)]
        ```
        
    - **分析**: 系统解析数据集查询，并生成相应的 SQL 语句，以便执行数据库查询。日志记录了最终生成的 SQL 语句以及数据集参数。
5. **执行 SQL 查询**
    - **时间**: 14:57:22
    - **日志**:
        
        ```sql
        [http-nio-9080-exec-2] DEBUG c.t.s.h.c.t.c.CalciteQueryParser 46 - simplifySql [SELECT SUM(`pv`) FROM ...]
        ```
        
    - **分析**: 日志显示 `CalciteQueryParser` 类正在简化生成的 SQL 查询，并准备执行。这一步通常涉及将复杂的 SQL 语句优化为更高效的形式。
6. **获取 JDBC 连接并执行查询**
    - **时间**: 14:57:22
    - **日志**:
        
        ```csharp
        [http-nio-9080-exec-2] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
        [http-nio-9080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@fb920f5] will not be managed by Spring
        ```
        
    - **分析**: 系统从数据源获取 JDBC 连接并执行查询。这表明系统正在进行实际的数据库访问，以获取所需的数据。

### 总结

这段日志主要记录了一个查询请求的完整处理过程，包括从查询参数的接收和转换、时间维度的调整、SQL 语句的生成和优化，直到最终的数据库查询执行。每个关键步骤都记录详细，便于调试和性能优化。

## 2. 第二部分

```
14:57:22 [http-nio-9080-exec-2] DEBUG org.apache.calcite.sql.parser 890 - Reduced DAYOFWEEK(`imp_date`) - 2
14:57:22 [http-nio-9080-exec-2] DEBUG org.apache.calcite.sql.parser 890 - Reduced DAYOFWEEK(`imp_date`) - 2
14:57:22 [http-nio-9080-exec-2] INFO  c.t.s.h.c.t.c.sql.render.JoinRender 110 - tableView (SELECT `pv` AS `s2_pv_uv_statis_pv`, `imp_date` AS `sys_imp_date`, `user_name`, `imp_date` AS `imp_date` FROM (SELECT `imp_date`, `user_name`, `page`, 1 AS `pv`, `user_name` AS `user_id` FROM `s2_pv_uv_statis`) AS `s2_pv_uv_statis`) AS `src00_s2_pv_uv_statis_d230`
14:57:22 [http-nio-9080-exec-2] DEBUG org.apache.calcite.sql.parser 890 - Reduced `src1_user_department`.`user_name` = `src1_s2_pv_uv_statis`.`user_name`
14:57:22 [http-nio-9080-exec-2] DEBUG org.apache.calcite.sql2rel 628 - Plan after converting SqlNode to RelNode
LogicalProject(sys_imp_date=[$3], department=[$1], pv=[$2])
  LogicalJoin(condition=[=($0, $4)], joinType=[left])
    LogicalProject(user_name=[$0], department=[$1])
      LogicalTableScan(table=[[s2_user_department]])
    LogicalProject(s2_pv_uv_statis_pv=[1], sys_imp_date=[$4], user_name=[$2], imp_date=[$4])
      LogicalTableScan(table=[[s2_pv_uv_statis]])

14:57:22 [http-nio-9080-exec-2] DEBUG c.t.s.h.c.t.c.sql.node.SemanticNode 423 - RelNode optimize SELECT `t0`.`sys_imp_date`, `t`.`department`, `t0`.`s2_pv_uv_statis_pv` AS `pv`
FROM
(SELECT `user_name`, `department`
FROM
s2_user_department) AS `t`
LEFT JOIN (SELECT 1 AS `s2_pv_uv_statis_pv`, `imp_date` AS `sys_imp_date`, `user_name`, `imp_date`
FROM
s2_pv_uv_statis) AS `t0` ON `t`.`user_name` = `t0`.`user_name`
14:57:22 [http-nio-9080-exec-2] DEBUG o.a.c.p.A.rule_execution_summary 300 - Rule Attempts Info for HepPlanner
14:57:22 [http-nio-9080-exec-2] DEBUG o.a.c.p.A.rule_execution_summary 301 - 
Rules                                                                   Attempts           Time (us)
* Total                                                                        0                   0

14:57:22 [http-nio-9080-exec-2] DEBUG o.apache.calcite.plan.RelOptPlanner 380 - For final plan, using rel#84:LogicalProject.(input=HepRelVertex#83,exprs=[$3, $1, $2])
14:57:22 [http-nio-9080-exec-2] DEBUG o.apache.calcite.plan.RelOptPlanner 380 - For final plan, using rel#82:LogicalJoin.(left=HepRelVertex#78,right=HepRelVertex#81,condition==($0, $4),joinType=left)
14:57:22 [http-nio-9080-exec-2] DEBUG o.apache.calcite.plan.RelOptPlanner 380 - For final plan, using rel#77:LogicalProject.(input=HepRelVertex#76,inputs=0..1)
14:57:22 [http-nio-9080-exec-2] DEBUG o.apache.calcite.plan.RelOptPlanner 380 - For final plan, using rel#57:LogicalTableScan.(table=[s2_user_department])
14:57:22 [http-nio-9080-exec-2] DEBUG o.apache.calcite.plan.RelOptPlanner 380 - For final plan, using rel#80:LogicalProject.(input=HepRelVertex#79,exprs=[1, $4, $2, $4])
14:57:22 [http-nio-9080-exec-2] DEBUG o.apache.calcite.plan.RelOptPlanner 380 - For final plan, using rel#61:LogicalTableScan.(table=[s2_pv_uv_statis])
14:57:22 [http-nio-9080-exec-2] DEBUG org.apache.calcite.sql.parser 890 - Reduced `t2`.`user_name` = `t3`.`user_name`
14:57:22 [http-nio-9080-exec-2] DEBUG org.apache.calcite.sql.parser 890 - Reduced `sys_imp_date` >= '2024-07-08' AND `sys_imp_date` <= '2024-08-06'
14:57:22 [http-nio-9080-exec-2] DEBUG org.apache.calcite.sql2rel 628 - Plan after converting SqlNode to RelNode
LogicalSort(fetch=[365])
  LogicalAggregate(group=[{0, 1}], pv=[SUM($2)])
    LogicalFilter(condition=[AND(>=($0, _UTF-8'2024-07-08'), <=($0, _UTF-8'2024-08-06'))])
      LogicalProject(sys_imp_date=[$3], department=[$1], pv=[$2])
        LogicalJoin(condition=[=($0, $4)], joinType=[left])
          LogicalProject(user_name=[$0], department=[$1])
            LogicalTableScan(table=[[s2_user_department]])
          LogicalProject(s2_pv_uv_statis_pv=[1], sys_imp_date=[$4], user_name=[$2], imp_date=[$4])
            LogicalTableScan(table=[[s2_pv_uv_statis]])

14:57:22 [http-nio-9080-exec-2] DEBUG org.apache.calcite.sql2rel 628 - Plan after converting SqlNode to RelNode
LogicalSort(fetch=[365])
  LogicalAggregate(group=[{0, 1}], pv=[SUM($2)])
    LogicalFilter(condition=[AND(>=($0, _UTF-8'2024-07-08'), <=($0, _UTF-8'2024-08-06'))])
      LogicalProject(sys_imp_date=[$3], department=[$1], pv=[$2])
        LogicalJoin(condition=[=($0, $4)], joinType=[left])
          LogicalProject(user_name=[$0], department=[$1])
            LogicalTableScan(table=[[s2_user_department]])
          LogicalProject(s2_pv_uv_statis_pv=[1], sys_imp_date=[$4], user_name=[$2], imp_date=[$4])
            LogicalTableScan(table=[[s2_pv_uv_statis]])

14:57:22 [http-nio-9080-exec-2] DEBUG c.t.s.h.c.t.c.sql.node.SemanticNode 423 - RelNode optimize SELECT `sys_imp_date`, `department`, SUM(`pv`) AS `pv`
FROM
(SELECT `t0`.`sys_imp_date`, `t`.`department`, `t0`.`s2_pv_uv_statis_pv` AS `pv`
FROM
(SELECT `user_name`, `department`
FROM
s2_user_department) AS `t`
LEFT JOIN (SELECT 1 AS `s2_pv_uv_statis_pv`, `imp_date` AS `sys_imp_date`, `user_name`, `imp_date`
FROM
s2_pv_uv_statis) AS `t0` ON `t`.`user_name` = `t0`.`user_name`) AS `t1`
WHERE `t1`.`sys_imp_date` >= '2024-07-08' AND `t1`.`sys_imp_date` <= '2024-08-06'
GROUP BY `sys_imp_date`, `department`
LIMIT 365
14:57:22 [http-nio-9080-exec-2] DEBUG o.a.c.p.A.rule_execution_summary 300 - Rule Attempts Info for HepPlanner
14:57:22 [http-nio-9080-exec-2] DEBUG o.a.c.p.A.rule_execution_summary 301 - 
Rules                                                                   Attempts           Time (us)
* Total                                                                        0                   0

14:57:22 [http-nio-9080-exec-2] DEBUG o.apache.calcite.plan.RelOptPlanner 380 - For final plan, using rel#130:LogicalSort.(input=HepRelVertex#129,fetch=365)
14:57:22 [http-nio-9080-exec-2] DEBUG o.apache.calcite.plan.RelOptPlanner 380 - For final plan, using rel#128:LogicalAggregate.(input=HepRelVertex#127,group={0, 1},pv=SUM($2))
14:57:22 [http-nio-9080-exec-2] DEBUG o.apache.calcite.plan.RelOptPlanner 380 - For final plan, using rel#126:LogicalFilter.(input=HepRelVertex#125,condition=AND(>=($0, _UTF-8'2024-07-08'), <=($0, _UTF-8'2024-08-06')))
14:57:22 [http-nio-9080-exec-2] DEBUG o.apache.calcite.plan.RelOptPlanner 380 - For final plan, using rel#124:LogicalProject.(input=HepRelVertex#123,exprs=[$3, $1, $2])
14:57:22 [http-nio-9080-exec-2] DEBUG o.apache.calcite.plan.RelOptPlanner 380 - For final plan, using rel#122:LogicalJoin.(left=HepRelVertex#118,right=HepRelVertex#121,condition==($0, $4),joinType=left)
14:57:22 [http-nio-9080-exec-2] DEBUG o.apache.calcite.plan.RelOptPlanner 380 - For final plan, using rel#117:LogicalProject.(input=HepRelVertex#116,inputs=0..1)
14:57:22 [http-nio-9080-exec-2] DEBUG o.apache.calcite.plan.RelOptPlanner 380 - For final plan, using rel#88:LogicalTableScan.(table=[s2_user_department])
14:57:22 [http-nio-9080-exec-2] DEBUG o.apache.calcite.plan.RelOptPlanner 380 - For final plan, using rel#120:LogicalProject.(input=HepRelVertex#119,exprs=[1, $4, $2, $4])
14:57:22 [http-nio-9080-exec-2] DEBUG o.apache.calcite.plan.RelOptPlanner 380 - For final plan, using rel#91:LogicalTableScan.(table=[s2_pv_uv_statis])
14:57:22 [http-nio-9080-exec-2] DEBUG c.t.s.h.c.t.c.CalciteQueryParser 46 - simplifySql [SELECT `sys_imp_date`, `department`, SUM(`pv`) AS `pv`
FROM
(SELECT `t6`.`sys_imp_date`, `t5`.`department`, `t6`.`s2_pv_uv_statis_pv` AS `pv`
FROM
(SELECT `user_name`, `department`
FROM
s2_user_department) AS `t5`
LEFT JOIN (SELECT 1 AS `s2_pv_uv_statis_pv`, `imp_date` AS `sys_imp_date`, `user_name`, `imp_date`
FROM
s2_pv_uv_statis) AS `t6` ON `t5`.`user_name` = `t6`.`user_name`) AS `t7`
WHERE `t7`.`sys_imp_date` >= '2024-07-08' AND `t7`.`sys_imp_date` <= '2024-08-06'
GROUP BY `sys_imp_date`, `department`
LIMIT 365]
14:57:22 [http-nio-9080-exec-2] DEBUG c.t.s.h.c.t.DetailQueryOptimizer 27 - before handleNoMetric, sql:with t_1 as (SELECT `t3`.`sys_imp_date`, `t2`.`department`, `t3`.`s2_pv_uv_statis_pv` AS `pv`
FROM
(SELECT `user_name`, `department`
FROM
s2_user_department) AS `t2`
LEFT JOIN (SELECT 1 AS `s2_pv_uv_statis_pv`, `imp_date` AS `sys_imp_date`, `user_name`, `imp_date`
FROM
s2_pv_uv_statis) AS `t3` ON `t2`.`user_name` = `t3`.`user_name`)
SELECT sys_imp_date, department, SUM(pv) AS pv FROM t_1 WHERE sys_imp_date >= '2024-07-08' AND sys_imp_date <= '2024-08-06' GROUP BY sys_imp_date, department LIMIT 365
14:57:22 [http-nio-9080-exec-2] DEBUG c.t.s.h.c.t.DetailQueryOptimizer 36 - after handleNoMetric, sql:with t_1 as (SELECT `t3`.`sys_imp_date`, `t2`.`department`, `t3`.`s2_pv_uv_statis_pv` AS `pv`
FROM
(SELECT `user_name`, `department`
FROM
s2_user_department) AS `t2`
LEFT JOIN (SELECT 1 AS `s2_pv_uv_statis_pv`, `imp_date` AS `sys_imp_date`, `user_name`, `imp_date`
FROM
s2_pv_uv_statis) AS `t3` ON `t2`.`user_name` = `t3`.`user_name`)
SELECT sys_imp_date, department, SUM(pv) AS pv FROM t_1 WHERE sys_imp_date >= '2024-07-08' AND sys_imp_date <= '2024-08-06' GROUP BY sys_imp_date, department LIMIT 365
14:57:22 [http-nio-9080-exec-2] DEBUG c.t.s.h.s.utils.QueryReqConverter 173 - dataSetId:1,convert name to bizName before:SELECT sys_imp_date, SUM(pv) AS pv FROM 超音数数据集 WHERE sys_imp_date >= '2024-07-08' AND sys_imp_date <= '2024-08-06' GROUP BY sys_imp_date LIMIT 365
14:57:22 [http-nio-9080-exec-2] DEBUG c.t.s.h.s.utils.QueryReqConverter 175 - dataSetId:1,convert name to bizName after:SELECT sys_imp_date, SUM(pv) AS pv FROM 超音数数据集 WHERE sys_imp_date >= '2024-07-08' AND sys_imp_date <= '2024-08-06' GROUP BY sys_imp_date LIMIT 365
14:57:22 [http-nio-9080-exec-2] DEBUG c.t.s.h.s.utils.QueryReqConverter 243 - correctTableName after:SELECT sys_imp_date, SUM(pv) AS pv FROM t_1 WHERE sys_imp_date >= '2024-07-08' AND sys_imp_date <= '2024-08-06' GROUP BY sys_imp_date LIMIT 365
14:57:22 [http-nio-9080-exec-2] DEBUG c.t.s.h.s.utils.QueryReqConverter 79 - replaceOrderAggSameAlias SELECT sys_imp_date, SUM(pv) AS pv FROM t_1 WHERE sys_imp_date >= '2024-07-08' AND sys_imp_date <= '2024-08-06' GROUP BY sys_imp_date LIMIT 365 -> SELECT sys_imp_date, SUM(pv) AS pv FROM t_1 WHERE sys_imp_date >= '2024-07-08' AND sys_imp_date <= '2024-08-06' GROUP BY sys_imp_date LIMIT 365
14:57:22 [http-nio-9080-exec-2] DEBUG c.t.s.h.s.utils.QueryReqConverter 125 - QueryReqConverter queryStructReq[{"dataSetId":1"modelIds":[],"groups":[],"aggregators":[{"column":"pv","func":UNKNOWN,"nameCh":"null","args":null,"alias":null}],"orders":[],"dimensionFilters":[],"metricFilters":[],"params":[],"dateInfo":{"dateMode":BETWEEN,"startDate":"2024-08-06","endDate":"2024-07-08","dateList":[],"unit":1,"period":"DAY","text":"null"},"limit":2000,"cacheInfo":{"cache":true}}]
14:57:22 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:57:22 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@56a5d4b8] was not registered for synchronization because synchronization is not active
14:57:22 [http-nio-9080-exec-2] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:57:22 [http-nio-9080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@fb920f5] will not be managed by Spring
14:57:22 [http-nio-9080-exec-2] DEBUG c.t.s.h.s.p.m.D.selectById 135 - ==>  Preparing: SELECT id,name,description,version,type,created_at,created_by,updated_at,updated_by,admin,viewer,config FROM s2_database WHERE id=?
14:57:22 [http-nio-9080-exec-2] DEBUG c.t.s.h.s.p.m.D.selectById 135 - ==> Parameters: 1(Long)
14:57:22 [http-nio-9080-exec-2] DEBUG c.t.s.h.s.p.m.D.selectById 135 - <==      Total: 1
14:57:22 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@56a5d4b8]
14:57:22 [http-nio-9080-exec-2] DEBUG c.t.s.h.c.u.SysTimeDimensionBuilder 19 - addSysTimeDimension before:[Dim(name=部门, type=categorical, expr=null, dateFormat=yyyy-MM-dd, typeParams=null, isCreateDimension=1, bizName=department, description=null, isTag=0)], engineAdaptor:com.tencent.supersonic.headless.core.adaptor.db.MysqlAdaptor@486b5958
14:57:22 [http-nio-9080-exec-2] DEBUG c.t.s.h.c.u.SysTimeDimensionBuilder 19 - addSysTimeDimension before:[Dim(name=, type=time, expr=null, dateFormat=yyyy-MM-dd, typeParams=DimensionTimeTypeParams(isPrimary=true, timeGranularity=day), isCreateDimension=0, bizName=imp_date, description=null, isTag=0), Dim(name=, type=categorical, expr=page, dateFormat=yyyy-MM-dd, typeParams=null, isCreateDimension=0, bizName=page, description=null, isTag=0), Dim(name=null, type=time, expr=imp_date, dateFormat=yyyy-MM-dd, typeParams=DimensionTimeTypeParams(isPrimary=true, timeGranularity=day), isCreateDimension=0, bizName=sys_imp_date, description=null, isTag=0), Dim(name=null, type=time, expr=DATE_FORMAT(DATE_SUB(imp_date, INTERVAL (DAYOFWEEK(imp_date) - 2) DAY), '%Y-%m-%d'), dateFormat=yyyy-MM-dd, typeParams=DimensionTimeTypeParams(isPrimary=false, timeGranularity=week), isCreateDimension=0, bizName=sys_imp_week, description=null, isTag=0), Dim(name=null, type=time, expr=DATE_FORMAT(imp_date, '%Y-%m') , dateFormat=yyyy-MM-dd, typeParams=DimensionTimeTypeParams(isPrimary=false, timeGranularity=month), isCreateDimension=0, bizName=sys_imp_month, description=null, isTag=0), Dim(name=null, type=time, expr=imp_date, dateFormat=yyyy-MM-dd, typeParams=DimensionTimeTypeParams(isPrimary=true, timeGranularity=day), isCreateDimension=0, bizName=sys_imp_date, description=null, isTag=0), Dim(name=null, type=time, expr=DATE_FORMAT(DATE_SUB(imp_date, INTERVAL (DAYOFWEEK(imp_date) - 2) DAY), '%Y-%m-%d'), dateFormat=yyyy-MM-dd, typeParams=DimensionTimeTypeParams(isPrimary=false, timeGranularity=week), isCreateDimension=0, bizName=sys_imp_week, description=null, isTag=0), Dim(name=null, type=time, expr=DATE_FORMAT(imp_date, '%Y-%m') , dateFormat=yyyy-MM-dd, typeParams=DimensionTimeTypeParams(isPrimary=false, timeGranularity=month), isCreateDimension=0, bizName=sys_imp_month, description=null, isTag=0)], engineAdaptor:com.tencent.supersonic.headless.core.adaptor.db.MysqlAdaptor@486b5958
14:57:22 [http-nio-9080-exec-2] DEBUG c.t.s.h.c.u.SysTimeDimensionBuilder 29 - addSysTimeDimension after:[Dim(name=, type=time, expr=null, dateFormat=yyyy-MM-dd, typeParams=DimensionTimeTypeParams(isPrimary=true, timeGranularity=day), isCreateDimension=0, bizName=imp_date, description=null, isTag=0), Dim(name=, type=categorical, expr=page, dateFormat=yyyy-MM-dd, typeParams=null, isCreateDimension=0, bizName=page, description=null, isTag=0), Dim(name=null, type=time, expr=imp_date, dateFormat=yyyy-MM-dd, typeParams=DimensionTimeTypeParams(isPrimary=true, timeGranularity=day), isCreateDimension=0, bizName=sys_imp_date, description=null, isTag=0), Dim(name=null, type=time, expr=DATE_FORMAT(DATE_SUB(imp_date, INTERVAL (DAYOFWEEK(imp_date) - 2) DAY), '%Y-%m-%d'), dateFormat=yyyy-MM-dd, typeParams=DimensionTimeTypeParams(isPrimary=false, timeGranularity=week), isCreateDimension=0, bizName=sys_imp_week, description=null, isTag=0), Dim(name=null, type=time, expr=DATE_FORMAT(imp_date, '%Y-%m') , dateFormat=yyyy-MM-dd, typeParams=DimensionTimeTypeParams(isPrimary=false, timeGranularity=month), isCreateDimension=0, bizName=sys_imp_month, description=null, isTag=0), Dim(name=null, type=time, expr=imp_date, dateFormat=yyyy-MM-dd, typeParams=DimensionTimeTypeParams(isPrimary=true, timeGranularity=day), isCreateDimension=0, bizName=sys_imp_date, description=null, isTag=0), Dim(name=null, type=time, expr=DATE_FORMAT(DATE_SUB(imp_date, INTERVAL (DAYOFWEEK(imp_date) - 2) DAY), '%Y-%m-%d'), dateFormat=yyyy-MM-dd, typeParams=DimensionTimeTypeParams(isPrimary=false, timeGranularity=week), isCreateDimension=0, bizName=sys_imp_week, description=null, isTag=0), Dim(name=null, type=time, expr=DATE_FORMAT(imp_date, '%Y-%m') , dateFormat=yyyy-MM-dd, typeParams=DimensionTimeTypeParams(isPrimary=false, timeGranularity=month), isCreateDimension=0, bizName=sys_imp_month, description=null, isTag=0), Dim(name=null, type=time, expr=imp_date, dateFormat=yyyy-MM-dd, typeParams=DimensionTimeTypeParams(isPrimary=true, timeGranularity=day), isCreateDimension=0, bizName=sys_imp_date, description=null, isTag=0), Dim(name=null, type=time, expr=DATE_FORMAT(DATE_SUB(imp_date, INTERVAL (DAYOFWEEK(imp_date) - 2) DAY), '%Y-%m-%d'), dateFormat=yyyy-MM-dd, typeParams=DimensionTimeTypeParams(isPrimary=false, timeGranularity=week), isCreateDimension=0, bizName=sys_imp_week, description=null, isTag=0), Dim(name=null, type=time, expr=DATE_FORMAT(imp_date, '%Y-%m') , dateFormat=yyyy-MM-dd, typeParams=DimensionTimeTypeParams(isPrimary=false, timeGranularity=month), isCreateDimension=0, bizName=sys_imp_month, description=null, isTag=0)], engineAdaptor:com.tencent.supersonic.headless.core.adaptor.db.MysqlAdaptor@486b5958
14:57:22 [http-nio-9080-exec-2] DEBUG c.t.s.h.c.u.SysTimeDimensionBuilder 19 - addSysTimeDimension before:[Dim(name=, type=time, expr=null, dateFormat=yyyy-MM-dd, typeParams=DimensionTimeTypeParams(isPrimary=true, timeGranularity=day), isCreateDimension=0, bizName=imp_date, description=null, isTag=0), Dim(name=页面, type=categorical, expr=page, dateFormat=yyyy-MM-dd, typeParams=null, isCreateDimension=1, bizName=page, description=null, isTag=0), Dim(name=null, type=time, expr=imp_date, dateFormat=yyyy-MM-dd, typeParams=DimensionTimeTypeParams(isPrimary=true, timeGranularity=day), isCreateDimension=0, bizName=sys_imp_date, description=null, isTag=0), Dim(name=null, type=time, expr=DATE_FORMAT(DATE_SUB(imp_date, INTERVAL (DAYOFWEEK(imp_date) - 2) DAY), '%Y-%m-%d'), dateFormat=yyyy-MM-dd, typeParams=DimensionTimeTypeParams(isPrimary=false, timeGranularity=week), isCreateDimension=0, bizName=sys_imp_week, description=null, isTag=0), Dim(name=null, type=time, expr=DATE_FORMAT(imp_date, '%Y-%m') , dateFormat=yyyy-MM-dd, typeParams=DimensionTimeTypeParams(isPrimary=false, timeGranularity=month), isCreateDimension=0, bizName=sys_imp_month, description=null, isTag=0), Dim(name=null, type=time, expr=imp_date, dateFormat=yyyy-MM-dd, typeParams=DimensionTimeTypeParams(isPrimary=true, timeGranularity=day), isCreateDimension=0, bizName=sys_imp_date, description=null, isTag=0), Dim(name=null, type=time, expr=DATE_FORMAT(DATE_SUB(imp_date, INTERVAL (DAYOFWEEK(imp_date) - 2) DAY), '%Y-%m-%d'), dateFormat=yyyy-MM-dd, typeParams=DimensionTimeTypeParams(isPrimary=false, timeGranularity=week), isCreateDimension=0, bizName=sys_imp_week, description=null, isTag=0), Dim(name=null, type=time, expr=DATE_FORMAT(imp_date, '%Y-%m') , dateFormat=yyyy-MM-dd, typeParams=DimensionTimeTypeParams(isPrimary=false, timeGranularity=month), isCreateDimension=0, bizName=sys_imp_month, description=null, isTag=0)], engineAdaptor:com.tencent.supersonic.headless.core.adaptor.db.MysqlAdaptor@486b5958
14:57:22 [http-nio-9080-exec-2] DEBUG c.t.s.h.c.u.SysTimeDimensionBuilder 29 - addSysTimeDimension after:[Dim(name=, type=time, expr=null, dateFormat=yyyy-MM-dd, typeParams=DimensionTimeTypeParams(isPrimary=true, timeGranularity=day), isCreateDimension=0, bizName=imp_date, description=null, isTag=0), Dim(name=页面, type=categorical, expr=page, dateFormat=yyyy-MM-dd, typeParams=null, isCreateDimension=1, bizName=page, description=null, isTag=0), Dim(name=null, type=time, expr=imp_date, dateFormat=yyyy-MM-dd, typeParams=DimensionTimeTypeParams(isPrimary=true, timeGranularity=day), isCreateDimension=0, bizName=sys_imp_date, description=null, isTag=0), Dim(name=null, type=time, expr=DATE_FORMAT(DATE_SUB(imp_date, INTERVAL (DAYOFWEEK(imp_date) - 2) DAY), '%Y-%m-%d'), dateFormat=yyyy-MM-dd, typeParams=DimensionTimeTypeParams(isPrimary=false, timeGranularity=week), isCreateDimension=0, bizName=sys_imp_week, description=null, isTag=0), Dim(name=null, type=time, expr=DATE_FORMAT(imp_date, '%Y-%m') , dateFormat=yyyy-MM-dd, typeParams=DimensionTimeTypeParams(isPrimary=false, timeGranularity=month), isCreateDimension=0, bizName=sys_imp_month, description=null, isTag=0), Dim(name=null, type=time, expr=imp_date, dateFormat=yyyy-MM-dd, typeParams=DimensionTimeTypeParams(isPrimary=true, timeGranularity=day), isCreateDimension=0, bizName=sys_imp_date, description=null, isTag=0), Dim(name=null, type=time, expr=DATE_FORMAT(DATE_SUB(imp_date, INTERVAL (DAYOFWEEK(imp_date) - 2) DAY), '%Y-%m-%d'), dateFormat=yyyy-MM-dd, typeParams=DimensionTimeTypeParams(isPrimary=false, timeGranularity=week), isCreateDimension=0, bizName=sys_imp_week, description=null, isTag=0), Dim(name=null, type=time, expr=DATE_FORMAT(imp_date, '%Y-%m') , dateFormat=yyyy-MM-dd, typeParams=DimensionTimeTypeParams(isPrimary=false, timeGranularity=month), isCreateDimension=0, bizName=sys_imp_month, description=null, isTag=0), Dim(name=null, type=time, expr=imp_date, dateFormat=yyyy-MM-dd, typeParams=DimensionTimeTypeParams(isPrimary=true, timeGranularity=day), isCreateDimension=0, bizName=sys_imp_date, description=null, isTag=0), Dim(name=null, type=time, expr=DATE_FORMAT(DATE_SUB(imp_date, INTERVAL (DAYOFWEEK(imp_date) - 2) DAY), '%Y-%m-%d'), dateFormat=yyyy-MM-dd, typeParams=DimensionTimeTypeParams(isPrimary=false, timeGranularity=week), isCreateDimension=0, bizName=sys_imp_week, description=null, isTag=0), Dim(name=null, type=time, expr=DATE_FORMAT(imp_date, '%Y-%m') , dateFormat=yyyy-MM-dd, typeParams=DimensionTimeTypeParams(isPrimary=false, timeGranularity=month), isCreateDimension=0, bizName=sys_imp_month, description=null, isTag=0)], engineAdaptor:com.tencent.supersonic.headless.core.adaptor.db.MysqlAdaptor@486b5958
14:57:22 [http-nio-9080-exec-2] DEBUG c.t.s.h.c.t.DefaultSemanticTranslator 51 - SemanticConverter before [QueryParam(groups=[], aggregators=[{"column":"pv","func":UNKNOWN,"nameCh":"null","args":null,"alias":null}], orders=[], dimensionFilters=[], metricFilters=[], dateInfo={"dateMode":BETWEEN,"startDate":"2024-08-06","endDate":"2024-07-08","dateList":[],"unit":1,"period":"DAY","text":"null"}, limit=2000, queryType=DETAIL, s2SQL=null, correctS2SQL=null, dataSetId=1, dataSetName=null, modelIds=[], params=[], metrics=[pv], dimensions=null, where=null, order=null, nativeQuery=false)]
14:57:22 [http-nio-9080-exec-2] DEBUG c.t.s.h.c.t.DefaultSemanticTranslator 54 - SemanticConverter accept [com.tencent.supersonic.headless.core.translator.converter.DefaultDimValueConverter]
14:57:22 [http-nio-9080-exec-2] DEBUG c.t.s.h.c.t.DefaultSemanticTranslator 54 - SemanticConverter accept [com.tencent.supersonic.headless.core.translator.converter.SqlVariableParseConverter]
14:57:22 [http-nio-9080-exec-2] DEBUG c.t.s.h.c.t.DefaultSemanticTranslator 58 - SemanticConverter after QueryParam(groups=[], aggregators=[{"column":"pv","func":UNKNOWN,"nameCh":"null","args":null,"alias":null}], orders=[], dimensionFilters=[], metricFilters=[], dateInfo={"dateMode":BETWEEN,"startDate":"2024-08-06","endDate":"2024-07-08","dateList":[],"unit":1,"period":"DAY","text":"null"}, limit=2000, queryType=DETAIL, s2SQL=null, correctS2SQL=null, dataSetId=1, dataSetName=null, modelIds=[], params=[], metrics=[pv], dimensions=null, where=null, order=null, nativeQuery=false) DataSetQueryParam(sql=SELECT sys_imp_date, SUM(pv) AS pv FROM t_1 WHERE sys_imp_date >= '2024-07-08' AND sys_imp_date <= '2024-08-06' GROUP BY sys_imp_date LIMIT 365, tables=[MetricTable(alias=t_1, metrics=[pv], dimensions=[sys_imp_date], where=null, aggOption=OUTER)], supportWith=true, withAlias=true) MetricQueryParam(metrics=null, dimensions=null, where=null, limit=null, order=null, nativeQuery=false)
14:57:22 [http-nio-9080-exec-2] INFO  c.t.s.h.c.t.DefaultSemanticTranslator 78 - parse dataSetQuery [DataSetQueryParam(sql=SELECT sys_imp_date, SUM(pv) AS pv FROM t_1 WHERE sys_imp_date >= '2024-07-08' AND sys_imp_date <= '2024-08-06' GROUP BY sys_imp_date LIMIT 365, tables=[MetricTable(alias=t_1, metrics=[pv], dimensions=[sys_imp_date], where=null, aggOption=OUTER)], supportWith=true, withAlias=true)] 
14:57:22 [http-nio-9080-exec-2] INFO  c.t.s.h.c.t.DefaultSemanticTranslator 125 - parse metricQuery [MetricQueryParam(metrics=[pv], dimensions=[sys_imp_date], where=null, limit=null, order=null, nativeQuery=true)] isAgg [OUTER]
14:57:22 [http-nio-9080-exec-2] INFO  c.t.s.h.c.t.c.s.node.DataSourceNode 204 - dataSourceMeasures [{user_department=0, s2_pv_uv_statis=1, s2_stay_time_statis=0}]
14:57:22 [http-nio-9080-exec-2] DEBUG c.t.s.h.c.t.c.s.node.DataSourceNode 229 - baseDataSource  match all 
14:57:22 [http-nio-9080-exec-2] DEBUG org.apache.calcite.sql.parser 890 - Reduced DAYOFWEEK(`imp_date`) - 2
14:57:22 [http-nio-9080-exec-2] DEBUG org.apache.calcite.sql.parser 890 - Reduced DAYOFWEEK(`imp_date`) - 2
14:57:22 [http-nio-9080-exec-2] DEBUG org.apache.calcite.sql.parser 890 - Reduced DAYOFWEEK(`imp_date`) - 2

```

### 关键节点分析

1. **Reduced DAYOFWEEK(`imp_date`) - 2**
    - **时间**: 14:57:22
    - **日志**:
        
        ```scss
        DEBUG org.apache.calcite.sql.parser 890 - Reduced DAYOFWEEK(`imp_date`) - 2
        ```
        
    - **分析**: 这条日志表明系统正在解析和简化SQL表达式，将`DAYOFWEEK(imp_date) - 2`简化处理。这个步骤是SQL解析和优化的一部分，目的是生成更高效的执行计划。
2. **tableView 生成视图**
    - **时间**: 14:57:22
    - **日志**:
        
        ```go
        INFO  c.t.s.h.c.t.c.sql.render.JoinRender 110 - tableView (SELECT `pv` AS `s2_pv_uv_statis_pv`, `imp_date` AS `sys_imp_date`, `user_name`, `imp_date` AS `imp_date` FROM (SELECT `imp_date`, `user_name`, `page`, 1 AS `pv`, `user_name` AS `user_id` FROM `s2_pv_uv_statis`) AS `s2_pv_uv_statis`) AS `src00_s2_pv_uv_statis_d230`
        ```
        
    - **分析**: 日志显示系统生成了一个视图`tableView`，用于后续的SQL查询操作。这一步是为了简化复杂查询，将多个表的查询结果临时存储在一个视图中，便于后续的处理和优化。
3. **Plan after converting SqlNode to RelNode**
    - **时间**: 14:57:22
    - **日志**:
        
        ```css
        DEBUG org.apache.calcite.sql2rel 628 - Plan after converting SqlNode to RelNode
        LogicalProject(sys_imp_date=[$3], department=[$1], pv=[$2])
          LogicalJoin(condition=[=($0, $4)], joinType=[left])
            LogicalProject(user_name=[$0], department=[$1])
              LogicalTableScan(table=[[s2_user_department]])
            LogicalProject(s2_pv_uv_statis_pv=[1], sys_imp_date=[$4], user_name=[$2], imp_date=[$4])
              LogicalTableScan(table=[[s2_pv_uv_statis]])
        ```
        
    - **分析**: 这是将SQL节点转换为关系节点（RelNode）后的执行计划，显示了逻辑投影、连接和表扫描的操作。这一步骤是查询优化的重要部分，通过生成关系代数表达式来描述查询的执行流程。
4. **RelNode optimize**
    - **时间**: 14:57:22
    - **日志**:
        
        ```go
        DEBUG c.t.s.h.c.t.c.sql.node.SemanticNode 423 - RelNode optimize SELECT `t0`.`sys_imp_date`, `t`.`department`, `t0`.`s2_pv_uv_statis_pv` AS `pv`
        FROM
        (SELECT `user_name`, `department`
        FROM
        s2_user_department) AS `t`
        LEFT JOIN (SELECT 1 AS `s2_pv_uv_statis_pv`, `imp_date` AS `sys_imp_date`, `user_name`, `imp_date`
        FROM
        s2_pv_uv_statis) AS `t0` ON `t`.`user_name` = `t0`.`user_name`
        ```
        
    - **分析**: 日志显示系统正在优化关系节点（RelNode），生成优化后的SQL查询。这一步是为了提高查询的执行效率，生成最优的执行计划。
5. **Rule Attempts Info for HepPlanner**
    - **时间**: 14:57:22
    - **日志**:
        
        ```mathematica
        DEBUG o.a.c.p.A.rule_execution_summary 300 - Rule Attempts Info for HepPlanner
        ```
        
    - **分析**: 这是执行计划优化器尝试应用规则的日志，显示了优化器尝试应用的规则和执行时间。这一步是查询优化的核心，通过应用一系列规则来简化和优化查询计划。
6. **parse dataSetQuery**
    - **时间**: 14:57:22
    - **日志**:
        
        ```sql
        INFO  c.t.s.h.c.t.DefaultSemanticTranslator 78 - parse dataSetQuery [DataSetQueryParam(sql=SELECT sys_imp_date, SUM(pv) AS pv FROM t_1 WHERE sys_imp_date >= '2024-07-08' AND sys_imp_date <= '2024-08-06' GROUP BY sys_imp_date LIMIT 365)]
        ```
        
    - **分析**: 日志显示系统解析了数据集查询，生成了最终的SQL查询语句。这一步是将用户的查询请求转换为具体的SQL查询，以便在数据库中执行。
7. **创建新的 SqlSession**
    - **时间**: 14:57:22
    - **日志**:
        
        ```arduino
        DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
        ```
        
    - **分析**: 系统创建了一个新的SqlSession，用于执行接下来的数据库操作。这一步是为了管理和执行SQL查询。
8. **Fetching JDBC Connection from DataSource**
    - **时间**: 14:57:22
    - **日志**:
        
        ```csharp
        DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
        ```
        
    - **分析**: 系统从数据源获取JDBC连接，准备执行数据库查询。这是数据库访问的开始步骤。
9. **Preparing SQL查询**
    - **时间**: 14:57:22
    - **日志**:
        
        ```mathematica
        DEBUG c.t.s.h.s.p.m.D.selectById 135 - ==>  Preparing: SELECT id,name,description,version,type,created_at,created_by,updated_at,updated_by,admin,viewer,config FROM s2_database WHERE id=?
        DEBUG c.t.s.h.s.p.m.D.selectById 135 - ==> Parameters: 1(Long)
        DEBUG c.t.s.h.s.p.m.D.selectById 135 - <==      Total: 1
        ```
        
    - **分析**: 系统正在准备并执行一个SQL查询，获取数据库中的数据。日志显示了准备的SQL语句和参数，并记录了查询的结果。

### 总结

这段日志详细记录了一个复杂查询的处理过程，从解析和简化SQL表达式、生成和优化查询计划、获取JDBC连接并执行查询，一直到最终获取结果。通过这些关键步骤，系统能够高效地处理用户的查询请求，并生成最优的执行计划以提高查询性能。

## 3. 第三部分

```
14:57:22 [http-nio-9080-exec-2] DEBUG org.apache.calcite.sql2rel 628 - Plan after converting SqlNode to RelNode
LogicalProject(sys_imp_date=[$4], pv=[1])
  LogicalTableScan(table=[[s2_pv_uv_statis]])

14:57:22 [http-nio-9080-exec-2] DEBUG c.t.s.h.c.t.c.sql.node.SemanticNode 423 - RelNode optimize SELECT `imp_date` AS `sys_imp_date`, 1 AS `pv`
FROM
s2_pv_uv_statis
14:57:22 [http-nio-9080-exec-2] DEBUG o.a.c.p.A.rule_execution_summary 300 - Rule Attempts Info for HepPlanner
14:57:22 [http-nio-9080-exec-2] DEBUG o.a.c.p.A.rule_execution_summary 301 - 
Rules                                                                   Attempts           Time (us)
* Total                                                                        0                   0

14:57:22 [http-nio-9080-exec-2] DEBUG o.apache.calcite.plan.RelOptPlanner 380 - For final plan, using rel#143:LogicalProject.(input=HepRelVertex#142,exprs=[$4, 1])
14:57:22 [http-nio-9080-exec-2] DEBUG o.apache.calcite.plan.RelOptPlanner 380 - For final plan, using rel#134:LogicalTableScan.(table=[s2_pv_uv_statis])
14:57:22 [http-nio-9080-exec-2] DEBUG org.apache.calcite.sql.parser 890 - Reduced `sys_imp_date` >= '2024-07-08' AND `sys_imp_date` <= '2024-08-06'
14:57:22 [http-nio-9080-exec-2] DEBUG org.apache.calcite.sql2rel 628 - Plan after converting SqlNode to RelNode
LogicalSort(fetch=[365])
  LogicalAggregate(group=[{0}], pv=[SUM($1)])
    LogicalFilter(condition=[AND(>=($0, _UTF-8'2024-07-08'), <=($0, _UTF-8'2024-08-06'))])
      LogicalProject(sys_imp_date=[$4], pv=[1])
        LogicalTableScan(table=[[s2_pv_uv_statis]])

14:57:22 [http-nio-9080-exec-2] DEBUG org.apache.calcite.sql2rel 628 - Plan after converting SqlNode to RelNode
LogicalSort(fetch=[365])
  LogicalAggregate(group=[{0}], pv=[SUM($1)])
    LogicalFilter(condition=[AND(>=($0, _UTF-8'2024-07-08'), <=($0, _UTF-8'2024-08-06'))])
      LogicalProject(sys_imp_date=[$4], pv=[1])
        LogicalTableScan(table=[[s2_pv_uv_statis]])

14:57:22 [http-nio-9080-exec-2] DEBUG c.t.s.h.c.t.c.sql.node.SemanticNode 423 - RelNode optimize SELECT `sys_imp_date`, SUM(`pv`) AS `pv`
FROM
(SELECT `imp_date` AS `sys_imp_date`, 1 AS `pv`
FROM
s2_pv_uv_statis) AS `t`
WHERE `sys_imp_date` >= '2024-07-08' AND `sys_imp_date` <= '2024-08-06'
GROUP BY `sys_imp_date`
LIMIT 365
14:57:22 [http-nio-9080-exec-2] DEBUG o.a.c.p.A.rule_execution_summary 300 - Rule Attempts Info for HepPlanner
14:57:22 [http-nio-9080-exec-2] DEBUG o.a.c.p.A.rule_execution_summary 301 - 
Rules                                                                   Attempts           Time (us)
* Total                                                                        0                   0

14:57:22 [http-nio-9080-exec-2] DEBUG o.apache.calcite.plan.RelOptPlanner 380 - For final plan, using rel#168:LogicalSort.(input=HepRelVertex#167,fetch=365)
14:57:22 [http-nio-9080-exec-2] DEBUG o.apache.calcite.plan.RelOptPlanner 380 - For final plan, using rel#166:LogicalAggregate.(input=HepRelVertex#165,group={0},pv=SUM($1))
14:57:22 [http-nio-9080-exec-2] DEBUG o.apache.calcite.plan.RelOptPlanner 380 - For final plan, using rel#164:LogicalFilter.(input=HepRelVertex#163,condition=AND(>=($0, _UTF-8'2024-07-08'), <=($0, _UTF-8'2024-08-06')))
14:57:22 [http-nio-9080-exec-2] DEBUG o.apache.calcite.plan.RelOptPlanner 380 - For final plan, using rel#162:LogicalProject.(input=HepRelVertex#161,exprs=[$4, 1])
14:57:22 [http-nio-9080-exec-2] DEBUG o.apache.calcite.plan.RelOptPlanner 380 - For final plan, using rel#147:LogicalTableScan.(table=[s2_pv_uv_statis])
14:57:22 [http-nio-9080-exec-2] DEBUG c.t.s.h.c.t.c.CalciteQueryParser 46 - simplifySql [SELECT `sys_imp_date`, SUM(`pv`) AS `pv`
FROM
(SELECT `imp_date` AS `sys_imp_date`, 1 AS `pv`
FROM
s2_pv_uv_statis) AS `t3`
WHERE `sys_imp_date` >= '2024-07-08' AND `sys_imp_date` <= '2024-08-06'
GROUP BY `sys_imp_date`
LIMIT 365]
14:57:22 [http-nio-9080-exec-2] DEBUG c.t.s.h.c.t.DetailQueryOptimizer 27 - before handleNoMetric, sql:with t_1 as (SELECT `imp_date` AS `sys_imp_date`, 1 AS `pv`
FROM
s2_pv_uv_statis)
SELECT sys_imp_date, SUM(pv) AS pv FROM t_1 WHERE sys_imp_date >= '2024-07-08' AND sys_imp_date <= '2024-08-06' GROUP BY sys_imp_date LIMIT 365
14:57:22 [http-nio-9080-exec-2] DEBUG c.t.s.h.c.t.DetailQueryOptimizer 36 - after handleNoMetric, sql:with t_1 as (SELECT `imp_date` AS `sys_imp_date`, 1 AS `pv`
FROM
s2_pv_uv_statis)
SELECT sys_imp_date, SUM(pv) AS pv FROM t_1 WHERE sys_imp_date >= '2024-07-08' AND sys_imp_date <= '2024-08-06' GROUP BY sys_imp_date LIMIT 365
14:57:22 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:57:22 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3b3496fd] was not registered for synchronization because synchronization is not active
14:57:22 [http-nio-9080-exec-2] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:57:22 [http-nio-9080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@fb920f5] will not be managed by Spring
14:57:22 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==>  Preparing: SELECT id,parameters,admin FROM s2_system_config
14:57:22 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - ==> Parameters: 
14:57:22 [http-nio-9080-exec-2] DEBUG c.t.s.c.p.m.S.selectList 135 - <==      Total: 1
14:57:22 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3b3496fd]
14:57:22 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:57:22 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@c7d5ad9] was not registered for synchronization because synchronization is not active
14:57:22 [ForkJoinPool.commonPool-worker-20] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:57:22 [ForkJoinPool.commonPool-worker-20] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1f1cb361] was not registered for synchronization because synchronization is not active
14:57:22 [ForkJoinPool.commonPool-worker-20] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:57:22 [ForkJoinPool.commonPool-worker-20] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@fb920f5] will not be managed by Spring
14:57:22 [ForkJoinPool.commonPool-worker-20] DEBUG c.t.s.c.s.p.m.C.selectById 135 - ==>  Preparing: SELECT question_id,agent_id,create_time,user_name,query_state,chat_id,score,feedback,query_text,query_result,similar_queries,parse_time_cost FROM s2_chat_query WHERE question_id=?
14:57:22 [http-nio-9080-exec-2] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:57:22 [ForkJoinPool.commonPool-worker-20] DEBUG c.t.s.c.s.p.m.C.selectById 135 - ==> Parameters: 81(Long)
14:57:22 [http-nio-9080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@12aee9e4] will not be managed by Spring
14:57:22 [http-nio-9080-exec-2] DEBUG c.t.s.c.s.p.m.C.batchSaveParseInfo 135 - ==>  Preparing: insert into s2_chat_parse (question_id, chat_id, parse_id, create_time, query_text, user_name, parse_info,is_candidate) values (?, ?, ?, ?, ?, ?, ?, ?) , (?, ?, ?, ?, ?, ?, ?, ?) , (?, ?, ?, ?, ?, ?, ?, ?)
14:57:22 [ForkJoinPool.commonPool-worker-20] DEBUG c.t.s.c.s.p.m.C.selectById 135 - <==      Total: 1
14:57:22 [ForkJoinPool.commonPool-worker-20] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1f1cb361]
14:57:22 [ForkJoinPool.commonPool-worker-20] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:57:22 [ForkJoinPool.commonPool-worker-20] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6f35a1c8] was not registered for synchronization because synchronization is not active
14:57:22 [http-nio-9080-exec-2] DEBUG c.t.s.c.s.p.m.C.batchSaveParseInfo 135 - ==> Parameters: 81(Long), 1(Long), 1(Integer), 2024-08-07 14:57:22.298(Timestamp), 超音速对比所有人访问次数(String), admin(String), {"id":1,"queryMode":"LLM_S2SQL","dataSet":{"dataSet":1,"dataSetName":"超音数数据集","id":1,"name":"超音数数据集","bizName":"s2","type":"DATASET","order":0.0,"isTag":0},"metrics":[{"dataSet":1,"dataSetName":"超音数数据集","model":2,"id":1,"name":"访问次数","bizName":"pv","useCnt":0,"type":"METRIC","alias":[],"relatedSchemaElements":[{"dimensionId":1,"necessary":false},{"dimensionId":2,"necessary":false}],"defaultAgg":"SUM","order":0.0,"isTag":0,"description":"一段时间内用户的访问次数"}],"dimensions":[],"aggType":"NONE","filterType":"AND","dimensionFilters":[],"metricFilters":[],"orders":[],"dateInfo":{"dateMode":"BETWEEN","startDate":"2024-07-31","endDate":"2024-08-06","dateList":["2024-07-31","2024-08-01","2024-08-02","2024-08-03","2024-08-04","2024-08-05","2024-08-06"],"unit":1,"period":"DAY","groupByDate":false,"inherited":false,"groupByTimeDimension":"sys_imp_date"},"score":24.0,"elementMatches":[{"element":{"dataSet":1,"dataSetName":"超音数数据集","model":2,"id":1,"name":"访问次数","bizName":"pv","useCnt":0,"type":"METRIC","alias":[],"relatedSchemaElements":[{"dimensionId":1,"necessary":false},{"dimensionId":2,"necessary":false}],"defaultAgg":"SUM","order":0.0,"isTag":0,"description":"一段时间内用户的访问次数"},"similarity":1.0,"detectWord":"访问次数","word":"访问次数","frequency":100000,"inherited":false},{"element":{"dataSet":1,"dataSetName":"超音数数据集","model":2,"id":4,"name":"人均访问次数","bizName":"pv_avg","useCnt":0,"type":"METRIC","alias":["平均访问次数"],"relatedSchemaElements":[{"dimensionId":1,"necessary":false}],"defaultAgg":"","order":0.002841870251016343,"isTag":0,"description":"每个用户平均访问的次数"},"similarity":0.9971581297489837,"detectWord":"人访问次数","word":"人均访问次数","frequency":100000,"inherited":false},{"element":{"dataSet":1,"dataSetName":"超音数数据集","model":2,"id":3,"name":"访问用户数","bizName":"uv","useCnt":0,"type":"METRIC","alias":["UV","访问人数"],"relatedSchemaElements":[{"dimensionId":1,"necessary":false}],"defaultAgg":"count","order":0.004658766300494777,"isTag":0,"description":"访问的用户个数"},"similarity":0.9953412336995052,"detectWord":"访问次数","word":"访问用户数","frequency":100000,"inherited":false},{"element":{"dataSet":1,"dataSetName":"超音数数据集","model":1,"id":1,"name":"部门","bizName":"department","useCnt":0,"type":"DIMENSION","alias":[],"schemaValueMaps":[],"order":0.0,"isTag":1,"description":""},"similarity":1.0,"detectWord":"部门","word":"部门","frequency":100000,"inherited":true}],"properties":{"type":"internal","CONTEXT":{"dataSetId":1,"llmReq":{"queryText":"超音速对比所有人访问次数","filterCondition":{},"schema":{"domainName":"超音数数据集","dataSetName":"超音数数据集","dataSetId":1,"fieldNameList":["访问用户数","用户","部门","访问次数","人均访问次数","停留时长","页面","数据日期"],"metrics":[{"dataSet":1,"dataSetName":"超音数数据集","model":2,"id":1,"name":"访问次数","bizName":"pv","useCnt":0,"type":"METRIC","alias":[],"relatedSchemaElements":[{"dimensionId":1,"necessary":false},{"dimensionId":2,"necessary":false}],"defaultAgg":"SUM","order":0.0,"isTag":0,"description":"一段时间内用户的访问次数"},{"dataSet":1,"dataSetName":"超音数数据集","model":2,"id":4,"name":"人均访问次数","bizName":"pv_avg","useCnt":0,"type":"METRIC","alias":["平均访问次数"],"relatedSchemaElements":[{"dimensionId":1,"necessary":false}],"defaultAgg":"","order":0.002841870251016343,"isTag":0,"description":"每个用户平均访问的次数"},{"dataSet":1,"dataSetName":"超音数数据集","model":2,"id":3,"name":"访问用户数","bizName":"uv","useCnt":0,"type":"METRIC","alias":["UV","访问人数"],"relatedSchemaElements":[{"dimensionId":1,"necessary":false}],"defaultAgg":"count","order":0.004658766300494777,"isTag":0,"description":"访问的用户个数"}],"dimensions":[{"dataSet":1,"dataSetName":"超音数数据集","model":1,"id":1,"name":"部门","bizName":"department","useCnt":0,"type":"DIMENSION","alias":[],"schemaValueMaps":[],"order":0.0,"isTag":1,"description":""}],"terms":[]},"linking":[],"currentDate":"2024-08-07","priorExts":"","sqlGenType":"1_pass_self_consistency","llmConfig":{"provider":"OPEN_AI","baseUrl":"https://api.openai.com/v1","apiKey":"kGA4i6jY7QqG5xH+S0N++SzVWVKyAHesOq7NpoFVI7pgU14eb1AM296OFiLJTNtDVfpWDpfu7o4vDG2C2yWiSA==","modelName":"gpt-3.5-turbo","temperature":0.0,"timeOut":60},"exemplars":[]},"llmResp":{"query":"超音速对比所有人访问次数","modelName":"超音数数据集","dbSchema":"Table: 超音数数据集, Metrics: [访问次数 COMMENT '一段时间内用户的访问次数' AGGREGATE 'SUM',人均访问次数 COMMENT '每个用户平均访问的次数',访问用户数 COMMENT '访问的用户个数' AGGREGATE 'COUNT',], Dimensions: [部门,]","sqlOutput":"SELECT SUM(访问次数) FROM 超音数数据集","sqlRespMap":{"SELECT SUM(访问次数) FROM 超音数数据集":{"sqlWeight":1.0,"fewShots":[{"question":"今年以来发行的歌曲中，有哪些在近7天播放超过一千万的 (补充信息:。当前的日期是2023-08-12) ","dbSchema":"Table: 歌曲库, Columns = [\"发行日期\", \"歌曲语言\", \"歌曲来源\", \"歌曲流派\", \"歌曲名\", \"歌曲版本\", \"歌曲类型\", \"发行时间\", \"数据日期\"]","sql":"SELECT 歌曲名 FROM 歌曲库 WHERE datediff('year', 发行日期, '2023-08-12') <= 0 AND datediff('day', 数据日期, '2023-08-12') <= 7 AND 结算播放量 > 10000000"},{"question":"超音数近半年每个月的平均访问次数 (补充信息:。当前的日期是2023-09-04) ","dbSchema":"Table: 超音数产品, Columns = [\"用户名\", \"部门\", \"模块\", \"访问时长\", \"访问次数\", \"访问人数\", \"数据日期\"]","sql":"SELECT MONTH(数据日期), AVG(访问次数) FROM 超音数产品 WHERE datediff('year', 数据日期, '2023-09-04') <= 0.5 GROUP BY MONTH(数据日期)"},{"question":"我想要近半年签约的播放量前十的歌手有哪些 (补充信息:。当前的日期是2023-09-11) ","dbSchema":"Table: 艺人库, Columns = [\"播放量层级\", \"播放量单调性\", \"播放量方差\", \"播放量突增类型\", \"播放量集中度\", \"歌手名\", \"歌手等级\", \"歌手类型\", \"歌手来源\", \"签约日期\", \"MPPM潮流人等级\", \"结算播放量\", \"运营播放量\", \"历史累计结算播放量\", \"有播放量歌曲数\", \"历史累计运营播放量\", \"付费用户结算播放量\", \"结算播放量占比\", \"运营播放份额\", \"免费用户结算播放占比\", \"完播量\", \"数据日期\"]","sql":"SELECT 歌手名 FROM 艺人库 WHERE datediff('year', 签约日期, '2023-09-11') <= 0.5 ORDER BY 结算播放量 DESC LIMIT 10"},{"question":"播放量大于1万的歌曲有多少 (补充信息:。当前的日期是2023-07-31) ","dbSchema":"Table: 歌曲库, Columns = [\"歌曲名\", \"歌曲版本\", \"歌曲类型\", \"MPPM歌曲ID\", \"是否严选窄口径歌曲\", \"是否严选宽口径歌曲\", \"是否潮流人歌曲\", \"超声波歌曲ID\", \"C音歌曲ID\", \"C音歌曲MID\", \"结算播放量\", \"运营播放量\", \"分享量\", \"收藏量\", \"运营搜播量\", \"结算搜播量\", \"拉新用户数\", \"拉活用户数\", \"分享率\", \"结算播放份额\", \"数据日期\"]","sql":"SELECT 歌曲名 FROM 歌曲库 WHERE 结算播放量 > 10000"},{"question":"超音数访问次数大于1k的部门是哪些 (补充信息:。当前的日期是2023-09-14) ","dbSchema":"Table: 超音数产品, Columns = [\"部门\", \"模块\", \"用户名\", \"访问次数\", \"访问人数\", \"访问时长\", \"数据日期\"]","sql":"SELECT 部门 FROM 超音数产品 WHERE 访问次数 > 1000"}]}}},"linkingValues":[]}},"sqlInfo":{"s2SQL":"SELECT SUM(访问次数) FROM 超音数数据集","correctS2SQL":"SELECT SUM(访问次数) FROM 超音数数据集 WHERE (数据日期 >= '2024-07-31' AND 数据日期 <= '2024-08-06')","querySQL":"with t_1 as (SELECT `imp_date` AS `sys_imp_date`, SUM(1) AS `pv`\r\nFROM\r\ns2_pv_uv_statis\r\nGROUP BY `imp_date`, `imp_date`)\nSELECT SUM(pv) FROM t_1 WHERE (sys_imp_date >= '2024-07-31' AND sys_imp_date <= '2024-08-06') limit 1000","sourceId":"1"},"sqlEvaluation":{},"queryType":"METRIC","textInfo":"**数据集:** 超音数数据集 **指标:** 访问次数 \n\n**筛选条件:** \n**数据时间:** 2024-07-31~2024-08-06 ","dataSetId":1}(String), 0(Integer), 81(Long), 1(Long), 2(Integer), 2024-08-07 14:57:22.298(Timestamp), 超音速对比所有人访问次数(String), admin(String), {"id":2,"queryMode":"METRIC_GROUPBY","dataSet":{"dataSet":1,"dataSetName":"超音数数据集","id":1,"name":"超音数数据集","bizName":"s2","type":"DATASET","order":0.0,"isTag":0},"metrics":[{"dataSet":1,"dataSetName":"超音数数据集","model":2,"id":1,"name":"访问次数","bizName":"pv","useCnt":0,"type":"METRIC","alias":[],"relatedSchemaElements":[{"dimensionId":1,"necessary":false},{"dimensionId":2,"necessary":false}],"defaultAgg":"SUM","order":0.0,"isTag":0,"description":"一段时间内用户的访问次数"},{"dataSet":1,"dataSetName":"超音数数据集","model":2,"id":4,"name":"人均访问次数","bizName":"pv_avg","useCnt":0,"type":"METRIC","alias":["平均访问次数"],"relatedSchemaElements":[{"dimensionId":1,"necessary":false}],"defaultAgg":"","order":0.002841870251016343,"isTag":0,"description":"每个用户平均访问的次数"},{"dataSet":1,"dataSetName":"超音数数据集","model":2,"id":3,"name":"访问用户数","bizName":"uv","useCnt":0,"type":"METRIC","alias":["UV","访问人数"],"relatedSchemaElements":[{"dimensionId":1,"necessary":false}],"defaultAgg":"count","order":0.004658766300494777,"isTag":0,"description":"访问的用户个数"}],"dimensions":[{"bizName":"sys_imp_date","order":0.0,"isTag":0},{"dataSet":1,"dataSetName":"超音数数据集","model":1,"id":1,"name":"部门","bizName":"department","useCnt":0,"type":"DIMENSION","alias":[],"schemaValueMaps":[],"order":0.0,"isTag":1,"description":""}],"aggType":"NONE","filterType":"AND","dimensionFilters":[],"metricFilters":[],"orders":[],"dateInfo":{"dateMode":"RECENT","startDate":"2024-06-08","endDate":"2024-07-07","dateList":["2024-06-08","2024-06-09","2024-06-10","2024-06-11","2024-06-12","2024-06-13","2024-06-14","2024-06-15","2024-06-16","2024-06-17","2024-06-18","2024-06-19","2024-06-20","2024-06-21","2024-06-22","2024-06-23","2024-06-24","2024-06-25","2024-06-26","2024-06-27","2024-06-28","2024-06-29","2024-06-30","2024-07-01","2024-07-02","2024-07-03","2024-07-04","2024-07-05","2024-07-06","2024-07-07"],"unit":30,"period":"DAY","detectWord":"近30天","groupByDate":false,"inherited":true,"groupByTimeDimension":"sys_imp_date"},"limit":365,"score":6.0,"elementMatches":[{"element":{"dataSet":1,"dataSetName":"超音数数据集","model":2,"id":1,"name":"访问次数","bizName":"pv","useCnt":0,"type":"METRIC","alias":[],"relatedSchemaElements":[{"dimensionId":1,"necessary":false},{"dimensionId":2,"necessary":false}],"defaultAgg":"SUM","order":0.0,"isTag":0,"description":"一段时间内用户的访问次数"},"similarity":1.0,"detectWord":"访问次数","word":"访问次数","frequency":100000,"inherited":false},{"element":{"dataSet":1,"dataSetName":"超音数数据集","model":2,"id":4,"name":"人均访问次数","bizName":"pv_avg","useCnt":0,"type":"METRIC","alias":["平均访问次数"],"relatedSchemaElements":[{"dimensionId":1,"necessary":false}],"defaultAgg":"","order":0.002841870251016343,"isTag":0,"description":"每个用户平均访问的次数"},"similarity":0.9971581297489837,"detectWord":"人访问次数","word":"人均访问次数","frequency":100000,"inherited":false},{"element":{"dataSet":1,"dataSetName":"超音数数据集","model":2,"id":3,"name":"访问用户数","bizName":"uv","useCnt":0,"type":"METRIC","alias":["UV","访问人数"],"relatedSchemaElements":[{"dimensionId":1,"necessary":false}],"defaultAgg":"count","order":0.004658766300494777,"isTag":0,"description":"访问的用户个数"},"similarity":0.9953412336995052,"detectWord":"访问次数","word":"访问用户数","frequency":100000,"inherited":false},{"element":{"dataSet":1,"dataSetName":"超音数数据集","model":1,"id":1,"name":"部门","bizName":"department","useCnt":0,"type":"DIMENSION","alias":[],"schemaValueMaps":[],"order":0.0,"isTag":1,"description":""},"similarity":1.0,"detectWord":"部门","word":"部门","frequency":100000,"inherited":true}],"properties":{},"sqlInfo":{"s2SQL":"SELECT sys_imp_date, 部门, SUM(访问次数) AS 访问次数 FROM 超音数数据集 WHERE sys_imp_date >= '2024-07-08' AND sys_imp_date <= '2024-08-06' GROUP BY sys_imp_date, 部门 LIMIT 365","correctS2SQL":"SELECT sys_imp_date, 部门, SUM(访问次数) AS 访问次数 FROM 超音数数据集 WHERE sys_imp_date >= '2024-07-08' AND sys_imp_date <= '2024-08-06' GROUP BY sys_imp_date, 部门 LIMIT 365","querySQL":"with t_1 as (SELECT `t3`.`sys_imp_date`, `t2`.`department`, `t3`.`s2_pv_uv_statis_pv` AS `pv`\r\nFROM\r\n(SELECT `user_name`, `department`\r\nFROM\r\ns2_user_department) AS `t2`\r\nLEFT JOIN (SELECT 1 AS `s2_pv_uv_statis_pv`, `imp_date` AS `sys_imp_date`, `user_name`, `imp_date`\r\nFROM\r\ns2_pv_uv_statis) AS `t3` ON `t2`.`user_name` = `t3`.`user_name`)\nSELECT sys_imp_date, department, SUM(pv) AS pv FROM t_1 WHERE sys_imp_date >= '2024-07-08' AND sys_imp_date <= '2024-08-06' GROUP BY sys_imp_date, department LIMIT 365","sourceId":"1"},"sqlEvaluation":{},"queryType":"METRIC","textInfo":"**数据集:** 超音数数据集 **指标:** 访问次数 **维度:** 部门\n\n**筛选条件:** \n**数据时间:** 2024-06-08~2024-07-07 ","dataSetId":1}(String), 1(Integer), 81(Long), 1(Long), 3(Integer), 2024-08-07 14:57:22.298(Timestamp), 超音速对比所有人访问次数(String), admin(String), {"id":3,"queryMode":"METRIC_MODEL","dataSet":{"dataSet":1,"dataSetName":"超音数数据集","id":1,"name":"超音数数据集","bizName":"s2","type":"DATASET","order":0.0,"isTag":0},"metrics":[{"dataSet":1,"dataSetName":"超音数数据集","model":2,"id":1,"name":"访问次数","bizName":"pv","useCnt":0,"type":"METRIC","alias":[],"relatedSchemaElements":[{"dimensionId":1,"necessary":false},{"dimensionId":2,"necessary":false}],"defaultAgg":"SUM","order":0.0,"isTag":0,"description":"一段时间内用户的访问次数"},{"dataSet":1,"dataSetName":"超音数数据集","model":2,"id":4,"name":"人均访问次数","bizName":"pv_avg","useCnt":0,"type":"METRIC","alias":["平均访问次数"],"relatedSchemaElements":[{"dimensionId":1,"necessary":false}],"defaultAgg":"","order":0.002841870251016343,"isTag":0,"description":"每个用户平均访问的次数"},{"dataSet":1,"dataSetName":"超音数数据集","model":2,"id":3,"name":"访问用户数","bizName":"uv","useCnt":0,"type":"METRIC","alias":["UV","访问人数"],"relatedSchemaElements":[{"dimensionId":1,"necessary":false}],"defaultAgg":"count","order":0.004658766300494777,"isTag":0,"description":"访问的用户个数"}],"dimensions":[{"bizName":"sys_imp_date","order":0.0,"isTag":0}],"aggType":"NONE","filterType":"AND","dimensionFilters":[],"metricFilters":[],"orders":[],"dateInfo":{"dateMode":"RECENT","startDate":"2024-06-08","endDate":"2024-07-07","dateList":["2024-06-08","2024-06-09","2024-06-10","2024-06-11","2024-06-12","2024-06-13","2024-06-14","2024-06-15","2024-06-16","2024-06-17","2024-06-18","2024-06-19","2024-06-20","2024-06-21","2024-06-22","2024-06-23","2024-06-24","2024-06-25","2024-06-26","2024-06-27","2024-06-28","2024-06-29","2024-06-30","2024-07-01","2024-07-02","2024-07-03","2024-07-04","2024-07-05","2024-07-06","2024-07-07"],"unit":30,"period":"DAY","detectWord":"近30天","groupByDate":false,"inherited":true,"groupByTimeDimension":"sys_imp_date"},"limit":365,"score":4.0,"elementMatches":[{"element":{"dataSet":1,"dataSetName":"超音数数据集","model":2,"id":1,"name":"访问次数","bizName":"pv","useCnt":0,"type":"METRIC","alias":[],"relatedSchemaElements":[{"dimensionId":1,"necessary":false},{"dimensionId":2,"necessary":false}],"defaultAgg":"SUM","order":0.0,"isTag":0,"description":"一段时间内用户的访问次数"},"similarity":1.0,"detectWord":"访问次数","word":"访问次数","frequency":100000,"inherited":false},{"element":{"dataSet":1,"dataSetName":"超音数数据集","model":2,"id":4,"name":"人均访问次数","bizName":"pv_avg","useCnt":0,"type":"METRIC","alias":["平均访问次数"],"relatedSchemaElements":[{"dimensionId":1,"necessary":false}],"defaultAgg":"","order":0.002841870251016343,"isTag":0,"description":"每个用户平均访问的次数"},"similarity":0.9971581297489837,"detectWord":"人访问次数","word":"人均访问次数","frequency":100000,"inherited":false},{"element":{"dataSet":1,"dataSetName":"超音数数据集","model":2,"id":3,"name":"访问用户数","bizName":"uv","useCnt":0,"type":"METRIC","alias":["UV","访问人数"],"relatedSchemaElements":[{"dimensionId":1,"necessary":false}],"defaultAgg":"count","order":0.004658766300494777,"isTag":0,"description":"访问的用户个数"},"similarity":0.9953412336995052,"detectWord":"访问次数","word":"访问用户数","frequency":100000,"inherited":false}],"properties":{},"sqlInfo":{"s2SQL":"SELECT sys_imp_date, SUM(访问次数) AS 访问次数 FROM 超音数数据集 WHERE sys_imp_date >= '2024-07-08' AND sys_imp_date <= '2024-08-06' GROUP BY sys_imp_date LIMIT 365","correctS2SQL":"SELECT sys_imp_date, SUM(访问次数) AS 访问次数 FROM 超音数数据集 WHERE sys_imp_date >= '2024-07-08' AND sys_imp_date <= '2024-08-06' GROUP BY sys_imp_date LIMIT 365","querySQL":"with t_1 as (SELECT `imp_date` AS `sys_imp_date`, 1 AS `pv`\r\nFROM\r\ns2_pv_uv_statis)\nSELECT sys_imp_date, SUM(pv) AS pv FROM t_1 WHERE sys_imp_date >= '2024-07-08' AND sys_imp_date <= '2024-08-06' GROUP BY sys_imp_date LIMIT 365","sourceId":"1"},"sqlEvaluation":{},"queryType":"METRIC","textInfo":"**数据集:** 超音数数据集 **指标:** 访问次数 \n\n**筛选条件:** \n**数据时间:** 2024-06-08~2024-07-07 ","dataSetId":1}(String), 1(Integer)
14:57:22 [ForkJoinPool.commonPool-worker-20] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:57:22 [ForkJoinPool.commonPool-worker-20] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@fb920f5] will not be managed by Spring
14:57:22 [ForkJoinPool.commonPool-worker-20] DEBUG c.t.s.c.s.p.m.C.update 135 - ==>  Preparing: UPDATE s2_chat_query SET agent_id=?, create_time=?, user_name=?, chat_id=?, score=?, feedback=?, query_text=?, query_result=?, similar_queries=?, parse_time_cost=?, similar_queries=? WHERE (question_id = ?)
14:57:22 [ForkJoinPool.commonPool-worker-20] DEBUG c.t.s.c.s.p.m.C.update 135 - ==> Parameters: 1(Integer), 2024-08-07 14:57:05.0(Timestamp), admin(String), 1(Long), 0(Integer), (String), 超音速对比所有人访问次数(String), (String), [](String), (String), [](String), 81(Long)
14:57:22 [http-nio-9080-exec-2] DEBUG c.t.s.c.s.p.m.C.batchSaveParseInfo 135 - <==    Updates: 3
14:57:22 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@c7d5ad9]
14:57:22 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:57:22 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@78b6e239] was not registered for synchronization because synchronization is not active
14:57:22 [http-nio-9080-exec-2] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:57:22 [http-nio-9080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@12aee9e4] will not be managed by Spring
14:57:22 [http-nio-9080-exec-2] DEBUG c.t.s.c.s.p.m.C.selectById 135 - ==>  Preparing: SELECT question_id,agent_id,create_time,user_name,query_state,chat_id,score,feedback,query_text,query_result,similar_queries,parse_time_cost FROM s2_chat_query WHERE question_id=?
14:57:22 [http-nio-9080-exec-2] DEBUG c.t.s.c.s.p.m.C.selectById 135 - ==> Parameters: 81(Long)
14:57:22 [ForkJoinPool.commonPool-worker-20] DEBUG c.t.s.c.s.p.m.C.update 135 - <==    Updates: 1
14:57:22 [ForkJoinPool.commonPool-worker-20] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6f35a1c8]
14:57:22 [http-nio-9080-exec-2] DEBUG c.t.s.c.s.p.m.C.selectById 135 - <==      Total: 1
14:57:22 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@78b6e239]
14:57:22 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:57:22 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@776098a1] was not registered for synchronization because synchronization is not active
14:57:22 [http-nio-9080-exec-2] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:57:22 [http-nio-9080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@12aee9e4] will not be managed by Spring
14:57:22 [http-nio-9080-exec-2] DEBUG c.t.s.c.s.p.m.C.updateById 135 - ==>  Preparing: UPDATE s2_chat_query SET agent_id=?, create_time=?, user_name=?, chat_id=?, score=?, feedback=?, query_text=?, query_result=?, similar_queries=?, parse_time_cost=? WHERE question_id=?
14:57:22 [http-nio-9080-exec-2] DEBUG c.t.s.c.s.p.m.C.updateById 135 - ==> Parameters: 1(Integer), 2024-08-07 14:57:05.0(Timestamp), admin(String), 1(Long), 0(Integer), (String), 超音速对比所有人访问次数(String), (String), [](String), {"parseStartTime":1723013824592,"parseTime":15366,"sqlTime":2340}(String), 81(Long)
14:57:22 [http-nio-9080-exec-2] DEBUG c.t.s.c.s.p.m.C.updateById 135 - <==    Updates: 1
14:57:22 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@776098a1]
14:57:22 [http-nio-9080-exec-2] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor 268 - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
14:57:22 [http-nio-9080-exec-2] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor 91 - Writing [ResultData(code=200, msg=success, data=ParseResp(chatId=1, queryText=超音速对比所有人访问次数, queryId=81, state (truncated)...]
14:57:22 [http-nio-9080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet 1131 - Completed 200 OK
14:57:22 [http-nio-9080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet 91 - POST "/api/chat/query/execute", parameters={}
14:57:22 [http-nio-9080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping 522 - Mapped to com.tencent.supersonic.chat.server.rest.ChatQueryController#execute(ChatExecuteReq, HttpServletRequest, HttpServletResponse)
14:57:22 [http-nio-9080-exec-6] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor 91 - Read "application/json;charset=UTF-8" to [ChatExecuteReq(user=null, agentId=1, queryId=81, chatId=1, parseId=1, queryText=超音速对比所有人访问次数, saveAn (truncated)...]
14:57:22 [http-nio-9080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:57:22 [http-nio-9080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@39f65a43] was not registered for synchronization because synchronization is not active
14:57:22 [http-nio-9080-exec-6] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:57:22 [http-nio-9080-exec-6] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@12aee9e4] will not be managed by Spring
14:57:22 [http-nio-9080-exec-6] DEBUG c.t.s.c.p.m.S.selectList 135 - ==>  Preparing: SELECT id,parameters,admin FROM s2_system_config
14:57:22 [http-nio-9080-exec-6] DEBUG c.t.s.c.p.m.S.selectList 135 - ==> Parameters: 
14:57:22 [http-nio-9080-exec-6] DEBUG c.t.s.c.p.m.S.selectList 135 - <==      Total: 1
14:57:22 [http-nio-9080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@39f65a43]
14:57:22 [http-nio-9080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:57:22 [http-nio-9080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@62bac7cb] was not registered for synchronization because synchronization is not active
14:57:22 [http-nio-9080-exec-6] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:57:22 [http-nio-9080-exec-6] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@12aee9e4] will not be managed by Spring
14:57:22 [http-nio-9080-exec-6] DEBUG c.t.s.c.s.p.m.C.getParseInfo 135 - ==>  Preparing: select * from s2_chat_parse where question_id = ? and parse_id = ? limit 1
14:57:22 [http-nio-9080-exec-6] DEBUG c.t.s.c.s.p.m.C.getParseInfo 135 - ==> Parameters: 81(Long), 1(Integer)
14:57:22 [http-nio-9080-exec-6] DEBUG c.t.s.c.s.p.m.C.getParseInfo 135 - <==      Total: 1
14:57:22 [http-nio-9080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@62bac7cb]
14:57:22 [http-nio-9080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:57:22 [http-nio-9080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@549ae3e3] was not registered for synchronization because synchronization is not active
14:57:22 [http-nio-9080-exec-6] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:57:22 [http-nio-9080-exec-6] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@12aee9e4] will not be managed by Spring
14:57:22 [http-nio-9080-exec-6] DEBUG c.t.s.h.s.p.m.C.getContextByChatId 135 - ==>  Preparing: select * from s2_chat_context where chat_id=? limit 1
14:57:22 [http-nio-9080-exec-6] DEBUG c.t.s.h.s.p.m.C.getContextByChatId 135 - ==> Parameters: 1(Integer)
14:57:22 [http-nio-9080-exec-6] DEBUG c.t.s.h.s.p.m.C.getContextByChatId 135 - <==      Total: 1
14:57:22 [http-nio-9080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@549ae3e3]
14:57:22 [http-nio-9080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:57:22 [http-nio-9080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@25969942] was not registered for synchronization because synchronization is not active
14:57:22 [http-nio-9080-exec-6] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:57:22 [http-nio-9080-exec-6] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@12aee9e4] will not be managed by Spring
14:57:22 [http-nio-9080-exec-6] DEBUG c.t.s.h.s.p.m.D.selectById 135 - ==>  Preparing: SELECT id,domain_id,name,biz_name,description,status,alias,data_set_detail,created_at,created_by,updated_at,updated_by,query_config,admin,admin_org FROM s2_data_set WHERE id=?
14:57:22 [http-nio-9080-exec-6] DEBUG c.t.s.h.s.p.m.D.selectById 135 - ==> Parameters: 1(Long)
14:57:22 [http-nio-9080-exec-6] DEBUG c.t.s.h.s.p.m.D.selectById 135 - <==      Total: 1
14:57:22 [http-nio-9080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@25969942]
14:57:22 [http-nio-9080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:57:22 [http-nio-9080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@70a6ffd6] was not registered for synchronization because synchronization is not active
14:57:22 [http-nio-9080-exec-6] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:57:22 [http-nio-9080-exec-6] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@12aee9e4] will not be managed by Spring
14:57:22 [http-nio-9080-exec-6] DEBUG c.t.s.h.s.p.m.T.getTagDOList 135 - ==>  Preparing: select * from s2_tag WHERE item_id in ( ? , ? , ? ) and type = ?
14:57:22 [http-nio-9080-exec-6] DEBUG c.t.s.h.s.p.m.T.getTagDOList 135 - ==> Parameters: 1(Long), 2(Long), 3(Long), DIMENSION(String)
14:57:22 [http-nio-9080-exec-6] DEBUG c.t.s.h.s.p.m.T.getTagDOList 135 - <==      Total: 1
14:57:22 [http-nio-9080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@70a6ffd6]
14:57:22 [http-nio-9080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:57:22 [http-nio-9080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7501e711] was not registered for synchronization because synchronization is not active
14:57:22 [http-nio-9080-exec-6] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:57:22 [http-nio-9080-exec-6] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@12aee9e4] will not be managed by Spring
14:57:22 [http-nio-9080-exec-6] DEBUG c.t.s.h.s.p.m.T.getTagDOList 135 - ==>  Preparing: select * from s2_tag WHERE item_id in ( ? , ? , ? , ? ) and type = ?
14:57:22 [http-nio-9080-exec-6] DEBUG c.t.s.h.s.p.m.T.getTagDOList 135 - ==> Parameters: 1(Long), 3(Long), 4(Long), 2(Long), METRIC(String)
14:57:22 [http-nio-9080-exec-6] DEBUG c.t.s.h.s.p.m.T.getTagDOList 135 - <==      Total: 0
14:57:22 [http-nio-9080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7501e711]
14:57:22 [http-nio-9080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:57:22 [http-nio-9080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@a6ddf0e] was not registered for synchronization because synchronization is not active
14:57:22 [http-nio-9080-exec-6] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:57:22 [http-nio-9080-exec-6] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@12aee9e4] will not be managed by Spring
14:57:22 [http-nio-9080-exec-6] DEBUG c.t.s.h.s.p.m.M.selectList 135 - ==>  Preparing: SELECT id,domain_id,tag_object_id,name,biz_name,description,database_id,status,created_at,created_by,updated_at,updated_by,depends,filter_sql,viewer,view_org,admin,admin_org,is_open,drill_down_dimensions,alias,source_type,ext FROM s2_model WHERE (status <> ?)
14:57:22 [http-nio-9080-exec-6] DEBUG c.t.s.h.s.p.m.M.selectList 135 - ==> Parameters: 3(Integer)
14:57:22 [http-nio-9080-exec-6] DEBUG c.t.s.h.s.p.m.M.selectList 135 - <==      Total: 4
14:57:22 [http-nio-9080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@a6ddf0e]
14:57:22 [http-nio-9080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:57:22 [http-nio-9080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2dd14175] was not registered for synchronization because synchronization is not active
14:57:22 [http-nio-9080-exec-6] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:57:22 [http-nio-9080-exec-6] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@12aee9e4] will not be managed by Spring
14:57:22 [http-nio-9080-exec-6] DEBUG c.t.s.h.s.p.m.D.selectList 135 - ==>  Preparing: SELECT id,name,biz_name,parent_id,status,created_at,created_by,updated_at,updated_by,admin,admin_org,is_open,viewer,view_org FROM s2_domain
14:57:22 [http-nio-9080-exec-6] DEBUG c.t.s.h.s.p.m.D.selectList 135 - ==> Parameters: 
14:57:22 [http-nio-9080-exec-6] DEBUG c.t.s.h.s.p.m.D.selectList 135 - <==      Total: 3
14:57:22 [http-nio-9080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2dd14175]
14:57:22 [http-nio-9080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:57:22 [http-nio-9080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1d82e0fe] was not registered for synchronization because synchronization is not active
14:57:22 [http-nio-9080-exec-6] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:57:22 [http-nio-9080-exec-6] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@12aee9e4] will not be managed by Spring
14:57:22 [http-nio-9080-exec-6] DEBUG c.t.s.h.s.p.m.D.selectList 135 - ==>  Preparing: SELECT id,name,biz_name,parent_id,status,created_at,created_by,updated_at,updated_by,admin,admin_org,is_open,viewer,view_org FROM s2_domain
14:57:22 [http-nio-9080-exec-6] DEBUG c.t.s.h.s.p.m.D.selectList 135 - ==> Parameters: 
14:57:22 [http-nio-9080-exec-6] DEBUG c.t.s.h.s.p.m.D.selectList 135 - <==      Total: 3
14:57:22 [http-nio-9080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1d82e0fe]
14:57:22 [http-nio-9080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:57:22 [http-nio-9080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4e49edaa] was not registered for synchronization because synchronization is not active
14:57:22 [http-nio-9080-exec-6] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:57:22 [http-nio-9080-exec-6] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@12aee9e4] will not be managed by Spring
14:57:22 [http-nio-9080-exec-6] DEBUG c.t.s.h.s.p.m.D.selectList 135 - ==>  Preparing: SELECT id,name,biz_name,parent_id,status,created_at,created_by,updated_at,updated_by,admin,admin_org,is_open,viewer,view_org FROM s2_domain
14:57:22 [http-nio-9080-exec-6] DEBUG c.t.s.h.s.p.m.D.selectList 135 - ==> Parameters: 
14:57:22 [http-nio-9080-exec-6] DEBUG c.t.s.h.s.p.m.D.selectList 135 - <==      Total: 3
14:57:22 [http-nio-9080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4e49edaa]
14:57:22 [http-nio-9080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:57:22 [http-nio-9080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4fd4cd] was not registered for synchronization because synchronization is not active
14:57:22 [http-nio-9080-exec-6] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:57:22 [http-nio-9080-exec-6] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@12aee9e4] will not be managed by Spring
14:57:22 [http-nio-9080-exec-6] DEBUG c.t.s.h.s.p.m.D.selectList 135 - ==>  Preparing: SELECT id,name,biz_name,parent_id,status,created_at,created_by,updated_at,updated_by,admin,admin_org,is_open,viewer,view_org FROM s2_domain
14:57:22 [http-nio-9080-exec-6] DEBUG c.t.s.h.s.p.m.D.selectList 135 - ==> Parameters: 
14:57:22 [http-nio-9080-exec-6] DEBUG c.t.s.h.s.p.m.D.selectList 135 - <==      Total: 3
14:57:22 [http-nio-9080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4fd4cd]
14:57:22 [http-nio-9080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:57:22 [http-nio-9080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@602fd19e] was not registered for synchronization because synchronization is not active
14:57:22 [http-nio-9080-exec-6] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:57:22 [http-nio-9080-exec-6] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@12aee9e4] will not be managed by Spring
14:57:22 [http-nio-9080-exec-6] DEBUG c.t.s.h.s.p.m.M.selectList 135 - ==>  Preparing: SELECT id,domain_id,tag_object_id,name,biz_name,description,database_id,status,created_at,created_by,updated_at,updated_by,depends,filter_sql,viewer,view_org,admin,admin_org,is_open,drill_down_dimensions,alias,source_type,ext FROM s2_model WHERE (status <> ? AND domain_id IN (?,?,?))
14:57:22 [http-nio-9080-exec-6] DEBUG c.t.s.h.s.p.m.M.selectList 135 - ==> Parameters: 3(Integer), 1(Long), 2(Long), 3(Long)
14:57:22 [http-nio-9080-exec-6] DEBUG c.t.s.h.s.p.m.M.selectList 135 - <==      Total: 4
14:57:22 [http-nio-9080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@602fd19e]
14:57:22 [http-nio-9080-exec-6] DEBUG c.t.s.h.server.aspect.DimValueAspect 91 - correctorSql before replacing:SELECT SUM(访问次数) FROM 超音数数据集 WHERE (数据日期 >= '2024-07-31' AND 数据日期 <= '2024-08-06')
14:57:22 [http-nio-9080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:57:22 [http-nio-9080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7dd24110] was not registered for synchronization because synchronization is not active
14:57:22 [http-nio-9080-exec-6] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:57:22 [http-nio-9080-exec-6] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@12aee9e4] will not be managed by Spring
14:57:22 [http-nio-9080-exec-6] DEBUG c.t.s.h.s.p.m.D.query 135 - ==>  Preparing: select * from s2_dimension t left join ( select * from s2_tag where type = 'DIMENSION' ) t1 on t.id = t1.item_id where status != 3
14:57:22 [http-nio-9080-exec-6] DEBUG c.t.s.h.s.p.m.D.query 135 - ==> Parameters: 
14:57:22 [http-nio-9080-exec-6] DEBUG c.t.s.h.s.p.m.D.query 135 - <==      Total: 7
14:57:22 [http-nio-9080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7dd24110]
14:57:22 [http-nio-9080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:57:22 [http-nio-9080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@ffec5bd] was not registered for synchronization because synchronization is not active
14:57:22 [http-nio-9080-exec-6] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:57:22 [http-nio-9080-exec-6] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@12aee9e4] will not be managed by Spring
14:57:22 [http-nio-9080-exec-6] DEBUG c.t.s.h.s.p.m.M.selectList 135 - ==>  Preparing: SELECT id,domain_id,tag_object_id,name,biz_name,description,database_id,status,created_at,created_by,updated_at,updated_by,depends,filter_sql,viewer,view_org,admin,admin_org,is_open,drill_down_dimensions,alias,source_type,ext FROM s2_model WHERE (status <> ? AND id IN (?,?,?,?,?,?,?))
14:57:22 [http-nio-9080-exec-6] DEBUG c.t.s.h.s.p.m.M.selectList 135 - ==> Parameters: 3(Integer), 1(Long), 1(Long), 3(Long), 4(Long), 4(Long), 4(Long), 4(Long)
14:57:22 [http-nio-9080-exec-6] DEBUG c.t.s.h.s.p.m.M.selectList 135 - <==      Total: 3
14:57:22 [http-nio-9080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@ffec5bd]
14:57:22 [http-nio-9080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:57:22 [http-nio-9080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7fd12c14] was not registered for synchronization because synchronization is not active
14:57:22 [http-nio-9080-exec-6] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:57:22 [http-nio-9080-exec-6] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@12aee9e4] will not be managed by Spring
14:57:22 [http-nio-9080-exec-6] DEBUG c.t.s.h.s.p.m.T.getTagDOList 135 - ==>  Preparing: select * from s2_tag WHERE item_id in ( ? , ? , ? , ? , ? , ? , ? ) and type = ?
14:57:22 [http-nio-9080-exec-6] DEBUG c.t.s.h.s.p.m.T.getTagDOList 135 - ==> Parameters: 1(Long), 2(Long), 3(Long), 4(Long), 5(Long), 6(Long), 7(Long), DIMENSION(String)
14:57:22 [http-nio-9080-exec-6] DEBUG c.t.s.h.s.p.m.T.getTagDOList 135 - <==      Total: 5
14:57:22 [http-nio-9080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7fd12c14]
14:57:22 [http-nio-9080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:57:22 [http-nio-9080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@b444550] was not registered for synchronization because synchronization is not active
14:57:22 [http-nio-9080-exec-6] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:57:22 [http-nio-9080-exec-6] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@12aee9e4] will not be managed by Spring
14:57:22 [http-nio-9080-exec-6] DEBUG c.t.s.h.s.p.m.T.getTagDOList 135 - ==>  Preparing: select * from s2_tag WHERE item_id in ( ? , ? , ? , ? , ? , ? , ? ) and type = ?
14:57:22 [http-nio-9080-exec-6] DEBUG c.t.s.h.s.p.m.T.getTagDOList 135 - ==> Parameters: 1(Long), 2(Long), 3(Long), 4(Long), 5(Long), 6(Long), 7(Long), DIMENSION(String)
14:57:22 [http-nio-9080-exec-6] DEBUG c.t.s.h.s.p.m.T.getTagDOList 135 - <==      Total: 5
14:57:22 [http-nio-9080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@b444550]
14:57:22 [http-nio-9080-exec-6] DEBUG c.t.s.h.server.aspect.DimValueAspect 120 - correctorSql after replacing:SELECT SUM(访问次数) FROM 超音数数据集 WHERE (数据日期 >= '2024-07-31' AND 数据日期 <= '2024-08-06')
14:57:22 [http-nio-9080-exec-6] INFO  c.t.s.h.s.f.s.i.S2SemanticLayerService 106 - [queryReq:QuerySqlReq(sql=SELECT SUM(访问次数) FROM 超音数数据集 WHERE (数据日期 >= '2024-07-31' AND 数据日期 <= '2024-08-06'), limit=1000)]
14:57:22 [http-nio-9080-exec-6] DEBUG c.t.s.h.s.f.s.i.S2SemanticLayerService 113 - cacheKey:supersonic:dev:0:-1:f7b1b5e688abc7568ab130888606780a
14:57:22 [http-nio-9080-exec-6] DEBUG c.t.s.h.c.cache.CaffeineCacheManager 33 - [get caffeineCache] key:supersonic:dev:0:-1:f7b1b5e688abc7568ab130888606780a, value:null
14:57:22 [http-nio-9080-exec-6] INFO  c.t.s.h.core.cache.DefaultQueryCache 21 - query from cache, key:supersonic:dev:0:-1:f7b1b5e688abc7568ab130888606780a
14:57:22 [http-nio-9080-exec-6] DEBUG c.t.s.h.s.utils.QueryReqConverter 173 - dataSetId:1,convert name to bizName before:SELECT SUM(访问次数) FROM 超音数数据集 WHERE (数据日期 >= '2024-07-31' AND 数据日期 <= '2024-08-06')
14:57:22 [http-nio-9080-exec-6] DEBUG c.t.s.h.s.utils.QueryReqConverter 175 - dataSetId:1,convert name to bizName after:SELECT SUM(pv) FROM 超音数数据集 WHERE (sys_imp_date >= '2024-07-31' AND sys_imp_date <= '2024-08-06')
14:57:22 [http-nio-9080-exec-6] DEBUG c.t.s.h.s.utils.QueryReqConverter 243 - correctTableName after:SELECT SUM(pv) FROM t_1 WHERE (sys_imp_date >= '2024-07-31' AND sys_imp_date <= '2024-08-06')
14:57:22 [http-nio-9080-exec-6] DEBUG c.t.s.h.s.utils.QueryReqConverter 79 - replaceOrderAggSameAlias SELECT SUM(pv) FROM t_1 WHERE (sys_imp_date >= '2024-07-31' AND sys_imp_date <= '2024-08-06') -> SELECT SUM(pv) FROM t_1 WHERE (sys_imp_date >= '2024-07-31' AND sys_imp_date <= '2024-08-06')
14:57:22 [http-nio-9080-exec-6] DEBUG c.t.s.h.s.utils.QueryReqConverter 125 - QueryReqConverter queryStructReq[{"dataSetId":1"modelIds":[],"groups":[],"aggregators":[{"column":"pv","func":UNKNOWN,"nameCh":"null","args":null,"alias":null}],"orders":[],"dimensionFilters":[],"metricFilters":[],"params":[],"dateInfo":{"dateMode":BETWEEN,"startDate":"2024-08-06","endDate":"2024-07-31","dateList":[],"unit":1,"period":"DAY","text":"null"},"limit":2000,"cacheInfo":{"cache":true}}]
14:57:22 [http-nio-9080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:57:22 [http-nio-9080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@71d2c7a8] was not registered for synchronization because synchronization is not active
14:57:22 [http-nio-9080-exec-6] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:57:22 [http-nio-9080-exec-6] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@12aee9e4] will not be managed by Spring
14:57:22 [http-nio-9080-exec-6] DEBUG c.t.s.h.s.p.m.D.selectById 135 - ==>  Preparing: SELECT id,name,description,version,type,created_at,created_by,updated_at,updated_by,admin,viewer,config FROM s2_database WHERE id=?
14:57:22 [http-nio-9080-exec-6] DEBUG c.t.s.h.s.p.m.D.selectById 135 - ==> Parameters: 1(Long)
14:57:22 [http-nio-9080-exec-6] DEBUG c.t.s.h.s.p.m.D.selectById 135 - <==      Total: 1
14:57:22 [http-nio-9080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@71d2c7a8]
14:57:22 [http-nio-9080-exec-6] DEBUG c.t.s.h.c.u.SysTimeDimensionBuilder 19 - addSysTimeDimension before:[Dim(name=部门, type=categorical, expr=null, dateFormat=yyyy-MM-dd, typeParams=null, isCreateDimension=1, bizName=department, description=null, isTag=0)], engineAdaptor:com.tencent.supersonic.headless.core.adaptor.db.MysqlAdaptor@486b5958
14:57:22 [http-nio-9080-exec-6] DEBUG c.t.s.h.c.u.SysTimeDimensionBuilder 19 - addSysTimeDimension before:[Dim(name=, type=time, expr=null, dateFormat=yyyy-MM-dd, typeParams=DimensionTimeTypeParams(isPrimary=true, timeGranularity=day), isCreateDimension=0, bizName=imp_date, description=null, isTag=0), Dim(name=, type=categorical, expr=page, dateFormat=yyyy-MM-dd, typeParams=null, isCreateDimension=0, bizName=page, description=null, isTag=0), Dim(name=null, type=time, expr=imp_date, dateFormat=yyyy-MM-dd, typeParams=DimensionTimeTypeParams(isPrimary=true, timeGranularity=day), isCreateDimension=0, bizName=sys_imp_date, description=null, isTag=0), Dim(name=null, type=time, expr=DATE_FORMAT(DATE_SUB(imp_date, INTERVAL (DAYOFWEEK(imp_date) - 2) DAY), '%Y-%m-%d'), dateFormat=yyyy-MM-dd, typeParams=DimensionTimeTypeParams(isPrimary=false, timeGranularity=week), isCreateDimension=0, bizName=sys_imp_week, description=null, isTag=0), Dim(name=null, type=time, expr=DATE_FORMAT(imp_date, '%Y-%m') , dateFormat=yyyy-MM-dd, typeParams=DimensionTimeTypeParams(isPrimary=false, timeGranularity=month), isCreateDimension=0, bizName=sys_imp_month, description=null, isTag=0), Dim(name=null, type=time, expr=imp_date, dateFormat=yyyy-MM-dd, typeParams=DimensionTimeTypeParams(isPrimary=true, timeGranularity=day), isCreateDimension=0, bizName=sys_imp_date, description=null, isTag=0), Dim(name=null, type=time, expr=DATE_FORMAT(DATE_SUB(imp_date, INTERVAL (DAYOFWEEK(imp_date) - 2) DAY), '%Y-%m-%d'), dateFormat=yyyy-MM-dd, typeParams=DimensionTimeTypeParams(isPrimary=false, timeGranularity=week), isCreateDimension=0, bizName=sys_imp_week, description=null, isTag=0), Dim(name=null, type=time, expr=DATE_FORMAT(imp_date, '%Y-%m') , dateFormat=yyyy-MM-dd, typeParams=DimensionTimeTypeParams(isPrimary=false, timeGranularity=month), isCreateDimension=0, bizName=sys_imp_month, description=null, isTag=0), Dim(name=null, type=time, expr=imp_date, dateFormat=yyyy-MM-dd, typeParams=DimensionTimeTypeParams(isPrimary=true, timeGranularity=day), isCreateDimension=0, bizName=sys_imp_date, description=null, isTag=0), Dim(name=null, type=time, expr=DATE_FORMAT(DATE_SUB(imp_date, INTERVAL (DAYOFWEEK(imp_date) - 2) DAY), '%Y-%m-%d'), dateFormat=yyyy-MM-dd, typeParams=DimensionTimeTypeParams(isPrimary=false, timeGranularity=week), isCreateDimension=0, bizName=sys_imp_week, description=null, isTag=0), Dim(name=null, type=time, expr=DATE_FORMAT(imp_date, '%Y-%m') , dateFormat=yyyy-MM-dd, typeParams=DimensionTimeTypeParams(isPrimary=false, timeGranularity=month), isCreateDimension=0, bizName=sys_imp_month, description=null, isTag=0)], engineAdaptor:com.tencent.supersonic.headless.core.adaptor.db.MysqlAdaptor@486b5958
14:57:22 [http-nio-9080-exec-6] DEBUG c.t.s.h.c.u.SysTimeDimensionBuilder 29 - addSysTimeDimension after:[Dim(name=, type=time, expr=null, dateFormat=yyyy-MM-dd, typeParams=DimensionTimeTypeParams(isPrimary=true, timeGranularity=day), isCreateDimension=0, bizName=imp_date, description=null, isTag=0), Dim(name=, type=categorical, expr=page, dateFormat=yyyy-MM-dd, typeParams=null, isCreateDimension=0, bizName=page, description=null, isTag=0), Dim(name=null, type=time, expr=imp_date, dateFormat=yyyy-MM-dd, typeParams=DimensionTimeTypeParams(isPrimary=true, timeGranularity=day), isCreateDimension=0, bizName=sys_imp_date, description=null, isTag=0), Dim(name=null, type=time, expr=DATE_FORMAT(DATE_SUB(imp_date, INTERVAL (DAYOFWEEK(imp_date) - 2) DAY), '%Y-%m-%d'), dateFormat=yyyy-MM-dd, typeParams=DimensionTimeTypeParams(isPrimary=false, timeGranularity=week), isCreateDimension=0, bizName=sys_imp_week, description=null, isTag=0), Dim(name=null, type=time, expr=DATE_FORMAT(imp_date, '%Y-%m') , dateFormat=yyyy-MM-dd, typeParams=DimensionTimeTypeParams(isPrimary=false, timeGranularity=month), isCreateDimension=0, bizName=sys_imp_month, description=null, isTag=0), Dim(name=null, type=time, expr=imp_date, dateFormat=yyyy-MM-dd, typeParams=DimensionTimeTypeParams(isPrimary=true, timeGranularity=day), isCreateDimension=0, bizName=sys_imp_date, description=null, isTag=0), Dim(name=null, type=time, expr=DATE_FORMAT(DATE_SUB(imp_date, INTERVAL (DAYOFWEEK(imp_date) - 2) DAY), '%Y-%m-%d'), dateFormat=yyyy-MM-dd, typeParams=DimensionTimeTypeParams(isPrimary=false, timeGranularity=week), isCreateDimension=0, bizName=sys_imp_week, description=null, isTag=0), Dim(name=null, type=time, expr=DATE_FORMAT(imp_date, '%Y-%m') , dateFormat=yyyy-MM-dd, typeParams=DimensionTimeTypeParams(isPrimary=false, timeGranularity=month), isCreateDimension=0, bizName=sys_imp_month, description=null, isTag=0), Dim(name=null, type=time, expr=imp_date, dateFormat=yyyy-MM-dd, typeParams=DimensionTimeTypeParams(isPrimary=true, timeGranularity=day), isCreateDimension=0, bizName=sys_imp_date, description=null, isTag=0), Dim(name=null, type=time, expr=DATE_FORMAT(DATE_SUB(imp_date, INTERVAL (DAYOFWEEK(imp_date) - 2) DAY), '%Y-%m-%d'), dateFormat=yyyy-MM-dd, typeParams=DimensionTimeTypeParams(isPrimary=false, timeGranularity=week), isCreateDimension=0, bizName=sys_imp_week, description=null, isTag=0), Dim(name=null, type=time, expr=DATE_FORMAT(imp_date, '%Y-%m') , dateFormat=yyyy-MM-dd, typeParams=DimensionTimeTypeParams(isPrimary=false, timeGranularity=month), isCreateDimension=0, bizName=sys_imp_month, description=null, isTag=0), Dim(name=null, type=time, expr=imp_date, dateFormat=yyyy-MM-dd, typeParams=DimensionTimeTypeParams(isPrimary=true, timeGranularity=day), isCreateDimension=0, bizName=sys_imp_date, description=null, isTag=0), Dim(name=null, type=time, expr=DATE_FORMAT(DATE_SUB(imp_date, INTERVAL (DAYOFWEEK(imp_date) - 2) DAY), '%Y-%m-%d'), dateFormat=yyyy-MM-dd, typeParams=DimensionTimeTypeParams(isPrimary=false, timeGranularity=week), isCreateDimension=0, bizName=sys_imp_week, description=null, isTag=0), Dim(name=null, type=time, expr=DATE_FORMAT(imp_date, '%Y-%m') , dateFormat=yyyy-MM-dd, typeParams=DimensionTimeTypeParams(isPrimary=false, timeGranularity=month), isCreateDimension=0, bizName=sys_imp_month, description=null, isTag=0)], engineAdaptor:com.tencent.supersonic.headless.core.adaptor.db.MysqlAdaptor@486b5958
14:57:22 [http-nio-9080-exec-6] DEBUG c.t.s.h.c.u.SysTimeDimensionBuilder 19 - addSysTimeDimension before:[Dim(name=, type=time, expr=null, dateFormat=yyyy-MM-dd, typeParams=DimensionTimeTypeParams(isPrimary=true, timeGranularity=day), isCreateDimension=0, bizName=imp_date, description=null, isTag=0), Dim(name=页面, type=categorical, expr=page, dateFormat=yyyy-MM-dd, typeParams=null, isCreateDimension=1, bizName=page, description=null, isTag=0), Dim(name=null, type=time, expr=imp_date, dateFormat=yyyy-MM-dd, typeParams=DimensionTimeTypeParams(isPrimary=true, timeGranularity=day), isCreateDimension=0, bizName=sys_imp_date, description=null, isTag=0), Dim(name=null, type=time, expr=DATE_FORMAT(DATE_SUB(imp_date, INTERVAL (DAYOFWEEK(imp_date) - 2) DAY), '%Y-%m-%d'), dateFormat=yyyy-MM-dd, typeParams=DimensionTimeTypeParams(isPrimary=false, timeGranularity=week), isCreateDimension=0, bizName=sys_imp_week, description=null, isTag=0), Dim(name=null, type=time, expr=DATE_FORMAT(imp_date, '%Y-%m') , dateFormat=yyyy-MM-dd, typeParams=DimensionTimeTypeParams(isPrimary=false, timeGranularity=month), isCreateDimension=0, bizName=sys_imp_month, description=null, isTag=0), Dim(name=null, type=time, expr=imp_date, dateFormat=yyyy-MM-dd, typeParams=DimensionTimeTypeParams(isPrimary=true, timeGranularity=day), isCreateDimension=0, bizName=sys_imp_date, description=null, isTag=0), Dim(name=null, type=time, expr=DATE_FORMAT(DATE_SUB(imp_date, INTERVAL (DAYOFWEEK(imp_date) - 2) DAY), '%Y-%m-%d'), dateFormat=yyyy-MM-dd, typeParams=DimensionTimeTypeParams(isPrimary=false, timeGranularity=week), isCreateDimension=0, bizName=sys_imp_week, description=null, isTag=0), Dim(name=null, type=time, expr=DATE_FORMAT(imp_date, '%Y-%m') , dateFormat=yyyy-MM-dd, typeParams=DimensionTimeTypeParams(isPrimary=false, timeGranularity=month), isCreateDimension=0, bizName=sys_imp_month, description=null, isTag=0), Dim(name=null, type=time, expr=imp_date, dateFormat=yyyy-MM-dd, typeParams=DimensionTimeTypeParams(isPrimary=true, timeGranularity=day), isCreateDimension=0, bizName=sys_imp_date, description=null, isTag=0), Dim(name=null, type=time, expr=DATE_FORMAT(DATE_SUB(imp_date, INTERVAL (DAYOFWEEK(imp_date) - 2) DAY), '%Y-%m-%d'), dateFormat=yyyy-MM-dd, typeParams=DimensionTimeTypeParams(isPrimary=false, timeGranularity=week), isCreateDimension=0, bizName=sys_imp_week, description=null, isTag=0), Dim(name=null, type=time, expr=DATE_FORMAT(imp_date, '%Y-%m') , dateFormat=yyyy-MM-dd, typeParams=DimensionTimeTypeParams(isPrimary=false, timeGranularity=month), isCreateDimension=0, bizName=sys_imp_month, description=null, isTag=0)], engineAdaptor:com.tencent.supersonic.headless.core.adaptor.db.MysqlAdaptor@486b5958
14:57:22 [http-nio-9080-exec-6] DEBUG c.t.s.h.c.u.SysTimeDimensionBuilder 29 - addSysTimeDimension after:[Dim(name=, type=time, expr=null, dateFormat=yyyy-MM-dd, typeParams=DimensionTimeTypeParams(isPrimary=true, timeGranularity=day), isCreateDimension=0, bizName=imp_date, description=null, isTag=0), Dim(name=页面, type=categorical, expr=page, dateFormat=yyyy-MM-dd, typeParams=null, isCreateDimension=1, bizName=page, description=null, isTag=0), Dim(name=null, type=time, expr=imp_date, dateFormat=yyyy-MM-dd, typeParams=DimensionTimeTypeParams(isPrimary=true, timeGranularity=day), isCreateDimension=0, bizName=sys_imp_date, description=null, isTag=0), Dim(name=null, type=time, expr=DATE_FORMAT(DATE_SUB(imp_date, INTERVAL (DAYOFWEEK(imp_date) - 2) DAY), '%Y-%m-%d'), dateFormat=yyyy-MM-dd, typeParams=DimensionTimeTypeParams(isPrimary=false, timeGranularity=week), isCreateDimension=0, bizName=sys_imp_week, description=null, isTag=0), Dim(name=null, type=time, expr=DATE_FORMAT(imp_date, '%Y-%m') , dateFormat=yyyy-MM-dd, typeParams=DimensionTimeTypeParams(isPrimary=false, timeGranularity=month), isCreateDimension=0, bizName=sys_imp_month, description=null, isTag=0), Dim(name=null, type=time, expr=imp_date, dateFormat=yyyy-MM-dd, typeParams=DimensionTimeTypeParams(isPrimary=true, timeGranularity=day), isCreateDimension=0, bizName=sys_imp_date, description=null, isTag=0), Dim(name=null, type=time, expr=DATE_FORMAT(DATE_SUB(imp_date, INTERVAL (DAYOFWEEK(imp_date) - 2) DAY), '%Y-%m-%d'), dateFormat=yyyy-MM-dd, typeParams=DimensionTimeTypeParams(isPrimary=false, timeGranularity=week), isCreateDimension=0, bizName=sys_imp_week, description=null, isTag=0), Dim(name=null, type=time, expr=DATE_FORMAT(imp_date, '%Y-%m') , dateFormat=yyyy-MM-dd, typeParams=DimensionTimeTypeParams(isPrimary=false, timeGranularity=month), isCreateDimension=0, bizName=sys_imp_month, description=null, isTag=0), Dim(name=null, type=time, expr=imp_date, dateFormat=yyyy-MM-dd, typeParams=DimensionTimeTypeParams(isPrimary=true, timeGranularity=day), isCreateDimension=0, bizName=sys_imp_date, description=null, isTag=0), Dim(name=null, type=time, expr=DATE_FORMAT(DATE_SUB(imp_date, INTERVAL (DAYOFWEEK(imp_date) - 2) DAY), '%Y-%m-%d'), dateFormat=yyyy-MM-dd, typeParams=DimensionTimeTypeParams(isPrimary=false, timeGranularity=week), isCreateDimension=0, bizName=sys_imp_week, description=null, isTag=0), Dim(name=null, type=time, expr=DATE_FORMAT(imp_date, '%Y-%m') , dateFormat=yyyy-MM-dd, typeParams=DimensionTimeTypeParams(isPrimary=false, timeGranularity=month), isCreateDimension=0, bizName=sys_imp_month, description=null, isTag=0), Dim(name=null, type=time, expr=imp_date, dateFormat=yyyy-MM-dd, typeParams=DimensionTimeTypeParams(isPrimary=true, timeGranularity=day), isCreateDimension=0, bizName=sys_imp_date, description=null, isTag=0), Dim(name=null, type=time, expr=DATE_FORMAT(DATE_SUB(imp_date, INTERVAL (DAYOFWEEK(imp_date) - 2) DAY), '%Y-%m-%d'), dateFormat=yyyy-MM-dd, typeParams=DimensionTimeTypeParams(isPrimary=false, timeGranularity=week), isCreateDimension=0, bizName=sys_imp_week, description=null, isTag=0), Dim(name=null, type=time, expr=DATE_FORMAT(imp_date, '%Y-%m') , dateFormat=yyyy-MM-dd, typeParams=DimensionTimeTypeParams(isPrimary=false, timeGranularity=month), isCreateDimension=0, bizName=sys_imp_month, description=null, isTag=0)], engineAdaptor:com.tencent.supersonic.headless.core.adaptor.db.MysqlAdaptor@486b5958
14:57:22 [http-nio-9080-exec-6] INFO  c.t.s.h.core.executor.JdbcExecutor 41 - executing SQL: with t_1 as (SELECT `imp_date` AS `sys_imp_date`, SUM(1) AS `pv` FROM s2_pv_uv_statis GROUP BY `imp_date`, `imp_date`) SELECT SUM(pv) FROM t_1 WHERE (sys_imp_date >= '2024-07-31' AND sys_imp_date <= '2024-08-06') limit 1000
14:57:22 [http-nio-9080-exec-6] ERROR c.alibaba.druid.filter.FilterManager 117 - load filter error, filter not found : 'stat'
14:57:22 [http-nio-9080-exec-6] WARN  c.alibaba.druid.pool.DruidDataSource 1236 - removeAbandoned is true, not use in production.
14:57:22 [http-nio-9080-exec-6] INFO  c.alibaba.druid.pool.DruidDataSource 985 - {dataSource-2,1@数据实例} inited
14:57:22 [http-nio-9080-exec-6] DEBUG o.s.b.f.xml.XmlBeanDefinitionReader 393 - Loaded 11 bean definitions from class path resource [org/springframework/jdbc/support/sql-error-codes.xml]
14:57:22 [http-nio-9080-exec-6] DEBUG o.s.b.f.s.DefaultListableBeanFactory 225 - Creating shared instance of singleton bean 'DB2'
14:57:22 [http-nio-9080-exec-6] DEBUG o.s.b.f.s.DefaultListableBeanFactory 225 - Creating shared instance of singleton bean 'Derby'
14:57:22 [http-nio-9080-exec-6] DEBUG o.s.b.f.s.DefaultListableBeanFactory 225 - Creating shared instance of singleton bean 'H2'
14:57:22 [http-nio-9080-exec-6] DEBUG o.s.b.f.s.DefaultListableBeanFactory 225 - Creating shared instance of singleton bean 'HDB'
14:57:22 [http-nio-9080-exec-6] DEBUG o.s.b.f.s.DefaultListableBeanFactory 225 - Creating shared instance of singleton bean 'HSQL'
14:57:22 [http-nio-9080-exec-6] DEBUG o.s.b.f.s.DefaultListableBeanFactory 225 - Creating shared instance of singleton bean 'Informix'
14:57:22 [http-nio-9080-exec-6] DEBUG o.s.b.f.s.DefaultListableBeanFactory 225 - Creating shared instance of singleton bean 'MS-SQL'
14:57:22 [http-nio-9080-exec-6] DEBUG o.s.b.f.s.DefaultListableBeanFactory 225 - Creating shared instance of singleton bean 'MySQL'
14:57:22 [http-nio-9080-exec-6] DEBUG o.s.b.f.s.DefaultListableBeanFactory 225 - Creating shared instance of singleton bean 'Oracle'
14:57:22 [http-nio-9080-exec-6] DEBUG o.s.b.f.s.DefaultListableBeanFactory 225 - Creating shared instance of singleton bean 'PostgreSQL'
14:57:22 [http-nio-9080-exec-6] DEBUG o.s.b.f.s.DefaultListableBeanFactory 225 - Creating shared instance of singleton bean 'Sybase'
14:57:22 [http-nio-9080-exec-6] DEBUG o.s.j.support.SQLErrorCodesFactory 188 - SQL error codes for '1@数据实例' not found
14:57:22 [http-nio-9080-exec-6] DEBUG o.s.jdbc.core.JdbcTemplate 440 - Executing SQL query [with t_1 as (SELECT `imp_date` AS `sys_imp_date`, SUM(1) AS `pv`
FROM
s2_pv_uv_statis
GROUP BY `imp_date`, `imp_date`)
SELECT SUM(pv) FROM t_1 WHERE (sys_imp_date >= '2024-07-31' AND sys_imp_date <= '2024-08-06') limit 1000]
14:57:22 [http-nio-9080-exec-6] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:57:22 [ForkJoinPool.commonPool-worker-20] DEBUG c.t.s.h.c.cache.CaffeineCacheManager 25 - [put caffeineCache] key:supersonic:dev:0:-1:f7b1b5e688abc7568ab130888606780a, value:SemanticQueryResp(columns=[QueryColumn(name=访问次数, type=DECIMAL, nameEn=SUM(pv), showType=NUMBER, authorized=true, dataFormatType=null, dataFormat=null, comment=null)], sql=with t_1 as (SELECT `imp_date` AS `sys_imp_date`, SUM(1) AS `pv`
FROM
s2_pv_uv_statis
GROUP BY `imp_date`, `imp_date`)
SELECT SUM(pv) FROM t_1 WHERE (sys_imp_date >= '2024-07-31' AND sys_imp_date <= '2024-08-06') limit 1000, queryAuthorization=null, useCache=false)
14:57:22 [http-nio-9080-exec-6] DEBUG c.t.s.h.core.cache.DefaultQueryCache 36 - put to cache, key: supersonic:dev:0:-1:f7b1b5e688abc7568ab130888606780a
14:57:22 [ForkJoinPool.commonPool-worker-27] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:57:22 [ForkJoinPool.commonPool-worker-27] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@373ee51a] was not registered for synchronization because synchronization is not active
14:57:22 [ForkJoinPool.commonPool-worker-27] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:57:22 [ForkJoinPool.commonPool-worker-27] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@12aee9e4] will not be managed by Spring
14:57:22 [ForkJoinPool.commonPool-worker-27] DEBUG c.t.s.h.s.p.m.S.createRecord 135 - ==>  Preparing: insert into s2_query_stat_info ( trace_id, model_id, data_set_id, `user`, query_type, query_type_back, query_sql_cmd, sql_cmd_md5, query_struct_cmd, struct_cmd_md5, `sql`, sql_md5, query_engine, elapsed_ms, query_state, native_query, start_date, end_date, dimensions, metrics, select_cols, agg_cols, filter_cols, group_by_cols, order_by_cols, use_result_cache, use_sql_cache, sql_cache_key, result_cache_key, query_opt_mode ) values ( ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ? )
14:57:22 [ForkJoinPool.commonPool-worker-27] DEBUG c.t.s.h.s.p.m.S.createRecord 135 - ==> Parameters: (String), null, 1(Long), admin(String), SQL(String), 0(Integer), QuerySqlReq(sql=SELECT SUM(访问次数) FROM 超音数数据集 WHERE (数据日期 >= '2024-07-31' AND 数据日期 <= '2024-08-06'), limit=1000)(String), 0fcf3d0a170eb778237fb0fb82e2a5eb(String), null, null, null, null, null, 412(Long), success(String), null, null, null, ["访问次数"](String), ["访问次数"](String), null, null, null, null, null, false(Boolean), true(Boolean), null, supersonic:dev:0:-1:f7b1b5e688abc7568ab130888606780a(String), null
14:57:22 [http-nio-9080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:57:22 [http-nio-9080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1b5e4c35] was not registered for synchronization because synchronization is not active
14:57:22 [http-nio-9080-exec-6] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:57:22 [http-nio-9080-exec-6] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@fb920f5] will not be managed by Spring
14:57:22 [http-nio-9080-exec-6] DEBUG c.t.s.c.s.p.m.C.insert 135 - ==>  Preparing: INSERT INTO s2_chat_memory ( question, agent_id, db_schema, s2_sql, status, created_by, created_at, updated_by ) VALUES ( ?, ?, ?, ?, ?, ?, ?, ? )
14:57:22 [http-nio-9080-exec-6] DEBUG c.t.s.c.s.p.m.C.insert 135 - ==> Parameters: 超音速对比所有人访问次数(String), 1(Integer), Table: 超音数数据集, Metrics: [访问次数 COMMENT '一段时间内用户的访问次数' AGGREGATE 'SUM',], Dimensions: [](String), SELECT SUM(访问次数) FROM 超音数数据集(String), PENDING(String), admin(String), 2024-08-07 14:57:22.964(Timestamp), admin(String)
14:57:22 [ForkJoinPool.commonPool-worker-27] DEBUG c.t.s.h.s.p.m.S.createRecord 135 - <==    Updates: 1
14:57:22 [ForkJoinPool.commonPool-worker-27] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@373ee51a]
14:57:22 [http-nio-9080-exec-6] DEBUG c.t.s.c.s.p.m.C.insert 135 - <==    Updates: 1
14:57:22 [http-nio-9080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1b5e4c35]
14:57:22 [http-nio-9080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:57:22 [http-nio-9080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@48fa3037] was not registered for synchronization because synchronization is not active
14:57:22 [http-nio-9080-exec-6] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:57:22 [http-nio-9080-exec-6] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@fb920f5] will not be managed by Spring
14:57:22 [http-nio-9080-exec-6] DEBUG c.t.s.c.s.p.m.C.selectById 135 - ==>  Preparing: SELECT question_id,agent_id,create_time,user_name,query_state,chat_id,score,feedback,query_text,query_result,similar_queries,parse_time_cost FROM s2_chat_query WHERE question_id=?
14:57:22 [http-nio-9080-exec-6] DEBUG c.t.s.c.s.p.m.C.selectById 135 - ==> Parameters: 81(Long)
14:57:22 [http-nio-9080-exec-6] DEBUG c.t.s.c.s.p.m.C.selectById 135 - <==      Total: 1
14:57:22 [http-nio-9080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@48fa3037]
14:57:22 [http-nio-9080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:57:22 [http-nio-9080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@28b26817] was not registered for synchronization because synchronization is not active
14:57:22 [http-nio-9080-exec-6] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:57:22 [http-nio-9080-exec-6] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@fb920f5] will not be managed by Spring
14:57:22 [http-nio-9080-exec-6] DEBUG c.t.s.c.s.p.m.C.updateById 135 - ==>  Preparing: UPDATE s2_chat_query SET agent_id=?, create_time=?, user_name=?, query_state=?, chat_id=?, score=?, feedback=?, query_text=?, query_result=?, similar_queries=?, parse_time_cost=? WHERE question_id=?
14:57:22 [http-nio-9080-exec-6] DEBUG c.t.s.c.s.p.m.C.updateById 135 - ==> Parameters: 1(Integer), 2024-08-07 14:57:05.0(Timestamp), admin(String), 1(Integer), 1(Long), 0(Integer), (String), 超音速对比所有人访问次数(String), {"queryMode":"LLM_S2SQL","querySql":"with t_1 as (SELECT `imp_date` AS `sys_imp_date`, SUM(1) AS `pv`\r\nFROM\r\ns2_pv_uv_statis\r\nGROUP BY `imp_date`, `imp_date`)\nSELECT SUM(pv) FROM t_1 WHERE (sys_imp_date >= '2024-07-31' AND sys_imp_date <= '2024-08-06') limit 1000","queryState":"SUCCESS","queryColumns":[{"name":"访问次数","type":"DECIMAL","nameEn":"SUM(pv)","showType":"NUMBER","authorized":true}],"chatContext":{"id":1,"queryMode":"LLM_S2SQL","dataSet":{"dataSet":1,"dataSetName":"超音数数据集","id":1,"name":"超音数数据集","bizName":"s2","type":"DATASET","order":0.0,"isTag":0},"metrics":[{"dataSet":1,"dataSetName":"超音数数据集","model":2,"id":1,"name":"访问次数","bizName":"pv","useCnt":0,"type":"METRIC","alias":[],"relatedSchemaElements":[{"dimensionId":1,"necessary":false},{"dimensionId":2,"necessary":false}],"defaultAgg":"SUM","order":0.0,"isTag":0,"description":"一段时间内用户的访问次数"}],"dimensions":[],"aggType":"NONE","filterType":"AND","dimensionFilters":[],"metricFilters":[],"orders":[],"dateInfo":{"dateMode":"BETWEEN","startDate":"2024-07-31","endDate":"2024-08-06","dateList":["2024-07-31","2024-08-01","2024-08-02","2024-08-03","2024-08-04","2024-08-05","2024-08-06"],"unit":1,"period":"DAY","groupByDate":false,"inherited":false,"groupByTimeDimension":"sys_imp_date"},"score":24.0,"elementMatches":[{"element":{"dataSet":1,"dataSetName":"超音数数据集","model":2,"id":1,"name":"访问次数","bizName":"pv","useCnt":0,"type":"METRIC","alias":[],"relatedSchemaElements":[{"dimensionId":1,"necessary":false},{"dimensionId":2,"necessary":false}],"defaultAgg":"SUM","order":0.0,"isTag":0,"description":"一段时间内用户的访问次数"},"similarity":1.0,"detectWord":"访问次数","word":"访问次数","frequency":100000,"inherited":false},{"element":{"dataSet":1,"dataSetName":"超音数数据集","model":2,"id":4,"name":"人均访问次数","bizName":"pv_avg","useCnt":0,"type":"METRIC","alias":["平均访问次数"],"relatedSchemaElements":[{"dimensionId":1,"necessary":false}],"defaultAgg":"","order":0.002841870251016343,"isTag":0,"description":"每个用户平均访问的次数"},"similarity":0.9971581297489837,"detectWord":"人访问次数","word":"人均访问次数","frequency":100000,"inherited":false},{"element":{"dataSet":1,"dataSetName":"超音数数据集","model":2,"id":3,"name":"访问用户数","bizName":"uv","useCnt":0,"type":"METRIC","alias":["UV","访问人数"],"relatedSchemaElements":[{"dimensionId":1,"necessary":false}],"defaultAgg":"count","order":0.004658766300494777,"isTag":0,"description":"访问的用户个数"},"similarity":0.9953412336995052,"detectWord":"访问次数","word":"访问用户数","frequency":100000,"inherited":false},{"element":{"dataSet":1,"dataSetName":"超音数数据集","model":1,"id":1,"name":"部门","bizName":"department","useCnt":0,"type":"DIMENSION","alias":[],"schemaValueMaps":[],"order":0.0,"isTag":1,"description":""},"similarity":1.0,"detectWord":"部门","word":"部门","frequency":100000,"inherited":true}],"properties":{"type":"internal","CONTEXT":{"llmReq":{"schema":{"dataSetId":1,"terms":[],"domainName":"超音数数据集","dataSetName":"超音数数据集","metrics":[{"relatedSchemaElements":[{"dimensionId":1,"necessary":false},{"dimensionId":2,"necessary":false}],"dataSetName":"超音数数据集","useCnt":0,"description":"一段时间内用户的访问次数","type":"METRIC","isTag":0,"defaultAgg":"SUM","bizName":"pv","name":"访问次数","alias":[],"model":2,"id":1,"dataSet":1,"order":0.0},{"relatedSchemaElements":[{"dimensionId":1,"necessary":false}],"dataSetName":"超音数数据集","useCnt":0,"description":"每个用户平均访问的次数","type":"METRIC","isTag":0,"defaultAgg":"","bizName":"pv_avg","name":"人均访问次数","alias":["平均访问次数"],"model":2,"id":4,"dataSet":1,"order":0.002841870251016343},{"relatedSchemaElements":[{"dimensionId":1,"necessary":false}],"dataSetName":"超音数数据集","useCnt":0,"description":"访问的用户个数","type":"METRIC","isTag":0,"defaultAgg":"count","bizName":"uv","name":"访问用户数","alias":["UV","访问人数"],"model":2,"id":3,"dataSet":1,"order":0.004658766300494777}],"fieldNameList":["访问用户数","用户","部门","访问次数","人均访问次数","停留时长","页面","数据日期"],"dimensions":[{"schemaValueMaps":[],"dataSetName":"超音数数据集","useCnt":0,"description":"","type":"DIMENSION","isTag":1,"bizName":"department","name":"部门","alias":[],"model":1,"id":1,"dataSet":1,"order":0.0}]},"exemplars":[],"linking":[],"llmConfig":{"modelName":"gpt-3.5-turbo","baseUrl":"https://api.openai.com/v1","apiKey":"kGA4i6jY7QqG5xH+S0N++SzVWVKyAHesOq7NpoFVI7pgU14eb1AM296OFiLJTNtDVfpWDpfu7o4vDG2C2yWiSA==","provider":"OPEN_AI","temperature":0.0,"timeOut":60},"filterCondition":{},"sqlGenType":"1_pass_self_consistency","queryText":"超音速对比所有人访问次数","currentDate":"2024-08-07","priorExts":""},"linkingValues":[],"dataSetId":1,"llmResp":{"modelName":"超音数数据集","dbSchema":"Table: 超音数数据集, Metrics: [访问次数 COMMENT '一段时间内用户的访问次数' AGGREGATE 'SUM',人均访问次数 COMMENT '每个用户平均访问的次数',访问用户数 COMMENT '访问的用户个数' AGGREGATE 'COUNT',], Dimensions: [部门,]","sqlOutput":"SELECT SUM(访问次数) FROM 超音数数据集","query":"超音速对比所有人访问次数","sqlRespMap":{"SELECT SUM(访问次数) FROM 超音数数据集":{"fewShots":[{"dbSchema":"Table: 歌曲库, Columns = [\"发行日期\", \"歌曲语言\", \"歌曲来源\", \"歌曲流派\", \"歌曲名\", \"歌曲版本\", \"歌曲类型\", \"发行时间\", \"数据日期\"]","question":"今年以来发行的歌曲中，有哪些在近7天播放超过一千万的 (补充信息:。当前的日期是2023-08-12) ","sql":"SELECT 歌曲名 FROM 歌曲库 WHERE datediff('year', 发行日期, '2023-08-12') <= 0 AND datediff('day', 数据日期, '2023-08-12') <= 7 AND 结算播放量 > 10000000"},{"dbSchema":"Table: 超音数产品, Columns = [\"用户名\", \"部门\", \"模块\", \"访问时长\", \"访问次数\", \"访问人数\", \"数据日期\"]","question":"超音数近半年每个月的平均访问次数 (补充信息:。当前的日期是2023-09-04) ","sql":"SELECT MONTH(数据日期), AVG(访问次数) FROM 超音数产品 WHERE datediff('year', 数据日期, '2023-09-04') <= 0.5 GROUP BY MONTH(数据日期)"},{"dbSchema":"Table: 艺人库, Columns = [\"播放量层级\", \"播放量单调性\", \"播放量方差\", \"播放量突增类型\", \"播放量集中度\", \"歌手名\", \"歌手等级\", \"歌手类型\", \"歌手来源\", \"签约日期\", \"MPPM潮流人等级\", \"结算播放量\", \"运营播放量\", \"历史累计结算播放量\", \"有播放量歌曲数\", \"历史累计运营播放量\", \"付费用户结算播放量\", \"结算播放量占比\", \"运营播放份额\", \"免费用户结算播放占比\", \"完播量\", \"数据日期\"]","question":"我想要近半年签约的播放量前十的歌手有哪些 (补充信息:。当前的日期是2023-09-11) ","sql":"SELECT 歌手名 FROM 艺人库 WHERE datediff('year', 签约日期, '2023-09-11') <= 0.5 ORDER BY 结算播放量 DESC LIMIT 10"},{"dbSchema":"Table: 歌曲库, Columns = [\"歌曲名\", \"歌曲版本\", \"歌曲类型\", \"MPPM歌曲ID\", \"是否严选窄口径歌曲\", \"是否严选宽口径歌曲\", \"是否潮流人歌曲\", \"超声波歌曲ID\", \"C音歌曲ID\", \"C音歌曲MID\", \"结算播放量\", \"运营播放量\", \"分享量\", \"收藏量\", \"运营搜播量\", \"结算搜播量\", \"拉新用户数\", \"拉活用户数\", \"分享率\", \"结算播放份额\", \"数据日期\"]","question":"播放量大于1万的歌曲有多少 (补充信息:。当前的日期是2023-07-31) ","sql":"SELECT 歌曲名 FROM 歌曲库 WHERE 结算播放量 > 10000"},{"dbSchema":"Table: 超音数产品, Columns = [\"部门\", \"模块\", \"用户名\", \"访问次数\", \"访问人数\", \"访问时长\", \"数据日期\"]","question":"超音数访问次数大于1k的部门是哪些 (补充信息:。当前的日期是2023-09-14) ","sql":"SELECT 部门 FROM 超音数产品 WHERE 访问次数 > 1000"}],"sqlWeight":1.0}}}}},"sqlInfo":{"s2SQL":"SELECT SUM(访问次数) FROM 超音数数据集","correctS2SQL":"SELECT SUM(访问次数) FROM 超音数数据集 WHERE (数据日期 >= '2024-07-31' AND 数据日期 <= '2024-08-06')","querySQL":"with t_1 as (SELECT `imp_date` AS `sys_imp_date`, SUM(1) AS `pv`\r\nFROM\r\ns2_pv_uv_statis\r\nGROUP BY `imp_date`, `imp_date`)\nSELECT SUM(pv) FROM t_1 WHERE (sys_imp_date >= '2024-07-31' AND sys_imp_date <= '2024-08-06') limit 1000","sourceId":"1"},"sqlEvaluation":{},"queryType":"METRIC","textInfo":"**数据集:** 超音数数据集 **指标:** 访问次数 \n\n**筛选条件:** \n**数据时间:** 2024-07-31~2024-08-06 ","dataSetId":1},"queryResults":[{}],"textResult":"| 访问次数 |\n|:---:|\n|  |\n","queryTimeCost":489,"recommendedDimensions":[{"dataSet":1,"dataSetName":"超音数数据集","model":1,"id":2,"name":"用户","bizName":"user_name","useCnt":0,"type":"DIMENSION","alias":[],"schemaValueMaps":[],"order":0.0,"isTag":0,"description":"用户"},{"dataSet":1,"dataSetName":"超音数数据集","model":1,"id":1,"name":"部门","bizName":"department","useCnt":0,"type":"DIMENSION","alias":[],"schemaValueMaps":[],"order":0.0,"isTag":1,"description":""}],"aggregateInfo":{"metricInfos":[]}}(String), [](String), {"parseStartTime":1723013824592,"parseTime":15366,"sqlTime":2340}(String), 81(Long)
14:57:23 [http-nio-9080-exec-6] DEBUG c.t.s.c.s.p.m.C.updateById 135 - <==    Updates: 1
14:57:23 [http-nio-9080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@28b26817]
14:57:23 [http-nio-9080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:57:23 [http-nio-9080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@53663ff5] was not registered for synchronization because synchronization is not active
14:57:23 [http-nio-9080-exec-6] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:57:23 [http-nio-9080-exec-6] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@fb920f5] will not be managed by Spring
14:57:23 [http-nio-9080-exec-6] DEBUG c.t.s.c.s.p.m.C.updateLastQuestion 135 - ==>  Preparing: update s2_chat set last_question = ?, last_time = ? where chat_id = ?
14:57:23 [http-nio-9080-exec-6] DEBUG c.t.s.c.s.p.m.C.updateLastQuestion 135 - ==> Parameters: 超音速对比所有人访问次数(String), 2024-08-07 14:57:23(String), 1(Long)
14:57:23 [http-nio-9080-exec-6] DEBUG c.t.s.c.s.p.m.C.updateLastQuestion 135 - <==    Updates: 1
14:57:23 [http-nio-9080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@53663ff5]
14:57:23 [http-nio-9080-exec-6] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor 268 - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
14:57:23 [http-nio-9080-exec-6] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor 91 - Writing [ResultData(code=200, msg=success, data=QueryResult(queryId=null, queryMode=LLM_S2SQL, querySql=with  (truncated)...]
14:57:23 [http-nio-9080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet 1131 - Completed 200 OK
14:57:23 [http-nio-9080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet 91 - GET "/api/chat/manage/getAll?agentId=1", parameters={masked}
14:57:23 [http-nio-9080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping 522 - Mapped to com.tencent.supersonic.chat.server.rest.ChatController#getAllConversions(Integer, HttpServletRequest, HttpServletResponse)
14:57:23 [http-nio-9080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:57:23 [http-nio-9080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@791c9cb9] was not registered for synchronization because synchronization is not active
14:57:23 [http-nio-9080-exec-5] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:57:23 [http-nio-9080-exec-5] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@fb920f5] will not be managed by Spring
14:57:23 [http-nio-9080-exec-5] DEBUG c.t.s.c.p.m.S.selectList 135 - ==>  Preparing: SELECT id,parameters,admin FROM s2_system_config
14:57:23 [http-nio-9080-exec-5] DEBUG c.t.s.c.p.m.S.selectList 135 - ==> Parameters: 
14:57:23 [http-nio-9080-exec-5] DEBUG c.t.s.c.p.m.S.selectList 135 - <==      Total: 1
14:57:23 [http-nio-9080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@791c9cb9]
14:57:23 [http-nio-9080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
14:57:23 [http-nio-9080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils 49 - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@39a49356] was not registered for synchronization because synchronization is not active
14:57:23 [http-nio-9080-exec-5] DEBUG o.s.jdbc.datasource.DataSourceUtils 115 - Fetching JDBC Connection from DataSource
14:57:23 [http-nio-9080-exec-5] DEBUG o.m.s.t.SpringManagedTransaction 49 - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@fb920f5] will not be managed by Spring
14:57:23 [http-nio-9080-exec-5] DEBUG c.t.s.c.s.p.mapper.ChatMapper.getAll 135 - ==>  Preparing: select * from s2_chat where creator = ? and is_delete = 0 and agent_id = ? order by is_top desc, last_time desc
14:57:23 [http-nio-9080-exec-5] DEBUG c.t.s.c.s.p.mapper.ChatMapper.getAll 135 - ==> Parameters: admin(String), 1(Integer)
14:57:23 [http-nio-9080-exec-5] DEBUG c.t.s.c.s.p.mapper.ChatMapper.getAll 135 - <==      Total: 1
14:57:23 [http-nio-9080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@39a49356]
14:57:23 [http-nio-9080-exec-5] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor 268 - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
14:57:23 [http-nio-9080-exec-5] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor 91 - Writing [ResultData(code=200, msg=success, data=[ChatDO(chatId=1, agentId=1, chatName=样例对话1, createTime=2024- (truncated)...]
14:57:23 [http-nio-9080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet 1131 - Completed 200 OK
14:58:00 [scheduling-1] DEBUG c.t.s.h.s.task.DictionaryReloadTask 39 - reloadKnowledge start

```

### 日志关键节点及分析

### 关键节点一：SQL转化为RelNode

```
14:57:22 [http-nio-9080-exec-2] DEBUG org.apache.calcite.sql2rel 628 - Plan after converting SqlNode to RelNode
LogicalProject(sys_imp_date=[$4], pv=[1])
  LogicalTableScan(table=[[s2_pv_uv_statis]])
```

- **分析**：这一步表示将SQL节点转化为关系节点（RelNode）的过程。`LogicalProject`节点从`s2_pv_uv_statis`表中选择并投影列，转换后的计划展示了系统如何从数据表中提取信息。

### 关键节点二：RelNode优化

```
14:57:22 [http-nio-9080-exec-2] DEBUG c.t.s.h.c.t.c.sql.node.SemanticNode 423 - RelNode optimize SELECT `imp_date` AS `sys_imp_date`, 1 AS `pv`
FROM s2_pv_uv_statis
```

- **分析**：这一步通过语义节点优化RelNode的选择查询，进一步优化了从`s2_pv_uv_statis`表中提取的列和数据。

### 关键节点三：HepPlanner规则执行总结

```
14:57:22 [http-nio-9080-exec-2] DEBUG o.a.c.p.A.rule_execution_summary 300 - Rule Attempts Info for HepPlanner
14:57:22 [http-nio-9080-exec-2] DEBUG o.a.c.p.A.rule_execution_summary 301 -
Rules                                                                   Attempts           Time (us)
* Total                                                                        0                   0
```

- **分析**：这里显示了HepPlanner在优化计划时所应用的规则及尝试的次数。结果表明没有应用任何规则，这可能是因为查询已经是最优的，或是没有匹配的优化规则。

### 关键节点四：转换后的计划展示

```
14:57:22 [http-nio-9080-exec-2] DEBUG org.apache.calcite.sql2rel 628 - Plan after converting SqlNode to RelNode
LogicalSort(fetch=[365])
  LogicalAggregate(group=[{0}], pv=[SUM($1)])
    LogicalFilter(condition=[AND(>=($0, _UTF-8'2024-07-08'), <=($0, _UTF-8'2024-08-06'))])
      LogicalProject(sys_imp_date=[$4], pv=[1])
        LogicalTableScan(table=[[s2_pv_uv_statis]])
```

- **分析**：转换后的计划详细展示了执行查询的步骤，包括排序、聚合、过滤和投影操作。这些操作是查询执行过程中的关键步骤，用于从表中提取和处理数据。

### 关键节点五：创建新的SqlSession

```
14:57:22 [http-nio-9080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Creating a new SqlSession
```

- **分析**：这一步是通过MyBatis框架创建一个新的SqlSession来执行SQL操作。创建新的会话有助于确保数据库操作的独立性和数据的一致性。

### 关键节点六：执行具体的SQL查询

```
14:57:22 [http-nio-9080-exec-6] INFO  c.t.s.h.core.executor.JdbcExecutor 41 - executing SQL: with t_1 as (SELECT `imp_date` AS `sys_imp_date`, SUM(1) AS `pv` FROM s2_pv_uv_statis GROUP BY `imp_date`, `imp_date`) SELECT SUM(pv) FROM t_1 WHERE (sys_imp_date >= '2024-07-31' AND sys_imp_date <= '2024-08-06') limit 1000
```

- **分析**：这一步执行了一个具体的SQL查询。首先，创建一个临时表`t_1`，从`s2_pv_uv_statis`表中选择并聚合数据，然后在指定日期范围内对临时表的数据进行筛选和统计。

### 关键节点七：日志信息记录

```
14:57:22 [http-nio-9080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils 49 - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@373ee51a]
```

- **分析**：在执行完SQL查询后，关闭非事务性的SqlSession。这一步有助于释放资源，确保数据库连接的有效管理。

### 关键节点八：查询结果的缓存

```
14:57:22 [ForkJoinPool.commonPool-worker-20] DEBUG c.t.s.h.c.cache.CaffeineCacheManager 25 - [put caffeineCache] key:supersonic:dev:0:-1:f7b1b5e688abc7568ab130888606780a, value:SemanticQueryResp(columns=[QueryColumn(name=访问次数, type=DECIMAL, nameEn=SUM(pv), showType=NUMBER, authorized=true, dataFormatType=null, dataFormat=null, comment=null)], sql=with t_1 as (SELECT `imp_date` AS `sys_imp_date`, SUM(1) AS `pv` FROM s2_pv_uv_statis GROUP BY `imp_date`, `imp_date`) SELECT SUM(pv) FROM t_1 WHERE (sys_imp_date >= '2024-07-31' AND sys_imp_date <= '2024-08-06') limit 1000, queryAuthorization=null, useCache=false)
```

- **分析**：这一步将查询结果存入缓存中，以便后续相同查询可以直接从缓存中获取结果，提高查询效率和系统性能。

## 不同线程解释：

### ForkJoinPool

日志中出现的 `[ForkJoinPool.commonPool-worker-20]` 指的是 Java 的 ForkJoinPool 默认线程池中的一个工作线程。在 Java 中，`ForkJoinPool` 是一个专门设计来支持分而治之（Divide-and-Conquer）算法的高效并行线程池。`commonPool` 是 `ForkJoinPool` 的一个静态共享实例，被 JVM 中的各种部分和库用来执行并行任务。

具体来说，`ForkJoinPool.commonPool-worker-20` 表示这是 `commonPool` 中编号为20的工作线程。这种线程常用于执行不需要响应用户交互的后台任务，比如数据库操作、文件读写等。在你提供的日志中，这个线程被用于执行数据库的 SQL 操作，这可能是因为应用程序设计为使用并行处理来提高数据库操作的效率。

出现这样的日志表明：

1. 应用程序可能在使用异步或并行处理来优化性能。
2. 数据库操作（如查询和更新）被分派到了不同的线程执行，这有助于提高处理速度和应用程序的响应能力。

### scheduling

这里的`scheduling-1`通常是指在应用程序中配置的用于执行定时任务（scheduled tasks）的线程。线程名前的`scheduling`提示这可能是用于处理计划内或周期性执行的任务，如定时数据库维护、定期清理日志、执行定时统计等。

在多线程应用程序中，通常会有特定的线程或线程池负责不同类型的任务，以提高效率并避免主线程（处理用户交互的线程）被长时间占用。`scheduling-1`可能是一个专门的后台线程，用于确保计划任务按时执行，不影响应用程序的主要功能。

### http

**`[http-nio-9080-exec-6]`**: 这是线程名称，包含以下部分：

- **`http`**: 表示该线程与HTTP请求处理相关。
- **`nio`**: 表示该线程使用了NIO（Non-blocking I/O）模式，这是一种Java中的I/O处理机制，通常用于处理大量并发连接。
- **`9080`**: 表示该线程正在监听的端口号。在这里是9080端口，这个端口通常用于HTTP服务。
- **`exec-6`**: 表示这是执行线程池中的第6个线程（线程池中可能有多个类似的线程，编号从1开始）。

这个线程是由应用服务器（例如Tomcat）创建并用于处理HTTP请求的。在Tomcat中，`http-nio`指的是使用NIO模式的HTTP连接器。`exec-6`表示这是线程池中的第6个工作线程。Tomcat使用线程池来处理并发的HTTP请求，以提高处理效率和响应速度。

简而言之，这个线程正在处理通过端口9080发来的HTTP请求，并且它是服务器线程池中编号为6的线程。