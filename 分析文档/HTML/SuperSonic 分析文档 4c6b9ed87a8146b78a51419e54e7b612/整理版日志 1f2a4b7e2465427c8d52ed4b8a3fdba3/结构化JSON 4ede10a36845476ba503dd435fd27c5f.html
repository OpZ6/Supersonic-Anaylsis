<html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"/><title>结构化JSON</title><style>
/* cspell:disable-file */
/* webkit printing magic: print all background colors */
html {
	-webkit-print-color-adjust: exact;
}
* {
	box-sizing: border-box;
	-webkit-print-color-adjust: exact;
}

html,
body {
	margin: 0;
	padding: 0;
}
@media only screen {
	body {
		margin: 2em auto;
		max-width: 900px;
		color: rgb(55, 53, 47);
	}
}

body {
	line-height: 1.5;
	white-space: pre-wrap;
}

a,
a.visited {
	color: inherit;
	text-decoration: underline;
}

.pdf-relative-link-path {
	font-size: 80%;
	color: #444;
}

h1,
h2,
h3 {
	letter-spacing: -0.01em;
	line-height: 1.2;
	font-weight: 600;
	margin-bottom: 0;
}

.page-title {
	font-size: 2.5rem;
	font-weight: 700;
	margin-top: 0;
	margin-bottom: 0.75em;
}

h1 {
	font-size: 1.875rem;
	margin-top: 1.875rem;
}

h2 {
	font-size: 1.5rem;
	margin-top: 1.5rem;
}

h3 {
	font-size: 1.25rem;
	margin-top: 1.25rem;
}

.source {
	border: 1px solid #ddd;
	border-radius: 3px;
	padding: 1.5em;
	word-break: break-all;
}

.callout {
	border-radius: 3px;
	padding: 1rem;
}

figure {
	margin: 1.25em 0;
	page-break-inside: avoid;
}

figcaption {
	opacity: 0.5;
	font-size: 85%;
	margin-top: 0.5em;
}

mark {
	background-color: transparent;
}

.indented {
	padding-left: 1.5em;
}

hr {
	background: transparent;
	display: block;
	width: 100%;
	height: 1px;
	visibility: visible;
	border: none;
	border-bottom: 1px solid rgba(55, 53, 47, 0.09);
}

img {
	max-width: 100%;
}

@media only print {
	img {
		max-height: 100vh;
		object-fit: contain;
	}
}

@page {
	margin: 1in;
}

.collection-content {
	font-size: 0.875rem;
}

.column-list {
	display: flex;
	justify-content: space-between;
}

.column {
	padding: 0 1em;
}

.column:first-child {
	padding-left: 0;
}

.column:last-child {
	padding-right: 0;
}

.table_of_contents-item {
	display: block;
	font-size: 0.875rem;
	line-height: 1.3;
	padding: 0.125rem;
}

.table_of_contents-indent-1 {
	margin-left: 1.5rem;
}

.table_of_contents-indent-2 {
	margin-left: 3rem;
}

.table_of_contents-indent-3 {
	margin-left: 4.5rem;
}

.table_of_contents-link {
	text-decoration: none;
	opacity: 0.7;
	border-bottom: 1px solid rgba(55, 53, 47, 0.18);
}

table,
th,
td {
	border: 1px solid rgba(55, 53, 47, 0.09);
	border-collapse: collapse;
}

table {
	border-left: none;
	border-right: none;
}

th,
td {
	font-weight: normal;
	padding: 0.25em 0.5em;
	line-height: 1.5;
	min-height: 1.5em;
	text-align: left;
}

th {
	color: rgba(55, 53, 47, 0.6);
}

ol,
ul {
	margin: 0;
	margin-block-start: 0.6em;
	margin-block-end: 0.6em;
}

li > ol:first-child,
li > ul:first-child {
	margin-block-start: 0.6em;
}

ul > li {
	list-style: disc;
}

ul.to-do-list {
	padding-inline-start: 0;
}

ul.to-do-list > li {
	list-style: none;
}

.to-do-children-checked {
	text-decoration: line-through;
	opacity: 0.375;
}

ul.toggle > li {
	list-style: none;
}

ul {
	padding-inline-start: 1.7em;
}

ul > li {
	padding-left: 0.1em;
}

ol {
	padding-inline-start: 1.6em;
}

ol > li {
	padding-left: 0.2em;
}

.mono ol {
	padding-inline-start: 2em;
}

.mono ol > li {
	text-indent: -0.4em;
}

.toggle {
	padding-inline-start: 0em;
	list-style-type: none;
}

/* Indent toggle children */
.toggle > li > details {
	padding-left: 1.7em;
}

.toggle > li > details > summary {
	margin-left: -1.1em;
}

.selected-value {
	display: inline-block;
	padding: 0 0.5em;
	background: rgba(206, 205, 202, 0.5);
	border-radius: 3px;
	margin-right: 0.5em;
	margin-top: 0.3em;
	margin-bottom: 0.3em;
	white-space: nowrap;
}

.collection-title {
	display: inline-block;
	margin-right: 1em;
}

.page-description {
    margin-bottom: 2em;
}

.simple-table {
	margin-top: 1em;
	font-size: 0.875rem;
	empty-cells: show;
}
.simple-table td {
	height: 29px;
	min-width: 120px;
}

.simple-table th {
	height: 29px;
	min-width: 120px;
}

.simple-table-header-color {
	background: rgb(247, 246, 243);
	color: black;
}
.simple-table-header {
	font-weight: 500;
}

time {
	opacity: 0.5;
}

.icon {
	display: inline-block;
	max-width: 1.2em;
	max-height: 1.2em;
	text-decoration: none;
	vertical-align: text-bottom;
	margin-right: 0.5em;
}

img.icon {
	border-radius: 3px;
}

.user-icon {
	width: 1.5em;
	height: 1.5em;
	border-radius: 100%;
	margin-right: 0.5rem;
}

.user-icon-inner {
	font-size: 0.8em;
}

.text-icon {
	border: 1px solid #000;
	text-align: center;
}

.page-cover-image {
	display: block;
	object-fit: cover;
	width: 100%;
	max-height: 30vh;
}

.page-header-icon {
	font-size: 3rem;
	margin-bottom: 1rem;
}

.page-header-icon-with-cover {
	margin-top: -0.72em;
	margin-left: 0.07em;
}

.page-header-icon img {
	border-radius: 3px;
}

.link-to-page {
	margin: 1em 0;
	padding: 0;
	border: none;
	font-weight: 500;
}

p > .user {
	opacity: 0.5;
}

td > .user,
td > time {
	white-space: nowrap;
}

input[type="checkbox"] {
	transform: scale(1.5);
	margin-right: 0.6em;
	vertical-align: middle;
}

p {
	margin-top: 0.5em;
	margin-bottom: 0.5em;
}

.image {
	border: none;
	margin: 1.5em 0;
	padding: 0;
	border-radius: 0;
	text-align: center;
}

.code,
code {
	background: rgba(135, 131, 120, 0.15);
	border-radius: 3px;
	padding: 0.2em 0.4em;
	border-radius: 3px;
	font-size: 85%;
	tab-size: 2;
}

code {
	color: #eb5757;
}

.code {
	padding: 1.5em 1em;
}

.code-wrap {
	white-space: pre-wrap;
	word-break: break-all;
}

.code > code {
	background: none;
	padding: 0;
	font-size: 100%;
	color: inherit;
}

blockquote {
	font-size: 1.25em;
	margin: 1em 0;
	padding-left: 1em;
	border-left: 3px solid rgb(55, 53, 47);
}

.bookmark {
	text-decoration: none;
	max-height: 8em;
	padding: 0;
	display: flex;
	width: 100%;
	align-items: stretch;
}

.bookmark-title {
	font-size: 0.85em;
	overflow: hidden;
	text-overflow: ellipsis;
	height: 1.75em;
	white-space: nowrap;
}

.bookmark-text {
	display: flex;
	flex-direction: column;
}

.bookmark-info {
	flex: 4 1 180px;
	padding: 12px 14px 14px;
	display: flex;
	flex-direction: column;
	justify-content: space-between;
}

.bookmark-image {
	width: 33%;
	flex: 1 1 180px;
	display: block;
	position: relative;
	object-fit: cover;
	border-radius: 1px;
}

.bookmark-description {
	color: rgba(55, 53, 47, 0.6);
	font-size: 0.75em;
	overflow: hidden;
	max-height: 4.5em;
	word-break: break-word;
}

.bookmark-href {
	font-size: 0.75em;
	margin-top: 0.25em;
}

.sans { font-family: ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI Variable Display", "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol"; }
.code { font-family: "SFMono-Regular", Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace; }
.serif { font-family: Lyon-Text, Georgia, ui-serif, serif; }
.mono { font-family: iawriter-mono, Nitti, Menlo, Courier, monospace; }
.pdf .sans { font-family: Inter, ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI Variable Display", "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol", 'Twemoji', 'Noto Color Emoji', 'Noto Sans CJK JP'; }
.pdf:lang(zh-CN) .sans { font-family: Inter, ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI Variable Display", "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol", 'Twemoji', 'Noto Color Emoji', 'Noto Sans CJK SC'; }
.pdf:lang(zh-TW) .sans { font-family: Inter, ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI Variable Display", "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol", 'Twemoji', 'Noto Color Emoji', 'Noto Sans CJK TC'; }
.pdf:lang(ko-KR) .sans { font-family: Inter, ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI Variable Display", "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol", 'Twemoji', 'Noto Color Emoji', 'Noto Sans CJK KR'; }
.pdf .code { font-family: Source Code Pro, "SFMono-Regular", Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK JP'; }
.pdf:lang(zh-CN) .code { font-family: Source Code Pro, "SFMono-Regular", Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK SC'; }
.pdf:lang(zh-TW) .code { font-family: Source Code Pro, "SFMono-Regular", Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK TC'; }
.pdf:lang(ko-KR) .code { font-family: Source Code Pro, "SFMono-Regular", Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK KR'; }
.pdf .serif { font-family: PT Serif, Lyon-Text, Georgia, ui-serif, serif, 'Twemoji', 'Noto Color Emoji', 'Noto Serif CJK JP'; }
.pdf:lang(zh-CN) .serif { font-family: PT Serif, Lyon-Text, Georgia, ui-serif, serif, 'Twemoji', 'Noto Color Emoji', 'Noto Serif CJK SC'; }
.pdf:lang(zh-TW) .serif { font-family: PT Serif, Lyon-Text, Georgia, ui-serif, serif, 'Twemoji', 'Noto Color Emoji', 'Noto Serif CJK TC'; }
.pdf:lang(ko-KR) .serif { font-family: PT Serif, Lyon-Text, Georgia, ui-serif, serif, 'Twemoji', 'Noto Color Emoji', 'Noto Serif CJK KR'; }
.pdf .mono { font-family: PT Mono, iawriter-mono, Nitti, Menlo, Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK JP'; }
.pdf:lang(zh-CN) .mono { font-family: PT Mono, iawriter-mono, Nitti, Menlo, Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK SC'; }
.pdf:lang(zh-TW) .mono { font-family: PT Mono, iawriter-mono, Nitti, Menlo, Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK TC'; }
.pdf:lang(ko-KR) .mono { font-family: PT Mono, iawriter-mono, Nitti, Menlo, Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK KR'; }
.highlight-default {
	color: rgba(55, 53, 47, 1);
}
.highlight-gray {
	color: rgba(120, 119, 116, 1);
	fill: rgba(120, 119, 116, 1);
}
.highlight-brown {
	color: rgba(159, 107, 83, 1);
	fill: rgba(159, 107, 83, 1);
}
.highlight-orange {
	color: rgba(217, 115, 13, 1);
	fill: rgba(217, 115, 13, 1);
}
.highlight-yellow {
	color: rgba(203, 145, 47, 1);
	fill: rgba(203, 145, 47, 1);
}
.highlight-teal {
	color: rgba(68, 131, 97, 1);
	fill: rgba(68, 131, 97, 1);
}
.highlight-blue {
	color: rgba(51, 126, 169, 1);
	fill: rgba(51, 126, 169, 1);
}
.highlight-purple {
	color: rgba(144, 101, 176, 1);
	fill: rgba(144, 101, 176, 1);
}
.highlight-pink {
	color: rgba(193, 76, 138, 1);
	fill: rgba(193, 76, 138, 1);
}
.highlight-red {
	color: rgba(212, 76, 71, 1);
	fill: rgba(212, 76, 71, 1);
}
.highlight-default_background {
	color: rgba(55, 53, 47, 1);
}
.highlight-gray_background {
	background: rgba(241, 241, 239, 1);
}
.highlight-brown_background {
	background: rgba(244, 238, 238, 1);
}
.highlight-orange_background {
	background: rgba(251, 236, 221, 1);
}
.highlight-yellow_background {
	background: rgba(251, 237, 214, 1);
}
.highlight-teal_background {
	background: rgba(237, 243, 236, 1);
}
.highlight-blue_background {
	background: rgba(231, 243, 248, 1);
}
.highlight-purple_background {
	background: rgba(244, 240, 247, 0.8);
}
.highlight-pink_background {
	background: rgba(249, 238, 243, 0.8);
}
.highlight-red_background {
	background: rgba(253, 235, 236, 1);
}
.block-color-default {
	color: inherit;
	fill: inherit;
}
.block-color-gray {
	color: rgba(120, 119, 116, 1);
	fill: rgba(120, 119, 116, 1);
}
.block-color-brown {
	color: rgba(159, 107, 83, 1);
	fill: rgba(159, 107, 83, 1);
}
.block-color-orange {
	color: rgba(217, 115, 13, 1);
	fill: rgba(217, 115, 13, 1);
}
.block-color-yellow {
	color: rgba(203, 145, 47, 1);
	fill: rgba(203, 145, 47, 1);
}
.block-color-teal {
	color: rgba(68, 131, 97, 1);
	fill: rgba(68, 131, 97, 1);
}
.block-color-blue {
	color: rgba(51, 126, 169, 1);
	fill: rgba(51, 126, 169, 1);
}
.block-color-purple {
	color: rgba(144, 101, 176, 1);
	fill: rgba(144, 101, 176, 1);
}
.block-color-pink {
	color: rgba(193, 76, 138, 1);
	fill: rgba(193, 76, 138, 1);
}
.block-color-red {
	color: rgba(212, 76, 71, 1);
	fill: rgba(212, 76, 71, 1);
}
.block-color-default_background {
	color: inherit;
	fill: inherit;
}
.block-color-gray_background {
	background: rgba(241, 241, 239, 1);
}
.block-color-brown_background {
	background: rgba(244, 238, 238, 1);
}
.block-color-orange_background {
	background: rgba(251, 236, 221, 1);
}
.block-color-yellow_background {
	background: rgba(251, 237, 214, 1);
}
.block-color-teal_background {
	background: rgba(237, 243, 236, 1);
}
.block-color-blue_background {
	background: rgba(231, 243, 248, 1);
}
.block-color-purple_background {
	background: rgba(244, 240, 247, 0.8);
}
.block-color-pink_background {
	background: rgba(249, 238, 243, 0.8);
}
.block-color-red_background {
	background: rgba(253, 235, 236, 1);
}
.select-value-color-uiBlue { background-color: rgba(35, 131, 226, .07); }
.select-value-color-pink { background-color: rgba(245, 224, 233, 1); }
.select-value-color-purple { background-color: rgba(232, 222, 238, 1); }
.select-value-color-green { background-color: rgba(219, 237, 219, 1); }
.select-value-color-gray { background-color: rgba(227, 226, 224, 1); }
.select-value-color-transparentGray { background-color: rgba(227, 226, 224, 0); }
.select-value-color-translucentGray { background-color: rgba(0, 0, 0, 0.06); }
.select-value-color-orange { background-color: rgba(250, 222, 201, 1); }
.select-value-color-brown { background-color: rgba(238, 224, 218, 1); }
.select-value-color-red { background-color: rgba(255, 226, 221, 1); }
.select-value-color-yellow { background-color: rgba(249, 228, 188, 1); }
.select-value-color-blue { background-color: rgba(211, 229, 239, 1); }
.select-value-color-pageGlass { background-color: undefined; }
.select-value-color-washGlass { background-color: undefined; }

.checkbox {
	display: inline-flex;
	vertical-align: text-bottom;
	width: 16;
	height: 16;
	background-size: 16px;
	margin-left: 2px;
	margin-right: 5px;
}

.checkbox-on {
	background-image: url("data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D%2216%22%20height%3D%2216%22%20viewBox%3D%220%200%2016%2016%22%20fill%3D%22none%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%0A%3Crect%20width%3D%2216%22%20height%3D%2216%22%20fill%3D%22%2358A9D7%22%2F%3E%0A%3Cpath%20d%3D%22M6.71429%2012.2852L14%204.9995L12.7143%203.71436L6.71429%209.71378L3.28571%206.2831L2%207.57092L6.71429%2012.2852Z%22%20fill%3D%22white%22%2F%3E%0A%3C%2Fsvg%3E");
}

.checkbox-off {
	background-image: url("data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D%2216%22%20height%3D%2216%22%20viewBox%3D%220%200%2016%2016%22%20fill%3D%22none%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%0A%3Crect%20x%3D%220.75%22%20y%3D%220.75%22%20width%3D%2214.5%22%20height%3D%2214.5%22%20fill%3D%22white%22%20stroke%3D%22%2336352F%22%20stroke-width%3D%221.5%22%2F%3E%0A%3C%2Fsvg%3E");
}
	
</style></head><body><article id="4ede10a3-6845-476b-a503-dd435fd27c5f" class="page sans"><header><h1 class="page-title">结构化JSON</h1><p class="page-description"></p></header><div class="page-body"><h2 id="e1affa03-b828-4a7e-83ac-a7ee8cd2a09b" class=""><mark class="highlight-default">14:57:06 [http-nio-9080-exec-2] DEBUG c.t.s.h.s.w.s.i.WorkflowServiceImpl 67 - RuleSqlParser result:</mark></h2><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="213d4a7c-c7ed-4300-8739-f7a982684853" class="code"><code class="language-JSON" style="white-space:pre-wrap;word-break:break-all">{
  &quot;queryText&quot;: &quot;超音速对比所有人访问次数&quot;,
  &quot;chatId&quot;: 1,
  &quot;dataSetIds&quot;: [],
  &quot;modelIdToDataSetIds&quot;: { &quot;1&quot;: [1], &quot;2&quot;: [1], &quot;3&quot;: [1], &quot;4&quot;: [2] },
  &quot;user&quot;: {
    &quot;id&quot;: 6,
    &quot;name&quot;: &quot;admin&quot;,
    &quot;displayName&quot;: &quot;admin&quot;,
    &quot;email&quot;: &quot;null&quot;,
    &quot;isAdmin&quot;: 1,
    &quot;superAdmin&quot;: true
  },
  &quot;saveAnswer&quot;: true,
  &quot;text2SQLType&quot;: &quot;RULE_AND_LLM&quot;,
  &quot;candidateQueries&quot;: [
    {
      &quot;parseInfo&quot;: {
        &quot;queryMode&quot;: &quot;METRIC_GROUPBY&quot;,
        &quot;dataSet&quot;: {
          &quot;dataSet&quot;: 1,
          &quot;dataSetName&quot;: &quot;超音数数据集&quot;,
          &quot;id&quot;: 1,
          &quot;name&quot;: &quot;超音数数据集&quot;,
          &quot;bizName&quot;: &quot;s2&quot;,
          &quot;type&quot;: &quot;DATASET&quot;,
          &quot;order&quot;: 0.0,
          &quot;isTag&quot;: 0
        },
        &quot;metrics&quot;: [
          {
            &quot;dataSet&quot;: 1,
            &quot;dataSetName&quot;: &quot;超音数数据集&quot;,
            &quot;model&quot;: 2,
            &quot;id&quot;: 1,
            &quot;name&quot;: &quot;访问次数&quot;,
            &quot;bizName&quot;: &quot;pv&quot;,
            &quot;useCnt&quot;: 0,
            &quot;type&quot;: &quot;METRIC&quot;,
            &quot;alias&quot;: [],
            &quot;relatedSchemaElements&quot;: [
              { &quot;dimensionId&quot;: 1, &quot;necessary&quot;: false },
              { &quot;dimensionId&quot;: 2, &quot;necessary&quot;: false }
            ],
            &quot;defaultAgg&quot;: &quot;SUM&quot;,
            &quot;order&quot;: 0.0,
            &quot;isTag&quot;: 0,
            &quot;description&quot;: &quot;一段时间内用户的访问次数&quot;
          },
          {
            &quot;dataSet&quot;: 1,
            &quot;dataSetName&quot;: &quot;超音数数据集&quot;,
            &quot;model&quot;: 2,
            &quot;id&quot;: 4,
            &quot;name&quot;: &quot;人均访问次数&quot;,
            &quot;bizName&quot;: &quot;pv_avg&quot;,
            &quot;useCnt&quot;: 0,
            &quot;type&quot;: &quot;METRIC&quot;,
            &quot;alias&quot;: [&quot;平均访问次数&quot;],
            &quot;relatedSchemaElements&quot;: [{ &quot;dimensionId&quot;: 1, &quot;necessary&quot;: false }],
            &quot;defaultAgg&quot;: &quot;&quot;,
            &quot;order&quot;: 0.002841870251016343,
            &quot;isTag&quot;: 0,
            &quot;description&quot;: &quot;每个用户平均访问的次数&quot;
          },
          {
            &quot;dataSet&quot;: 1,
            &quot;dataSetName&quot;: &quot;超音数数据集&quot;,
            &quot;model&quot;: 2,
            &quot;id&quot;: 3,
            &quot;name&quot;: &quot;访问用户数&quot;,
            &quot;bizName&quot;: &quot;uv&quot;,
            &quot;useCnt&quot;: 0,
            &quot;type&quot;: &quot;METRIC&quot;,
            &quot;alias&quot;: [&quot;UV&quot;, &quot;访问人数&quot;],
            &quot;relatedSchemaElements&quot;: [{ &quot;dimensionId&quot;: 1, &quot;necessary&quot;: false }],
            &quot;defaultAgg&quot;: &quot;count&quot;,
            &quot;order&quot;: 0.004658766300494777,
            &quot;isTag&quot;: 0,
            &quot;description&quot;: &quot;访问的用户个数&quot;
          }
        ],
        &quot;dimensions&quot;: [
          {
            &quot;dataSet&quot;: 1,
            &quot;dataSetName&quot;: &quot;超音数数据集&quot;,
            &quot;model&quot;: 1,
            &quot;id&quot;: 1,
            &quot;name&quot;: &quot;部门&quot;,
            &quot;bizName&quot;: &quot;department&quot;,
            &quot;useCnt&quot;: 0,
            &quot;type&quot;: &quot;DIMENSION&quot;,
            &quot;alias&quot;: [],
            &quot;schemaValueMaps&quot;: [],
            &quot;order&quot;: 0.0,
            &quot;isTag&quot;: 1,
            &quot;description&quot;: &quot;&quot;
          }
        ],
        &quot;aggType&quot;: &quot;NONE&quot;,
        &quot;filterType&quot;: &quot;AND&quot;,
        &quot;dimensionFilters&quot;: [],
        &quot;metricFilters&quot;: [],
        &quot;orders&quot;: [],
        &quot;dateInfo&quot;: {
          &quot;dateMode&quot;: &quot;RECENT&quot;,
          &quot;startDate&quot;: &quot;2024-06-08&quot;,
          &quot;endDate&quot;: &quot;2024-07-07&quot;,
          &quot;dateList&quot;: [
            &quot;2024-06-08&quot;,
            &quot;2024-06-09&quot;,
            &quot;2024-06-10&quot;,
            &quot;2024-06-11&quot;,
            &quot;2024-06-12&quot;,
            &quot;2024-06-13&quot;,
            &quot;2024-06-14&quot;,
            &quot;2024-06-15&quot;,
            &quot;2024-06-16&quot;,
            &quot;2024-06-17&quot;,
            &quot;2024-06-18&quot;,
            &quot;2024-06-19&quot;,
            &quot;2024-06-20&quot;,
            &quot;2024-06-21&quot;,
            &quot;2024-06-22&quot;,
            &quot;2024-06-23&quot;,
            &quot;2024-06-24&quot;,
            &quot;2024-06-25&quot;,
            &quot;2024-06-26&quot;,
            &quot;2024-06-27&quot;,
            &quot;2024-06-28&quot;,
            &quot;2024-06-29&quot;,
            &quot;2024-06-30&quot;,
            &quot;2024-07-01&quot;,
            &quot;2024-07-02&quot;,
            &quot;2024-07-03&quot;,
            &quot;2024-07-04&quot;,
            &quot;2024-07-05&quot;,
            &quot;2024-07-06&quot;,
            &quot;2024-07-07&quot;
          ],
          &quot;unit&quot;: 30,
          &quot;period&quot;: &quot;DAY&quot;,
          &quot;detectWord&quot;: &quot;近30天&quot;,
          &quot;groupByDate&quot;: false,
          &quot;inherited&quot;: true,
          &quot;groupByTimeDimension&quot;: &quot;sys_imp_date&quot;
        },
        &quot;limit&quot;: 365,
        &quot;score&quot;: 6.0,
        &quot;elementMatches&quot;: [
          {
            &quot;element&quot;: {
              &quot;dataSet&quot;: 1,
              &quot;dataSetName&quot;: &quot;超音数数据集&quot;,
              &quot;model&quot;: 2,
              &quot;id&quot;: 1,
              &quot;name&quot;: &quot;访问次数&quot;,
              &quot;bizName&quot;: &quot;pv&quot;,
              &quot;useCnt&quot;: 0,
              &quot;type&quot;: &quot;METRIC&quot;,
              &quot;alias&quot;: [],
              &quot;relatedSchemaElements&quot;: [
                { &quot;dimensionId&quot;: 1, &quot;necessary&quot;: false },
                { &quot;dimensionId&quot;: 2, &quot;necessary&quot;: false }
              ],
              &quot;defaultAgg&quot;: &quot;SUM&quot;,
              &quot;order&quot;: 0.0,
              &quot;isTag&quot;: 0,
              &quot;description&quot;: &quot;一段时间内用户的访问次数&quot;
            },
            &quot;similarity&quot;: 1.0,
            &quot;detectWord&quot;: &quot;访问次数&quot;,
            &quot;word&quot;: &quot;访问次数&quot;,
            &quot;frequency&quot;: 100000,
            &quot;inherited&quot;: false
          },
          {
            &quot;element&quot;: {
              &quot;dataSet&quot;: 1,
              &quot;dataSetName&quot;: &quot;超音数数据集&quot;,
              &quot;model&quot;: 2,
              &quot;id&quot;: 4,
              &quot;name&quot;: &quot;人均访问次数&quot;,
              &quot;bizName&quot;: &quot;pv_avg&quot;,
              &quot;useCnt&quot;: 0,
              &quot;type&quot;: &quot;METRIC&quot;,
              &quot;alias&quot;: [&quot;平均访问次数&quot;],
              &quot;relatedSchemaElements&quot;: [
                { &quot;dimensionId&quot;: 1, &quot;necessary&quot;: false }
              ],
              &quot;defaultAgg&quot;: &quot;&quot;,
              &quot;order&quot;: 0.002841870251016343,
              &quot;isTag&quot;: 0,
              &quot;description&quot;: &quot;每个用户平均访问的次数&quot;
            },
            &quot;similarity&quot;: 0.9971581297489837,
            &quot;detectWord&quot;: &quot;人访问次数&quot;,
            &quot;word&quot;: &quot;人均访问次数&quot;,
            &quot;frequency&quot;: 100000,
            &quot;inherited&quot;: false
          },
          {
            &quot;element&quot;: {
              &quot;dataSet&quot;: 1,
              &quot;dataSetName&quot;: &quot;超音数数据集&quot;,
              &quot;model&quot;: 2,
              &quot;id&quot;: 3,
              &quot;name&quot;: &quot;访问用户数&quot;,
              &quot;bizName&quot;: &quot;uv&quot;,
              &quot;useCnt&quot;: 0,
              &quot;type&quot;: &quot;METRIC&quot;,
              &quot;alias&quot;: [&quot;UV&quot;, &quot;访问人数&quot;],
              &quot;relatedSchemaElements&quot;: [
                { &quot;dimensionId&quot;: 1, &quot;necessary&quot;: false }
              ],
              &quot;defaultAgg&quot;: &quot;count&quot;,
              &quot;order&quot;: 0.004658766300494777,
              &quot;isTag&quot;: 0,
              &quot;description&quot;: &quot;访问的用户个数&quot;
            },
            &quot;similarity&quot;: 0.9953412336995052,
            &quot;detectWord&quot;: &quot;访问次数&quot;,
            &quot;word&quot;: &quot;访问用户数&quot;,
            &quot;frequency&quot;: 100000,
            &quot;inherited&quot;: false
          },
          {
            &quot;element&quot;: {
              &quot;dataSet&quot;: 1,
              &quot;dataSetName&quot;: &quot;超音数数据集&quot;,
              &quot;model&quot;: 1,
              &quot;id&quot;: 1,
              &quot;name&quot;: &quot;部门&quot;,
              &quot;bizName&quot;: &quot;department&quot;,
              &quot;useCnt&quot;: 0,
              &quot;type&quot;: &quot;DIMENSION&quot;,
              &quot;alias&quot;: [],
              &quot;schemaValueMaps&quot;: [],
              &quot;order&quot;: 0.0,
              &quot;isTag&quot;: 1,
              &quot;description&quot;: &quot;&quot;
            },
            &quot;similarity&quot;: 1.0,
            &quot;detectWord&quot;: &quot;部门&quot;,
            &quot;word&quot;: &quot;部门&quot;,
            &quot;frequency&quot;: 100000,
            &quot;inherited&quot;: true
          }
        ],
        &quot;properties&quot;: {},
        &quot;sqlInfo&quot;: {},
        &quot;sqlEvaluation&quot;: {},
        &quot;queryType&quot;: &quot;ID&quot;,
        &quot;dataSetId&quot;: 1
      },
      &quot;queryMode&quot;: &quot;METRIC_GROUPBY&quot;
    },
    {
      &quot;parseInfo&quot;: {
        &quot;queryMode&quot;: &quot;METRIC_MODEL&quot;,
        &quot;dataSet&quot;: {
          &quot;dataSet&quot;: 1,
          &quot;dataSetName&quot;: &quot;超音数数据集&quot;,
          &quot;id&quot;: 1,
          &quot;name&quot;: &quot;超音数数据集&quot;,
          &quot;bizName&quot;: &quot;s2&quot;,
          &quot;type&quot;: &quot;DATASET&quot;,
          &quot;order&quot;: 0.0,
          &quot;isTag&quot;: 0
        },
        &quot;metrics&quot;: [
          {
            &quot;dataSet&quot;: 1,
            &quot;dataSetName&quot;: &quot;超音数数据集&quot;,
            &quot;model&quot;: 2,
            &quot;id&quot;: 1,
            &quot;name&quot;: &quot;访问次数&quot;,
            &quot;bizName&quot;: &quot;pv&quot;,
            &quot;useCnt&quot;: 0,
            &quot;type&quot;: &quot;METRIC&quot;,
            &quot;alias&quot;: [],
            &quot;relatedSchemaElements&quot;: [
              { &quot;dimensionId&quot;: 1, &quot;necessary&quot;: false },
              { &quot;dimensionId&quot;: 2, &quot;necessary&quot;: false }
            ],
            &quot;defaultAgg&quot;: &quot;SUM&quot;,
            &quot;order&quot;: 0.0,
            &quot;isTag&quot;: 0,
            &quot;description&quot;: &quot;一段时间内用户的访问次数&quot;
          },
          {
            &quot;dataSet&quot;: 1,
            &quot;dataSetName&quot;: &quot;超音数数据集&quot;,
            &quot;model&quot;: 2,
            &quot;id&quot;: 4,
            &quot;name&quot;: &quot;人均访问次数&quot;,
            &quot;bizName&quot;: &quot;pv_avg&quot;,
            &quot;useCnt&quot;: 0,
            &quot;type&quot;: &quot;METRIC&quot;,
            &quot;alias&quot;: [&quot;平均访问次数&quot;],
            &quot;relatedSchemaElements&quot;: [{ &quot;dimensionId&quot;: 1, &quot;necessary&quot;: false }],
            &quot;defaultAgg&quot;: &quot;&quot;,
            &quot;order&quot;: 0.002841870251016343,
            &quot;isTag&quot;: 0,
            &quot;description&quot;: &quot;每个用户平均访问的次数&quot;
          },
          {
            &quot;dataSet&quot;: 1,
            &quot;dataSetName&quot;: &quot;超音数数据集&quot;,
            &quot;model&quot;: 2,
            &quot;id&quot;: 3,
            &quot;name&quot;: &quot;访问用户数&quot;,
            &quot;bizName&quot;: &quot;uv&quot;,
            &quot;useCnt&quot;: 0,
            &quot;type&quot;: &quot;METRIC&quot;,
            &quot;alias&quot;: [&quot;UV&quot;, &quot;访问人数&quot;],
            &quot;relatedSchemaElements&quot;: [{ &quot;dimensionId&quot;: 1, &quot;necessary&quot;: false }],
            &quot;defaultAgg&quot;: &quot;count&quot;,
            &quot;order&quot;: 0.004658766300494777,
            &quot;isTag&quot;: 0,
            &quot;description&quot;: &quot;访问的用户个数&quot;
          }
        ],
        &quot;dimensions&quot;: [],
        &quot;aggType&quot;: &quot;NONE&quot;,
        &quot;filterType&quot;: &quot;AND&quot;,
        &quot;dimensionFilters&quot;: [],
        &quot;metricFilters&quot;: [],
        &quot;orders&quot;: [],
        &quot;dateInfo&quot;: {
          &quot;dateMode&quot;: &quot;RECENT&quot;,
          &quot;startDate&quot;: &quot;2024-06-08&quot;,
          &quot;endDate&quot;: &quot;2024-07-07&quot;,
          &quot;dateList&quot;: [
            &quot;2024-06-08&quot;,
            &quot;2024-06-09&quot;,
            &quot;2024-06-10&quot;,
            &quot;2024-06-11&quot;,
            &quot;2024-06-12&quot;,
            &quot;2024-06-13&quot;,
            &quot;2024-06-14&quot;,
            &quot;2024-06-15&quot;,
            &quot;2024-06-16&quot;,
            &quot;2024-06-17&quot;,
            &quot;2024-06-18&quot;,
            &quot;2024-06-19&quot;,
            &quot;2024-06-20&quot;,
            &quot;2024-06-21&quot;,
            &quot;2024-06-22&quot;,
            &quot;2024-06-23&quot;,
            &quot;2024-06-24&quot;,
            &quot;2024-06-25&quot;,
            &quot;2024-06-26&quot;,
            &quot;2024-06-27&quot;,
            &quot;2024-06-28&quot;,
            &quot;2024-06-29&quot;,
            &quot;2024-06-30&quot;,
            &quot;2024-07-01&quot;,
            &quot;2024-07-02&quot;,
            &quot;2024-07-03&quot;,
            &quot;2024-07-04&quot;,
            &quot;2024-07-05&quot;,
            &quot;2024-07-06&quot;,
            &quot;2024-07-07&quot;
          ],
          &quot;unit&quot;: 30,
          &quot;period&quot;: &quot;DAY&quot;,
          &quot;detectWord&quot;: &quot;近30天&quot;,
          &quot;groupByDate&quot;: false,
          &quot;inherited&quot;: true,
          &quot;groupByTimeDimension&quot;: &quot;sys_imp_date&quot;
        },
        &quot;limit&quot;: 365,
        &quot;score&quot;: 4.0,
        &quot;elementMatches&quot;: [
          {
            &quot;element&quot;: {
              &quot;dataSet&quot;: 1,
              &quot;dataSetName&quot;: &quot;超音数数据集&quot;,
              &quot;model&quot;: 2,
              &quot;id&quot;: 1,
              &quot;name&quot;: &quot;访问次数&quot;,
              &quot;bizName&quot;: &quot;pv&quot;,
              &quot;useCnt&quot;: 0,
              &quot;type&quot;: &quot;METRIC&quot;,
              &quot;alias&quot;: [],
              &quot;relatedSchemaElements&quot;: [
                { &quot;dimensionId&quot;: 1, &quot;necessary&quot;: false },
                { &quot;dimensionId&quot;: 2, &quot;necessary&quot;: false }
              ],
              &quot;defaultAgg&quot;: &quot;SUM&quot;,
              &quot;order&quot;: 0.0,
              &quot;isTag&quot;: 0,
              &quot;description&quot;: &quot;一段时间内用户的访问次数&quot;
            },
            &quot;similarity&quot;: 1.0,
            &quot;detectWord&quot;: &quot;访问次数&quot;,
            &quot;word&quot;: &quot;访问次数&quot;,
            &quot;frequency&quot;: 100000,
            &quot;inherited&quot;: false
          },
          {
            &quot;element&quot;: {
              &quot;dataSet&quot;: 1,
              &quot;dataSetName&quot;: &quot;超音数数据集&quot;,
              &quot;model&quot;: 2,
              &quot;id&quot;: 4,
              &quot;name&quot;: &quot;人均访问次数&quot;,
              &quot;bizName&quot;: &quot;pv_avg&quot;,
              &quot;useCnt&quot;: 0,
              &quot;type&quot;: &quot;METRIC&quot;,
              &quot;alias&quot;: [&quot;平均访问次数&quot;],
              &quot;relatedSchemaElements&quot;: [
                { &quot;dimensionId&quot;: 1, &quot;necessary&quot;: false }
              ],
              &quot;defaultAgg&quot;: &quot;&quot;,
              &quot;order&quot;: 0.002841870251016343,
              &quot;isTag&quot;: 0,
              &quot;description&quot;: &quot;每个用户平均访问的次数&quot;
            },
            &quot;similarity&quot;: 0.9971581297489837,
            &quot;detectWord&quot;: &quot;人访问次数&quot;,
            &quot;word&quot;: &quot;人均访问次数&quot;,
            &quot;frequency&quot;: 100000,
            &quot;inherited&quot;: false
          },
          {
            &quot;element&quot;: {
              &quot;dataSet&quot;: 1,
              &quot;dataSetName&quot;: &quot;超音数数据集&quot;,
              &quot;model&quot;: 2,
              &quot;id&quot;: 3,
              &quot;name&quot;: &quot;访问用户数&quot;,
              &quot;bizName&quot;: &quot;uv&quot;,
              &quot;useCnt&quot;: 0,
              &quot;type&quot;: &quot;METRIC&quot;,
              &quot;alias&quot;: [&quot;UV&quot;, &quot;访问人数&quot;],
              &quot;relatedSchemaElements&quot;: [
                { &quot;dimensionId&quot;: 1, &quot;necessary&quot;: false }
              ],
              &quot;defaultAgg&quot;: &quot;count&quot;,
              &quot;order&quot;: 0.004658766300494777,
              &quot;isTag&quot;: 0,
              &quot;description&quot;: &quot;访问的用户个数&quot;
            },
            &quot;similarity&quot;: 0.9953412336995052,
            &quot;detectWord&quot;: &quot;访问次数&quot;,
            &quot;word&quot;: &quot;访问用户数&quot;,
            &quot;frequency&quot;: 100000,
            &quot;inherited&quot;: false
          }
        ],
        &quot;properties&quot;: {},
        &quot;sqlInfo&quot;: {},
        &quot;sqlEvaluation&quot;: {},
        &quot;queryType&quot;: &quot;ID&quot;,
        &quot;dataSetId&quot;: 1
      },
      &quot;queryMode&quot;: &quot;METRIC_MODEL&quot;
    }
  ],
  &quot;mapInfo&quot;: {
    &quot;dataSetElementMatches&quot;: {
      &quot;1&quot;: [
        {
          &quot;element&quot;: {
            &quot;dataSet&quot;: 1,
            &quot;dataSetName&quot;: &quot;超音数数据集&quot;,
            &quot;model&quot;: 2,
            &quot;id&quot;: 1,
            &quot;name&quot;: &quot;访问次数&quot;,
            &quot;bizName&quot;: &quot;pv&quot;,
            &quot;useCnt&quot;: 0,
            &quot;type&quot;: &quot;METRIC&quot;,
            &quot;alias&quot;: [],
            &quot;relatedSchemaElements&quot;: [
              { &quot;dimensionId&quot;: 1, &quot;necessary&quot;: false },
              { &quot;dimensionId&quot;: 2, &quot;necessary&quot;: false }
            ],
            &quot;defaultAgg&quot;: &quot;SUM&quot;,
            &quot;order&quot;: 0.0,
            &quot;isTag&quot;: 0,
            &quot;description&quot;: &quot;一段时间内用户的访问次数&quot;
          },
          &quot;similarity&quot;: 1.0,
          &quot;detectWord&quot;: &quot;访问次数&quot;,
          &quot;word&quot;: &quot;访问次数&quot;,
          &quot;frequency&quot;: 100000,
          &quot;inherited&quot;: false
        },
        {
          &quot;element&quot;: {
            &quot;dataSet&quot;: 1,
            &quot;dataSetName&quot;: &quot;超音数数据集&quot;,
            &quot;model&quot;: 2,
            &quot;id&quot;: 4,
            &quot;name&quot;: &quot;人均访问次数&quot;,
            &quot;bizName&quot;: &quot;pv_avg&quot;,
            &quot;useCnt&quot;: 0,
            &quot;type&quot;: &quot;METRIC&quot;,
            &quot;alias&quot;: [&quot;平均访问次数&quot;],
            &quot;relatedSchemaElements&quot;: [{ &quot;dimensionId&quot;: 1, &quot;necessary&quot;: false }],
            &quot;defaultAgg&quot;: &quot;&quot;,
            &quot;order&quot;: 0.002841870251016343,
            &quot;isTag&quot;: 0,
            &quot;description&quot;: &quot;每个用户平均访问的次数&quot;
          },
          &quot;similarity&quot;: 0.9971581297489837,
          &quot;detectWord&quot;: &quot;人访问次数&quot;,
          &quot;word&quot;: &quot;人均访问次数&quot;,
          &quot;frequency&quot;: 100000,
          &quot;inherited&quot;: false
        },
        {
          &quot;element&quot;: {
            &quot;dataSet&quot;: 1,
            &quot;dataSetName&quot;: &quot;超音数数据集&quot;,
            &quot;model&quot;: 2,
            &quot;id&quot;: 3,
            &quot;name&quot;: &quot;访问用户数&quot;,
            &quot;bizName&quot;: &quot;uv&quot;,
            &quot;useCnt&quot;: 0,
            &quot;type&quot;: &quot;METRIC&quot;,
            &quot;alias&quot;: [&quot;UV&quot;, &quot;访问人数&quot;],
            &quot;relatedSchemaElements&quot;: [{ &quot;dimensionId&quot;: 1, &quot;necessary&quot;: false }],
            &quot;defaultAgg&quot;: &quot;count&quot;,
            &quot;order&quot;: 0.004658766300494777,
            &quot;isTag&quot;: 0,
            &quot;description&quot;: &quot;访问的用户个数&quot;
          },
          &quot;similarity&quot;: 0.9953412336995052,
          &quot;detectWord&quot;: &quot;访问次数&quot;,
          &quot;word&quot;: &quot;访问用户数&quot;,
          &quot;frequency&quot;: 100000,
          &quot;inherited&quot;: false
        },
        {
          &quot;element&quot;: {
            &quot;dataSet&quot;: 1,
            &quot;dataSetName&quot;: &quot;超音数数据集&quot;,
            &quot;model&quot;: 1,
            &quot;id&quot;: 1,
            &quot;name&quot;: &quot;部门&quot;,
            &quot;bizName&quot;: &quot;department&quot;,
            &quot;useCnt&quot;: 0,
            &quot;type&quot;: &quot;DIMENSION&quot;,
            &quot;alias&quot;: [],
            &quot;schemaValueMaps&quot;: [],
            &quot;order&quot;: 0.0,
            &quot;isTag&quot;: 1,
            &quot;description&quot;: &quot;&quot;
          },
          &quot;similarity&quot;: 1.0,
          &quot;detectWord&quot;: &quot;部门&quot;,
          &quot;word&quot;: &quot;部门&quot;,
          &quot;frequency&quot;: 100000,
          &quot;inherited&quot;: true
        }
      ]
    },
    &quot;matchedDataSetInfos&quot;: [1]
  },
  &quot;mapModeEnum&quot;: &quot;STRICT&quot;,
  &quot;queryDataType&quot;: &quot;ALL&quot;,
  &quot;llmConfig&quot;: {
    &quot;provider&quot;: &quot;OPEN_AI&quot;,
    &quot;baseUrl&quot;: &quot;https://api.openai.com/v1&quot;,
    &quot;apiKey&quot;: &quot;kGA4i6jY7QqG5xH+S0N++SzVWVKyAHesOq7NpoFVI7pgU14eb1AM296OFiLJTNtDVfpWDpfu7o4vDG2C2yWiSA==&quot;,
    &quot;modelName&quot;: &quot;gpt-3.5-turbo&quot;,
    &quot;temperature&quot;: 0.0,
    &quot;timeOut&quot;: 60
  },
  &quot;exemplars&quot;: []
}</code></pre><h2 id="14a9522e-ef35-4406-b370-bf13ff8daa6b" class="">解释：</h2><p id="055c2d77-db4d-4f86-8002-20ac31362263" class="">这个JSON数据包含了一个查询请求的详细信息，其中包括用户信息、查询文本、相关的数据集和模型、LLM（大语言模型）配置等。以下是对这个JSON的逐项详细解释：</p><h3 id="4cc61513-94d7-456c-a184-d7a5dba4ef6e" class="">顶层结构</h3><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="0998018f-02fa-4ae4-afae-2a7a1b4f267b" class="code"><code class="language-JSON" style="white-space:pre-wrap;word-break:break-all">{
  &quot;queryText&quot;: &quot;超音速对比所有人访问次数&quot;,
  &quot;chatId&quot;: 1,
  &quot;dataSetIds&quot;: [],
  &quot;modelIdToDataSetIds&quot;: { &quot;1&quot;: [1], &quot;2&quot;: [1], &quot;3&quot;: [1], &quot;4&quot;: [2] },
  &quot;user&quot;: {...},
  &quot;saveAnswer&quot;: true,
  &quot;text2SQLType&quot;: &quot;RULE_AND_LLM&quot;,
  &quot;candidateQueries&quot;: [...],
  &quot;mapInfo&quot;: {...},
  &quot;mapModeEnum&quot;: &quot;STRICT&quot;,
  &quot;queryDataType&quot;: &quot;ALL&quot;,
  &quot;llmConfig&quot;: {...},
  &quot;exemplars&quot;: []
}

</code></pre><ol type="1" id="91351894-2172-4be6-9655-0eabf8f8ae8d" class="numbered-list" start="1"><li><code><strong>queryText</strong></code><strong>:</strong> <code>&quot;超音速对比所有人访问次数&quot;</code><ul id="56a4b88e-78bb-4e27-b030-0001b909b5a4" class="bulleted-list"><li style="list-style-type:disc">这是用户输入的查询文本。用户希望查询“超音速对比所有人访问次数”的数据。</li></ul></li></ol><ol type="1" id="d8ada2ef-468b-4d37-b3c0-b9ef8a4cc741" class="numbered-list" start="2"><li><code><strong>chatId</strong></code><strong>:</strong> <code>1</code><ul id="4127b1e0-5a33-4bbe-bb14-6bed34c4c57c" class="bulleted-list"><li style="list-style-type:disc">这是对话的唯一标识符，表示这个查询所属的对话ID。</li></ul></li></ol><ol type="1" id="573764cd-ce80-41e7-be0b-724d974e7503" class="numbered-list" start="3"><li><code><strong>dataSetIds</strong></code><strong>:</strong> <code>[]</code><ul id="43a0dda5-4157-4476-a15f-0aa4eb9f5618" class="bulleted-list"><li style="list-style-type:disc">这是一个空数组，通常用于指定查询涉及的数据集ID。这里为空，可能意味着查询时还没有指定具体的数据集。</li></ul></li></ol><ol type="1" id="e53df9f9-d48c-4da2-8db2-0e8bc1f8b48b" class="numbered-list" start="4"><li><code><strong>modelIdToDataSetIds</strong></code><strong>:</strong> <code>{ &quot;1&quot;: [1], &quot;2&quot;: [1], &quot;3&quot;: [1], &quot;4&quot;: [2] }</code><ul id="fc48b141-a7b7-40d8-b776-82de27368a30" class="bulleted-list"><li style="list-style-type:disc">这是一个映射关系，表示模型ID到数据集ID的映射关系。例如，模型ID为1、2、3的都对应数据集ID为1，而模型ID为4的对应数据集ID为2。</li></ul></li></ol><ol type="1" id="7ae54eac-61d9-47c6-97bc-4a0e2f301d44" class="numbered-list" start="5"><li><code><strong>user</strong></code><strong>:</strong><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="74d59fb8-cfc6-4d49-a733-36dd9deea4cd" class="code"><code class="language-JSON" style="white-space:pre-wrap;word-break:break-all">{
  &quot;id&quot;: 6,
  &quot;name&quot;: &quot;admin&quot;,
  &quot;displayName&quot;: &quot;admin&quot;,
  &quot;email&quot;: &quot;null&quot;,
  &quot;isAdmin&quot;: 1,
  &quot;superAdmin&quot;: true}</code></pre><ul id="0397ce76-ccfe-4ec0-8bd7-dd18dad4371b" class="bulleted-list"><li style="list-style-type:disc">这个对象包含了执行查询的用户信息：<ul id="9659a3f1-50da-46e9-9def-3d96c764da80" class="bulleted-list"><li style="list-style-type:circle"><code><strong>id</strong></code><strong>:</strong> <code>6</code> 表示用户ID。</li></ul><ul id="e8ed88c3-154d-4a2e-8f92-dce6f72f814d" class="bulleted-list"><li style="list-style-type:circle"><code><strong>name</strong></code><strong>:</strong> <code>&quot;admin&quot;</code> 是用户名。</li></ul><ul id="14167c34-31e2-48ea-942a-d31a6a4723e5" class="bulleted-list"><li style="list-style-type:circle"><code><strong>displayName</strong></code><strong>:</strong> <code>&quot;admin&quot;</code> 是显示名称。</li></ul><ul id="fd5692d4-204c-4ac4-bc58-a17ecdf281b7" class="bulleted-list"><li style="list-style-type:circle"><code><strong>email</strong></code><strong>:</strong> <code>&quot;null&quot;</code> 表示用户邮箱地址。</li></ul><ul id="f65c38ae-cd1a-479e-bc3b-68f570cecac2" class="bulleted-list"><li style="list-style-type:circle"><code><strong>isAdmin</strong></code><strong>:</strong> <code>1</code> 表示该用户是管理员。</li></ul><ul id="636d7834-fdda-4737-891e-34402293aa35" class="bulleted-list"><li style="list-style-type:circle"><code><strong>superAdmin</strong></code><strong>:</strong> <code>true</code> 表示该用户是超级管理员。</li></ul></li></ul></li></ol><ol type="1" id="814d7d43-2921-4739-a156-bcecd5367ef1" class="numbered-list" start="6"><li><code><strong>saveAnswer</strong></code><strong>:</strong> <code>true</code><ul id="ab3807ad-5171-4b40-a42c-69c4e406fed7" class="bulleted-list"><li style="list-style-type:disc">这表示查询的结果是否需要保存。<code>true</code> 表示结果将被保存。</li></ul></li></ol><ol type="1" id="bf1178d4-6606-40db-8a94-f2b7cb49f14b" class="numbered-list" start="7"><li><code><strong>text2SQLType</strong></code><strong>:</strong> <code>&quot;RULE_AND_LLM&quot;</code><ul id="9cb78855-0891-4768-93c3-43e0ad8bbeaa" class="bulleted-list"><li style="list-style-type:disc">这是用于将自然语言查询转换为SQL的策略类型，<code>RULE_AND_LLM</code> 表示该过程结合了规则和大语言模型（LLM）。</li></ul></li></ol><ol type="1" id="5bdb52c3-161a-4d8b-bb89-2a23512210e9" class="numbered-list" start="8"><li><code><strong>candidateQueries</strong></code><strong>:</strong><ul id="12c77973-2eae-4613-96a9-835c8c9bd126" class="bulleted-list"><li style="list-style-type:disc">这是一个数组，包含多个候选查询，每个候选查询可能代表解析查询文本后的不同SQL查询。</li></ul></li></ol><ol type="1" id="7871f3bb-617d-4b1e-8d84-a2c5e34c9345" class="numbered-list" start="9"><li><code><strong>mapInfo</strong></code><strong>:</strong><ul id="b402c41c-af01-4283-ab50-9a2f193d5eed" class="bulleted-list"><li style="list-style-type:disc">这是一个对象，包含数据集元素匹配的信息和匹配的数据信息，详细解释见下文。</li></ul></li></ol><ol type="1" id="9148f21b-39db-428f-bfc7-a6300b9ce511" class="numbered-list" start="10"><li><code><strong>mapModeEnum</strong></code><strong>:</strong> <code>&quot;STRICT&quot;</code><ul id="c5e41c06-6906-4a1e-b0ed-b8292b00dc67" class="bulleted-list"><li style="list-style-type:disc">这是映射模式，<code>STRICT</code> 表示严格模式，可能意味着对查询解析的精确性要求较高。</li></ul></li></ol><ol type="1" id="0cd8855a-a02d-45a3-8921-132d0adaebac" class="numbered-list" start="11"><li><code><strong>queryDataType</strong></code><strong>:</strong> <code>&quot;ALL&quot;</code><ul id="55f3b3cc-73f3-4925-93c4-55e62808dd30" class="bulleted-list"><li style="list-style-type:disc">这表示查询的数据类型，<code>ALL</code> 表示查询包括所有类型的数据。</li></ul></li></ol><ol type="1" id="3abe9a7c-9b4e-41a1-a62c-671f6485bcae" class="numbered-list" start="12"><li><code><strong>llmConfig</strong></code><strong>:</strong><ul id="d9c6d0b0-051c-42e4-8323-7d4f08d5929f" class="bulleted-list"><li style="list-style-type:disc">这是一个对象，包含与大语言模型（LLM）相关的配置信息，详细解释见下文。</li></ul></li></ol><ol type="1" id="ca314035-ca4a-46fe-82fa-2e5fd61a4cc8" class="numbered-list" start="13"><li><code><strong>exemplars</strong></code><strong>:</strong> <code>[]</code><ul id="f58655c8-c0ff-4a23-b3a1-2111efa6a949" class="bulleted-list"><li style="list-style-type:disc">这是一个空数组，通常用于存储查询示例或训练数据。在此例中，没有提供示例。</li></ul></li></ol><h3 id="0853f019-0e19-4db6-94ba-6683e4af133a" class=""><code>candidateQueries</code> 数组中的项</h3><p id="7e801a41-254f-4fed-9d33-35e6eceae182" class="">这是系统生成的多个候选查询，系统会选择其中一个或多个进行执行。</p><h3 id="bf92071d-4623-4327-a489-b7da73cca320" class="">第一个候选查询</h3><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="1c7c0a6b-aca3-42c4-bf0e-8f841dd5a0bf" class="code"><code class="language-JSON" style="white-space:pre-wrap;word-break:break-all">{
  &quot;parseInfo&quot;: {
    &quot;queryMode&quot;: &quot;METRIC_GROUPBY&quot;,
    &quot;dataSet&quot;: {...},
    &quot;metrics&quot;: [...],
    &quot;dimensions&quot;: [...],
    &quot;aggType&quot;: &quot;NONE&quot;,
    &quot;filterType&quot;: &quot;AND&quot;,
    &quot;dimensionFilters&quot;: [],
    &quot;metricFilters&quot;: [],
    &quot;orders&quot;: [],
    &quot;dateInfo&quot;: {...},
    &quot;limit&quot;: 365,
    &quot;score&quot;: 6.0,
    &quot;elementMatches&quot;: [...],
    &quot;properties&quot;: {},
    &quot;sqlInfo&quot;: {},
    &quot;sqlEvaluation&quot;: {},
    &quot;queryType&quot;: &quot;ID&quot;,
    &quot;dataSetId&quot;: 1
  },
  &quot;queryMode&quot;: &quot;METRIC_GROUPBY&quot;
}

</code></pre><ol type="1" id="3ae3a35a-9fa7-459b-b5a5-9a61b269b93f" class="numbered-list" start="1"><li><code><strong>parseInfo.queryMode</strong></code><strong>:</strong> <code>&quot;METRIC_GROUPBY&quot;</code><ul id="80eb1844-a552-4ad4-8cfc-6f9c00d6dd65" class="bulleted-list"><li style="list-style-type:disc">表示查询模式为按维度分组进行度量计算。</li></ul></li></ol><ol type="1" id="a97d4ca6-8e47-4084-9ea6-001e0adeca89" class="numbered-list" start="2"><li><code><strong>parseInfo.dataSet</strong></code><strong>:</strong><ul id="2341ea9a-2104-4da2-b4a6-2aa270c90589" class="bulleted-list"><li style="list-style-type:disc">包含与查询相关的数据集信息，详细解释见下文。</li></ul></li></ol><ol type="1" id="082e4389-e94a-4831-b655-367ae7fedf1e" class="numbered-list" start="3"><li><code><strong>parseInfo.metrics</strong></code><strong>:</strong><ul id="bdb6bdfb-7f7d-415a-91f1-e5939c94c340" class="bulleted-list"><li style="list-style-type:disc">包含查询涉及的指标（metrics）信息，详细解释见下文。</li></ul></li></ol><ol type="1" id="02ae903e-81f7-4803-8397-8602ff70d154" class="numbered-list" start="4"><li><code><strong>parseInfo.dimensions</strong></code><strong>:</strong><ul id="fe8edffe-7216-4fbb-8107-31e6feb68fae" class="bulleted-list"><li style="list-style-type:disc">包含查询涉及的维度（dimensions）信息，详细解释见下文。</li></ul></li></ol><ol type="1" id="c355cbde-ab81-415e-8b95-72a96bbee025" class="numbered-list" start="5"><li><code><strong>parseInfo.aggType</strong></code><strong>:</strong> <code>&quot;NONE&quot;</code><ul id="d9a91742-efc9-4b61-ad2c-715e83cc0ba3" class="bulleted-list"><li style="list-style-type:disc">表示查询没有进行额外的聚合操作。</li></ul></li></ol><ol type="1" id="d0355299-6655-4196-b25b-5f987d9bd185" class="numbered-list" start="6"><li><code><strong>parseInfo.filterType</strong></code><strong>:</strong> <code>&quot;AND&quot;</code><ul id="bd3a0ac5-9733-41fb-a289-66b15610aafc" class="bulleted-list"><li style="list-style-type:disc">表示查询过滤条件使用的是 <code>AND</code> 逻辑。</li></ul></li></ol><ol type="1" id="d6f6001b-a250-4605-8900-b0340ff06f13" class="numbered-list" start="7"><li><code><strong>parseInfo.dimensionFilters</strong></code><strong>:</strong> <code>[]</code><ul id="d5b546b2-b003-479d-921b-f330764bb9cc" class="bulleted-list"><li style="list-style-type:disc">这是一个空数组，表示没有指定维度过滤条件。</li></ul></li></ol><ol type="1" id="0bcecc51-fc8e-4968-b468-191516eb1065" class="numbered-list" start="8"><li><code><strong>parseInfo.metricFilters</strong></code><strong>:</strong> <code>[]</code><ul id="3f6f19b8-9f90-45b0-93aa-23d6a46218c2" class="bulleted-list"><li style="list-style-type:disc">这是一个空数组，表示没有指定指标过滤条件。</li></ul></li></ol><ol type="1" id="8026aef6-8a57-443c-89b2-6ed884f61450" class="numbered-list" start="9"><li><code><strong>parseInfo.orders</strong></code><strong>:</strong> <code>[]</code><ul id="8da9c668-4867-4988-a22a-8cf7896f754c" class="bulleted-list"><li style="list-style-type:disc">这是一个空数组，表示没有指定查询结果的排序顺序。</li></ul></li></ol><ol type="1" id="8c253a09-8111-46fc-ada4-541b5faff947" class="numbered-list" start="10"><li><code><strong>parseInfo.dateInfo</strong></code><strong>:</strong><ul id="a5f19080-f8be-49f0-9e6c-847d91b147eb" class="bulleted-list"><li style="list-style-type:disc">包含查询涉及的时间范围信息，详细解释见下文。</li></ul></li></ol><ol type="1" id="cdd77031-a20a-4b13-864a-0f4263772fd0" class="numbered-list" start="11"><li><code><strong>parseInfo.limit</strong></code><strong>:</strong> <code>365</code><ul id="d6195da9-54fc-4645-a761-f51d2c885ec7" class="bulleted-list"><li style="list-style-type:disc">表示查询结果的数量限制为365条记录。</li></ul></li></ol><ol type="1" id="19bb0ae0-d245-4bd0-8194-abdc963877a2" class="numbered-list" start="12"><li><code><strong>parseInfo.score</strong></code><strong>:</strong> <code>6.0</code><ul id="f6d884f0-9d3a-455e-a778-8a192be075df" class="bulleted-list"><li style="list-style-type:disc">这是系统对该解析结果的评分，分数越高表示该解析结果与原始查询的匹配度越高。</li></ul></li></ol><ol type="1" id="f43e0361-b354-463e-84ee-04cc7265817f" class="numbered-list" start="13"><li><code><strong>parseInfo.elementMatches</strong></code><strong>:</strong><ul id="c20fd04a-b03e-47b5-a5d5-b0f00139b3e2" class="bulleted-list"><li style="list-style-type:disc">包含查询中识别出的元素匹配信息，详细解释见下文。</li></ul></li></ol><ol type="1" id="a0ee59f8-7aae-4e44-9ae9-7338027bb919" class="numbered-list" start="14"><li><code><strong>parseInfo.properties</strong></code><strong>:</strong> <code>{}</code><ul id="4a54cc2a-2f60-40cd-8c1b-574da66b09aa" class="bulleted-list"><li style="list-style-type:disc">这是一个空对象，表示没有额外的属性信息。</li></ul></li></ol><ol type="1" id="c1da0b4b-031d-4412-a31d-bf6c1ba93fb2" class="numbered-list" start="15"><li><code><strong>parseInfo.sqlInfo</strong></code><strong>:</strong> <code>{}</code><ul id="63ef106e-6587-49d3-b5cd-b07d08f29a44" class="bulleted-list"><li style="list-style-type:disc">这是一个空对象，表示还没有生成SQL查询语句。</li></ul></li></ol><ol type="1" id="d0ed8f86-cd75-42fa-8666-051603ea612c" class="numbered-list" start="16"><li><code><strong>parseInfo.sqlEvaluation</strong></code><strong>:</strong> <code>{}</code><ul id="a99fa9f9-b100-47ee-99f6-fa4009f63d2a" class="bulleted-list"><li style="list-style-type:disc">这是一个空对象，表示没有进行SQL评估。</li></ul></li></ol><ol type="1" id="293d885e-11c8-4142-a5a6-9a9149fec5c3" class="numbered-list" start="17"><li><code><strong>parseInfo.queryType</strong></code><strong>:</strong> <code>&quot;ID&quot;</code><ul id="b7a640e0-5980-445e-b747-17b6035d55f6" class="bulleted-list"><li style="list-style-type:disc">这表示查询的类型，这里是ID类型查询，可能与系统内部逻辑相关。</li></ul></li></ol><ol type="1" id="b4679dd9-2f34-40fa-ae51-70e0a9971aab" class="numbered-list" start="18"><li><code><strong>parseInfo.dataSetId</strong></code><strong>:</strong> <code>1</code><ul id="9d5d39cf-6643-4cb4-8939-3b94524859d9" class="bulleted-list"><li style="list-style-type:disc">表示使用的数据集ID为1。</li></ul></li></ol><ol type="1" id="54abbd5f-47e1-4da8-a14c-0b2eaf02d4f5" class="numbered-list" start="19"><li><code><strong>queryMode</strong></code><strong>:</strong> <code>&quot;METRIC_GROUPBY&quot;</code><ul id="6cc5cafe-bf34-4f4a-9f69-0b94639f0f4e" class="bulleted-list"><li style="list-style-type:disc">这与 <code>parseInfo.queryMode</code> 相同，表示查询模式为按维度分组进行度量计算。</li></ul></li></ol><h3 id="67f5ece5-2a6c-45a6-9af1-fcb845121423" class="">第二个候选查询</h3><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="07d8625d-4d98-48a0-96b2-c63a9a8463e0" class="code"><code class="language-JSON" style="white-space:pre-wrap;word-break:break-all">{
  &quot;parseInfo&quot;: {
    &quot;queryMode&quot;: &quot;METRIC_MODEL&quot;,
    &quot;dataSet&quot;: {...},
    &quot;metrics&quot;: [...],
    &quot;dimensions&quot;: [],
    &quot;aggType&quot;: &quot;NONE&quot;,
    &quot;filterType&quot;: &quot;AND&quot;,
    &quot;dimensionFilters&quot;: [],
    &quot;metricFilters&quot;: [],
    &quot;orders&quot;: [],
    &quot;dateInfo&quot;: {...},
    &quot;limit&quot;: 365,
    &quot;score&quot;: 4.0,
    &quot;elementMatches&quot;: [...],
    &quot;properties&quot;: {},
    &quot;sqlInfo&quot;: {},
    &quot;sqlEvaluation&quot;: {},
    &quot;queryType&quot;: &quot;ID&quot;,
    &quot;dataSetId&quot;: 1
  },
  &quot;queryMode&quot;: &quot;METRIC_MODEL&quot;
}</code></pre><p id="2e6f98c7-ef44-4408-9b59-fa8a40393a9c" class="">与第一个候选查询类似，但 <code>queryMode</code> 为 <code>&quot;METRIC_MODEL&quot;</code>，可能表示一种不同的查询模式，聚焦于模型相关的度量计算。评分为 <code>4.0</code>，比第一个候选查询略低。</p><h3 id="e102436a-57a0-4bde-b27e-0af5fa56ff4e" class=""><code>mapInfo</code> 对象</h3><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="eec4728e-f18a-4d5c-ba87-1d6cffb320c4" class="code"><code class="language-JSON" style="white-space:pre-wrap;word-break:break-all">{
  &quot;dataSetElementMatches&quot;: {
    &quot;1&quot;: [
      {...},
      {...},
      {...},
      {...}
    ]
  },
  &quot;matchedDataSetInfos&quot;: [1]
}</code></pre><ol type="1" id="8ab753b5-5f08-46a4-93c7-cfe7d9f38860" class="numbered-list" start="1"><li><code><strong>dataSetElementMatches</strong></code><strong>:</strong><ul id="2716487d-0aac-4db0-bc19-756b1cffe4ec" class="bulleted-list"><li style="list-style-type:disc">这是一个映射，键是数据集ID，值是该数据集中匹配的元素列表。例如，数据集ID为 <code>1</code> 的数据集中，有多个匹配的元素（如指标和维度）。</li></ul></li></ol><ol type="1" id="4b87f8cc-a633-409c-8826-de655d61e6ee" class="numbered-list" start="2"><li><code><strong>matchedDataSetInfos</strong></code><strong>:</strong> <code>[1]</code><ul id="076be322-fc3b-41d2-8930-6a487a8a01d4" class="bulleted-list"><li style="list-style-type:disc">这是一个数组，列出了匹配的数据集ID。在这个例子中，只有数据集ID为1的被匹配。</li></ul></li></ol><h3 id="9f108b6c-9d11-400e-ae77-5afaa487ee44" class=""><code>llmConfig</code> 对象</h3><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="00d73237-ccb0-42f6-a61b-d26d5057575f" class="code"><code class="language-JSON" style="white-space:pre-wrap;word-break:break-all">{
  &quot;provider&quot;: &quot;OPEN_AI&quot;,
  &quot;baseUrl&quot;: &quot;https://api.openai.com/v1&quot;,
  &quot;apiKey&quot;: &quot;kGA4i6jY7QqG5xH+S0N++SzVWVKyAHesOq7NpoFVI7pgU14eb1AM296OFiLJTNtDVfpWDpfu7o4vDG2C2yWiSA==&quot;,
  &quot;modelName&quot;: &quot;gpt-3.5-turbo&quot;,
  &quot;temperature&quot;: 0.0,
  &quot;timeOut&quot;: 60
}</code></pre><ol type="1" id="fd2452e8-c83b-413b-8cb1-6d1f37ddf3d7" class="numbered-list" start="1"><li><code><strong>provider</strong></code><strong>:</strong> <code>&quot;OPEN_AI&quot;</code><ul id="8c989191-9a13-4c64-8246-1922686b8d29" class="bulleted-list"><li style="list-style-type:disc">表示使用的LLM提供商是OpenAI。</li></ul></li></ol><ol type="1" id="da16b17e-9817-4bc4-a7dc-7ac60cccfadc" class="numbered-list" start="2"><li><code><strong>baseUrl</strong></code><strong>:</strong> <code>&quot;https://api.openai.com/v1&quot;</code><ul id="fbf21e2b-0132-4180-a674-159cc1ad4d55" class="bulleted-list"><li style="list-style-type:disc">这是LLM API的基础URL。</li></ul></li></ol><ol type="1" id="7ba83d0c-68be-496e-92e9-66ccb052d445" class="numbered-list" start="3"><li><code><strong>apiKey</strong></code><strong>:</strong> <code>&quot;kGA4i6jY7QqG5xH+S0N++SzVWVKyAHesOq7NpoFVI7pgU14eb1AM296OFiLJTNtDVfpWDpfu7o4vDG2yWiSA==&quot;</code><ul id="e1c283d2-50f2-4196-92ea-0d5ccdab4cca" class="bulleted-list"><li style="list-style-type:disc">这是调用API所需的密钥。</li></ul></li></ol><ol type="1" id="c3ec6b2d-3ca8-464b-8893-1172267f0621" class="numbered-list" start="4"><li><code><strong>modelName</strong></code><strong>:</strong> <code>&quot;gpt-3.5-turbo&quot;</code><ul id="24472c29-9241-4f11-aee3-a47459acfa47" class="bulleted-list"><li style="list-style-type:disc">这是使用的模型名称，表示使用了OpenAI的GPT-3.5 Turbo模型。</li></ul></li></ol><ol type="1" id="f106d910-3dea-4bb7-9cdd-03c47f94be2c" class="numbered-list" start="5"><li><code><strong>temperature</strong></code><strong>:</strong> <code>0.0</code><ul id="6b1eaef1-be5c-4edb-9833-7e25856a5ad5" class="bulleted-list"><li style="list-style-type:disc">这是生成文本的“温度”参数，控制输出的随机性。<code>0.0</code> 表示输出结果更加确定性，较少随机性。</li></ul></li></ol><ol type="1" id="a16d2d87-4cca-416a-8f4e-ad493588460f" class="numbered-list" start="6"><li><code><strong>timeOut</strong></code><strong>:</strong> <code>60</code><ul id="714ce9ae-c4ce-48fb-995a-10494b32bfc0" class="bulleted-list"><li style="list-style-type:disc">这是API请求的超时时间，单位为秒。</li></ul></li></ol><h3 id="9ef67130-f1f0-40db-a607-33d7d1e8e3fa" class="">关键点总结</h3><ol type="1" id="92190e65-0534-4edd-9500-4b2f87c31039" class="numbered-list" start="1"><li><strong>查询模式</strong>：该JSON定义了两个候选查询模式——<code>METRIC_GROUPBY</code> 和 <code>METRIC_MODEL</code>，分别处理不同的查询逻辑。</li></ol><ol type="1" id="8737cd40-766f-4f54-ad64-dedec485044c" class="numbered-list" start="2"><li><strong>用户信息</strong>：请求由用户 <code>admin</code> 发起，且为管理员身份。</li></ol><ol type="1" id="992b59f8-1da1-463b-bf49-c71e8dcef119" class="numbered-list" start="3"><li><strong>数据集匹配</strong>：查询的文本与数据集中的指标和维度进行了匹配，并选择了合适的模式生成候选SQL查询。</li></ol><ol type="1" id="e19b8135-c161-4429-b4ce-d6f5b17abec3" class="numbered-list" start="4"><li><strong>LLM配置</strong>：使用了OpenAI的GPT-3.5 Turbo模型，结合规则和LLM来处理自然语言查询并生成SQL。</li></ol><p id="6c6612eb-b29a-40d6-9e4c-f66274be0488" class="">
</p><h2 id="e86c4628-c699-405b-8b10-0c24e106f250" class=""><mark class="highlight-default">14:57:19 [http-nio-9080-exec-2] DEBUG c.t.s.h.s.w.s.i.WorkflowServiceImpl 67 - LLMSqlParser result:</mark></h2><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="b1b8969e-de36-4a70-89a6-f77a6f8c6c58" class="code"><code class="language-JSON">{
  &quot;queryText&quot;: &quot;超音速对比所有人访问次数&quot;,
  &quot;chatId&quot;: 1,
  &quot;dataSetIds&quot;: [],
  &quot;modelIdToDataSetIds&quot;: { &quot;1&quot;: [1], &quot;2&quot;: [1], &quot;3&quot;: [1], &quot;4&quot;: [2] },
  &quot;user&quot;: {
    &quot;id&quot;: 6,
    &quot;name&quot;: &quot;admin&quot;,
    &quot;displayName&quot;: &quot;admin&quot;,
    &quot;email&quot;: &quot;null&quot;,
    &quot;isAdmin&quot;: 1,
    &quot;superAdmin&quot;: true
  },
  &quot;saveAnswer&quot;: true,
  &quot;text2SQLType&quot;: &quot;RULE_AND_LLM&quot;,
  &quot;candidateQueries&quot;: [
    {
      &quot;parseInfo&quot;: {
        &quot;queryMode&quot;: &quot;LLM_S2SQL&quot;,
        &quot;dataSet&quot;: {
          &quot;dataSet&quot;: 1,
          &quot;dataSetName&quot;: &quot;超音数数据集&quot;,
          &quot;id&quot;: 1,
          &quot;name&quot;: &quot;超音数数据集&quot;,
          &quot;bizName&quot;: &quot;s2&quot;,
          &quot;type&quot;: &quot;DATASET&quot;,
          &quot;order&quot;: 0.0,
          &quot;isTag&quot;: 0
        },
        &quot;metrics&quot;: [],
        &quot;dimensions&quot;: [],
        &quot;aggType&quot;: &quot;NONE&quot;,
        &quot;filterType&quot;: &quot;AND&quot;,
        &quot;dimensionFilters&quot;: [],
        &quot;metricFilters&quot;: [],
        &quot;orders&quot;: [],
        &quot;score&quot;: 24.0,
        &quot;elementMatches&quot;: [
          {
            &quot;element&quot;: {
              &quot;dataSet&quot;: 1,
              &quot;dataSetName&quot;: &quot;超音数数据集&quot;,
              &quot;model&quot;: 2,
              &quot;id&quot;: 1,
              &quot;name&quot;: &quot;访问次数&quot;,
              &quot;bizName&quot;: &quot;pv&quot;,
              &quot;useCnt&quot;: 0,
              &quot;type&quot;: &quot;METRIC&quot;,
              &quot;alias&quot;: [],
              &quot;relatedSchemaElements&quot;: [
                { &quot;dimensionId&quot;: 1, &quot;necessary&quot;: false },
                { &quot;dimensionId&quot;: 2, &quot;necessary&quot;: false }
              ],
              &quot;defaultAgg&quot;: &quot;SUM&quot;,
              &quot;order&quot;: 0.0,
              &quot;isTag&quot;: 0,
              &quot;description&quot;: &quot;一段时间内用户的访问次数&quot;
            },
            &quot;similarity&quot;: 1.0,
            &quot;detectWord&quot;: &quot;访问次数&quot;,
            &quot;word&quot;: &quot;访问次数&quot;,
            &quot;frequency&quot;: 100000,
            &quot;inherited&quot;: false
          },
          {
            &quot;element&quot;: {
              &quot;dataSet&quot;: 1,
              &quot;dataSetName&quot;: &quot;超音数数据集&quot;,
              &quot;model&quot;: 2,
              &quot;id&quot;: 4,
              &quot;name&quot;: &quot;人均访问次数&quot;,
              &quot;bizName&quot;: &quot;pv_avg&quot;,
              &quot;useCnt&quot;: 0,
              &quot;type&quot;: &quot;METRIC&quot;,
              &quot;alias&quot;: [&quot;平均访问次数&quot;],
              &quot;relatedSchemaElements&quot;: [
                { &quot;dimensionId&quot;: 1, &quot;necessary&quot;: false }
              ],
              &quot;defaultAgg&quot;: &quot;&quot;,
              &quot;order&quot;: 0.002841870251016343,
              &quot;isTag&quot;: 0,
              &quot;description&quot;: &quot;每个用户平均访问的次数&quot;
            },
            &quot;similarity&quot;: 0.9971581297489837,
            &quot;detectWord&quot;: &quot;人访问次数&quot;,
            &quot;word&quot;: &quot;人均访问次数&quot;,
            &quot;frequency&quot;: 100000,
            &quot;inherited&quot;: false
          },
          {
            &quot;element&quot;: {
              &quot;dataSet&quot;: 1,
              &quot;dataSetName&quot;: &quot;超音数数据集&quot;,
              &quot;model&quot;: 2,
              &quot;id&quot;: 3,
              &quot;name&quot;: &quot;访问用户数&quot;,
              &quot;bizName&quot;: &quot;uv&quot;,
              &quot;useCnt&quot;: 0,
              &quot;type&quot;: &quot;METRIC&quot;,
              &quot;alias&quot;: [&quot;UV&quot;, &quot;访问人数&quot;],
              &quot;relatedSchemaElements&quot;: [
                { &quot;dimensionId&quot;: 1, &quot;necessary&quot;: false }
              ],
              &quot;defaultAgg&quot;: &quot;count&quot;,
              &quot;order&quot;: 0.004658766300494777,
              &quot;isTag&quot;: 0,
              &quot;description&quot;: &quot;访问的用户个数&quot;
            },
            &quot;similarity&quot;: 0.9953412336995052,
            &quot;detectWord&quot;: &quot;访问次数&quot;,
            &quot;word&quot;: &quot;访问用户数&quot;,
            &quot;frequency&quot;: 100000,
            &quot;inherited&quot;: false
          },
          {
            &quot;element&quot;: {
              &quot;dataSet&quot;: 1,
              &quot;dataSetName&quot;: &quot;超音数数据集&quot;,
              &quot;model&quot;: 1,
              &quot;id&quot;: 1,
              &quot;name&quot;: &quot;部门&quot;,
              &quot;bizName&quot;: &quot;department&quot;,
              &quot;useCnt&quot;: 0,
              &quot;type&quot;: &quot;DIMENSION&quot;,
              &quot;alias&quot;: [],
              &quot;schemaValueMaps&quot;: [],
              &quot;order&quot;: 0.0,
              &quot;isTag&quot;: 1,
              &quot;description&quot;: &quot;&quot;
            },
            &quot;similarity&quot;: 1.0,
            &quot;detectWord&quot;: &quot;部门&quot;,
            &quot;word&quot;: &quot;部门&quot;,
            &quot;frequency&quot;: 100000,
            &quot;inherited&quot;: true
          }
        ],
        &quot;properties&quot;: {
          &quot;type&quot;: &quot;internal&quot;,
          &quot;CONTEXT&quot;: {
            &quot;dataSetId&quot;: 1,
            &quot;llmReq&quot;: {
              &quot;queryText&quot;: &quot;超音速对比所有人访问次数&quot;,
              &quot;filterCondition&quot;: {},
              &quot;schema&quot;: {
                &quot;domainName&quot;: &quot;超音数数据集&quot;,
                &quot;dataSetName&quot;: &quot;超音数数据集&quot;,
                &quot;dataSetId&quot;: 1,
                &quot;fieldNameList&quot;: [
                  &quot;访问用户数&quot;,
                  &quot;用户&quot;,
                  &quot;部门&quot;,
                  &quot;访问次数&quot;,
                  &quot;人均访问次数&quot;,
                  &quot;停留时长&quot;,
                  &quot;页面&quot;,
                  &quot;数据日期&quot;
                ],
                &quot;metrics&quot;: [
                  {
                    &quot;dataSet&quot;: 1,
                    &quot;dataSetName&quot;: &quot;超音数数据集&quot;,
                    &quot;model&quot;: 2,
                    &quot;id&quot;: 1,
                    &quot;name&quot;: &quot;访问次数&quot;,
                    &quot;bizName&quot;: &quot;pv&quot;,
                    &quot;useCnt&quot;: 0,
                    &quot;type&quot;: &quot;METRIC&quot;,
                    &quot;alias&quot;: [],
                    &quot;relatedSchemaElements&quot;: [
                      { &quot;dimensionId&quot;: 1, &quot;necessary&quot;: false },
                      { &quot;dimensionId&quot;: 2, &quot;necessary&quot;: false }
                    ],
                    &quot;defaultAgg&quot;: &quot;SUM&quot;,
                    &quot;order&quot;: 0.0,
                    &quot;isTag&quot;: 0,
                    &quot;description&quot;: &quot;一段时间内用户的访问次数&quot;
                  },
                  {
                    &quot;dataSet&quot;: 1,
                    &quot;dataSetName&quot;: &quot;超音数数据集&quot;,
                    &quot;model&quot;: 2,
                    &quot;id&quot;: 4,
                    &quot;name&quot;: &quot;人均访问次数&quot;,
                    &quot;bizName&quot;: &quot;pv_avg&quot;,
                    &quot;useCnt&quot;: 0,
                    &quot;type&quot;: &quot;METRIC&quot;,
                    &quot;alias&quot;: [&quot;平均访问次数&quot;],
                    &quot;relatedSchemaElements&quot;: [
                      { &quot;dimensionId&quot;: 1, &quot;necessary&quot;: false }
                    ],
                    &quot;defaultAgg&quot;: &quot;&quot;,
                    &quot;order&quot;: 0.002841870251016343,
                    &quot;isTag&quot;: 0,
                    &quot;description&quot;: &quot;每个用户平均访问的次数&quot;
                  },
                  {
                    &quot;dataSet&quot;: 1,
                    &quot;dataSetName&quot;: &quot;超音数数据集&quot;,
                    &quot;model&quot;: 2,
                    &quot;id&quot;: 3,
                    &quot;name&quot;: &quot;访问用户数&quot;,
                    &quot;bizName&quot;: &quot;uv&quot;,
                    &quot;useCnt&quot;: 0,
                    &quot;type&quot;: &quot;METRIC&quot;,
                    &quot;alias&quot;: [&quot;UV&quot;, &quot;访问人数&quot;],
                    &quot;relatedSchemaElements&quot;: [
                      { &quot;dimensionId&quot;: 1, &quot;necessary&quot;: false }
                    ],
                    &quot;defaultAgg&quot;: &quot;count&quot;,
                    &quot;order&quot;: 0.004658766300494777,
                    &quot;isTag&quot;: 0,
                    &quot;description&quot;: &quot;访问的用户个数&quot;
                  }
                ],
                &quot;dimensions&quot;: [
                  {
                    &quot;dataSet&quot;: 1,
                    &quot;dataSetName&quot;: &quot;超音数数据集&quot;,
                    &quot;model&quot;: 1,
                    &quot;id&quot;: 1,
                    &quot;name&quot;: &quot;部门&quot;,
                    &quot;bizName&quot;: &quot;department&quot;,
                    &quot;useCnt&quot;: 0,
                    &quot;type&quot;: &quot;DIMENSION&quot;,
                    &quot;alias&quot;: [],
                    &quot;schemaValueMaps&quot;: [],
                    &quot;order&quot;: 0.0,
                    &quot;isTag&quot;: 1,
                    &quot;description&quot;: &quot;&quot;
                  }
                ],
                &quot;terms&quot;: []
              },
              &quot;linking&quot;: [],
              &quot;currentDate&quot;: &quot;2024-08-07&quot;,
              &quot;priorExts&quot;: &quot;&quot;,
              &quot;sqlGenType&quot;: &quot;1_pass_self_consistency&quot;,
              &quot;llmConfig&quot;: {
                &quot;provider&quot;: &quot;OPEN_AI&quot;,
                &quot;baseUrl&quot;: &quot;https://api.openai.com/v1&quot;,
                &quot;apiKey&quot;: &quot;kGA4i6jY7QqG5xH+S0N++SzVWVKyAHesOq7NpoFVI7pgU14eb1AM296OFiLJTNtDVfpWDpfu7o4vDG2C2yWiSA==&quot;,
                &quot;modelName&quot;: &quot;gpt-3.5-turbo&quot;,
                &quot;temperature&quot;: 0.0,
                &quot;timeOut&quot;: 60
              },
              &quot;exemplars&quot;: []
            },
            &quot;llmResp&quot;: {
              &quot;query&quot;: &quot;超音速对比所有人访问次数&quot;,
              &quot;modelName&quot;: &quot;超音数数据集&quot;,
              &quot;dbSchema&quot;: &quot;Table: 超音数数据集, Metrics: [访问次数 COMMENT &#x27;一段时间内用户的访问次数&#x27; AGGREGATE &#x27;SUM&#x27;,人均访问次数 COMMENT &#x27;每个用户平均访问的次数&#x27;,访问用户数 COMMENT &#x27;访问的用户个数&#x27; AGGREGATE &#x27;COUNT&#x27;,], Dimensions: [部门,]&quot;,
              &quot;sqlOutput&quot;: &quot;SELECT SUM(访问次数) FROM 超音数数据集&quot;,
              &quot;sqlRespMap&quot;: {
                &quot;SELECT SUM(访问次数) FROM 超音数数据集&quot;: {
                  &quot;sqlWeight&quot;: 1.0,
                  &quot;fewShots&quot;: [
                    {
                      &quot;question&quot;: &quot;今年以来发行的歌曲中，有哪些在近7天播放超过一千万的 (补充信息:。当前的日期是2023-08-12) &quot;,
                      &quot;dbSchema&quot;: &quot;Table: 歌曲库, Columns = [\&quot;发行日期\&quot;, \&quot;歌曲语言\&quot;, \&quot;歌曲来源\&quot;, \&quot;歌曲流派\&quot;, \&quot;歌曲名\&quot;, \&quot;歌曲版本\&quot;, \&quot;歌曲类型\&quot;, \&quot;发行时间\&quot;, \&quot;数据日期\&quot;]&quot;,
                      &quot;sql&quot;: &quot;SELECT 歌曲名 FROM 歌曲库 WHERE datediff(&#x27;year&#x27;, 发行日期, &#x27;2023-08-12&#x27;) &lt;= 0 AND datediff(&#x27;day&#x27;, 数据日期, &#x27;2023-08-12&#x27;) &lt;= 7 AND 结算播放量 &gt; 10000000&quot;
                    },
                    {
                      &quot;question&quot;: &quot;超音数近半年每个月的平均访问次数 (补充信息:。当前的日期是2023-09-04) &quot;,
                      &quot;dbSchema&quot;: &quot;Table: 超音数产品, Columns = [\&quot;用户名\&quot;, \&quot;部门\&quot;, \&quot;模块\&quot;, \&quot;访问时长\&quot;, \&quot;访问次数\&quot;, \&quot;访问人数\&quot;, \&quot;数据日期\&quot;]&quot;,
                      &quot;sql&quot;: &quot;SELECT MONTH(数据日期), AVG(访问次数) FROM 超音数产品 WHERE datediff(&#x27;year&#x27;, 数据日期, &#x27;2023-09-04&#x27;) &lt;= 0.5 GROUP BY MONTH(数据日期)&quot;
                    },
                    {
                      &quot;question&quot;: &quot;我想要近半年签约的播放量前十的歌手有哪些 (补充信息:。当前的日期是2023-09-11) &quot;,
                      &quot;dbSchema&quot;: &quot;Table: 艺人库, Columns = [\&quot;播放量层级\&quot;, \&quot;播放量单调性\&quot;, \&quot;播放量方差\&quot;, \&quot;播放量突增类型\&quot;, \&quot;播放量集中度\&quot;, \&quot;歌手名\&quot;, \&quot;歌手等级\&quot;, \&quot;歌手类型\&quot;, \&quot;歌手来源\&quot;, \&quot;签约日期\&quot;, \&quot;MPPM潮流人等级\&quot;, \&quot;结算播放量\&quot;, \&quot;运营播放量\&quot;, \&quot;历史累计结算播放量\&quot;, \&quot;有播放量歌曲数\&quot;, \&quot;历史累计运营播放量\&quot;, \&quot;付费用户结算播放量\&quot;, \&quot;结算播放量占比\&quot;, \&quot;运营播放份额\&quot;, \&quot;免费用户结算播放占比\&quot;, \&quot;完播量\&quot;, \&quot;数据日期\&quot;]&quot;,
                      &quot;sql&quot;: &quot;SELECT 歌手名 FROM 艺人库 WHERE datediff(&#x27;year&#x27;, 签约日期, &#x27;2023-09-11&#x27;) &lt;= 0.5 ORDER BY 结算播放量 DESC LIMIT 10&quot;
                    },
                    {
                      &quot;question&quot;: &quot;播放量大于1万的歌曲有多少 (补充信息:。当前的日期是2023-07-31) &quot;,
                      &quot;dbSchema&quot;: &quot;Table: 歌曲库, Columns = [\&quot;歌曲名\&quot;, \&quot;歌曲版本\&quot;, \&quot;歌曲类型\&quot;, \&quot;MPPM歌曲ID\&quot;, \&quot;是否严选窄口径歌曲\&quot;, \&quot;是否严选宽口径歌曲\&quot;, \&quot;是否潮流人歌曲\&quot;, \&quot;超声波歌曲ID\&quot;, \&quot;C音歌曲ID\&quot;, \&quot;C音歌曲MID\&quot;, \&quot;结算播放量\&quot;, \&quot;运营播放量\&quot;, \&quot;分享量\&quot;, \&quot;收藏量\&quot;, \&quot;运营搜播量\&quot;, \&quot;结算搜播量\&quot;, \&quot;拉新用户数\&quot;, \&quot;拉活用户数\&quot;, \&quot;分享率\&quot;, \&quot;结算播放份额\&quot;, \&quot;数据日期\&quot;]&quot;,
                      &quot;sql&quot;: &quot;SELECT 歌曲名 FROM 歌曲库 WHERE 结算播放量 &gt; 10000&quot;
                    },
                    {
                      &quot;question&quot;: &quot;超音数访问次数大于1k的部门是哪些 (补充信息:。当前的日期是2023-09-14) &quot;,
                      &quot;dbSchema&quot;: &quot;Table: 超音数产品, Columns = [\&quot;部门\&quot;, \&quot;模块\&quot;, \&quot;用户名\&quot;, \&quot;访问次数\&quot;, \&quot;访问人数\&quot;, \&quot;访问时长\&quot;, \&quot;数据日期\&quot;]&quot;,
                      &quot;sql&quot;: &quot;SELECT 部门 FROM 超音数产品 WHERE 访问次数 &gt; 1000&quot;
                    }
                  ]
                }
              }
            },
            &quot;linkingValues&quot;: []
          }
        },
        &quot;sqlInfo&quot;: { &quot;s2SQL&quot;: &quot;SELECT SUM(访问次数) FROM 超音数数据集&quot; },
        &quot;sqlEvaluation&quot;: {},
        &quot;queryType&quot;: &quot;ID&quot;,
        &quot;dataSetId&quot;: 1
      },
      &quot;queryMode&quot;: &quot;LLM_S2SQL&quot;
    },
    {
      &quot;parseInfo&quot;: {
        &quot;queryMode&quot;: &quot;METRIC_GROUPBY&quot;,
        &quot;dataSet&quot;: {
          &quot;dataSet&quot;: 1,
          &quot;dataSetName&quot;: &quot;超音数数据集&quot;,
          &quot;id&quot;: 1,
          &quot;name&quot;: &quot;超音数数据集&quot;,
          &quot;bizName&quot;: &quot;s2&quot;,
          &quot;type&quot;: &quot;DATASET&quot;,
          &quot;order&quot;: 0.0,
          &quot;isTag&quot;: 0
        },
        &quot;metrics&quot;: [
          {
            &quot;dataSet&quot;: 1,
            &quot;dataSetName&quot;: &quot;超音数数据集&quot;,
            &quot;model&quot;: 2,
            &quot;id&quot;: 1,
            &quot;name&quot;: &quot;访问次数&quot;,
            &quot;bizName&quot;: &quot;pv&quot;,
            &quot;useCnt&quot;: 0,
            &quot;type&quot;: &quot;METRIC&quot;,
            &quot;alias&quot;: [],
            &quot;relatedSchemaElements&quot;: [
              { &quot;dimensionId&quot;: 1, &quot;necessary&quot;: false },
              { &quot;dimensionId&quot;: 2, &quot;necessary&quot;: false }
            ],
            &quot;defaultAgg&quot;: &quot;SUM&quot;,
            &quot;order&quot;: 0.0,
            &quot;isTag&quot;: 0,
            &quot;description&quot;: &quot;一段时间内用户的访问次数&quot;
          },
          {
            &quot;dataSet&quot;: 1,
            &quot;dataSetName&quot;: &quot;超音数数据集&quot;,
            &quot;model&quot;: 2,
            &quot;id&quot;: 4,
            &quot;name&quot;: &quot;人均访问次数&quot;,
            &quot;bizName&quot;: &quot;pv_avg&quot;,
            &quot;useCnt&quot;: 0,
            &quot;type&quot;: &quot;METRIC&quot;,
            &quot;alias&quot;: [&quot;平均访问次数&quot;],
            &quot;relatedSchemaElements&quot;: [{ &quot;dimensionId&quot;: 1, &quot;necessary&quot;: false }],
            &quot;defaultAgg&quot;: &quot;&quot;,
            &quot;order&quot;: 0.002841870251016343,
            &quot;isTag&quot;: 0,
            &quot;description&quot;: &quot;每个用户平均访问的次数&quot;
          },
          {
            &quot;dataSet&quot;: 1,
            &quot;dataSetName&quot;: &quot;超音数数据集&quot;,
            &quot;model&quot;: 2,
            &quot;id&quot;: 3,
            &quot;name&quot;: &quot;访问用户数&quot;,
            &quot;bizName&quot;: &quot;uv&quot;,
            &quot;useCnt&quot;: 0,
            &quot;type&quot;: &quot;METRIC&quot;,
            &quot;alias&quot;: [&quot;UV&quot;, &quot;访问人数&quot;],
            &quot;relatedSchemaElements&quot;: [{ &quot;dimensionId&quot;: 1, &quot;necessary&quot;: false }],
            &quot;defaultAgg&quot;: &quot;count&quot;,
            &quot;order&quot;: 0.004658766300494777,
            &quot;isTag&quot;: 0,
            &quot;description&quot;: &quot;访问的用户个数&quot;
          }
        ],
        &quot;dimensions&quot;: [
          {
            &quot;dataSet&quot;: 1,
            &quot;dataSetName&quot;: &quot;超音数数据集&quot;,
            &quot;model&quot;: 1,
            &quot;id&quot;: 1,
            &quot;name&quot;: &quot;部门&quot;,
            &quot;bizName&quot;: &quot;department&quot;,
            &quot;useCnt&quot;: 0,
            &quot;type&quot;: &quot;DIMENSION&quot;,
            &quot;alias&quot;: [],
            &quot;schemaValueMaps&quot;: [],
            &quot;order&quot;: 0.0,
            &quot;isTag&quot;: 1,
            &quot;description&quot;: &quot;&quot;
          }
        ],
        &quot;aggType&quot;: &quot;NONE&quot;,
        &quot;filterType&quot;: &quot;AND&quot;,
        &quot;dimensionFilters&quot;: [],
        &quot;metricFilters&quot;: [],
        &quot;orders&quot;: [],
        &quot;dateInfo&quot;: {
          &quot;dateMode&quot;: &quot;RECENT&quot;,
          &quot;startDate&quot;: &quot;2024-06-08&quot;,
          &quot;endDate&quot;: &quot;2024-07-07&quot;,
          &quot;dateList&quot;: [
            &quot;2024-06-08&quot;,
            &quot;2024-06-09&quot;,
            &quot;2024-06-10&quot;,
            &quot;2024-06-11&quot;,
            &quot;2024-06-12&quot;,
            &quot;2024-06-13&quot;,
            &quot;2024-06-14&quot;,
            &quot;2024-06-15&quot;,
            &quot;2024-06-16&quot;,
            &quot;2024-06-17&quot;,
            &quot;2024-06-18&quot;,
            &quot;2024-06-19&quot;,
            &quot;2024-06-20&quot;,
            &quot;2024-06-21&quot;,
            &quot;2024-06-22&quot;,
            &quot;2024-06-23&quot;,
            &quot;2024-06-24&quot;,
            &quot;2024-06-25&quot;,
            &quot;2024-06-26&quot;,
            &quot;2024-06-27&quot;,
            &quot;2024-06-28&quot;,
            &quot;2024-06-29&quot;,
            &quot;2024-06-30&quot;,
            &quot;2024-07-01&quot;,
            &quot;2024-07-02&quot;,
            &quot;2024-07-03&quot;,
            &quot;2024-07-04&quot;,
            &quot;2024-07-05&quot;,
            &quot;2024-07-06&quot;,
            &quot;2024-07-07&quot;
          ],
          &quot;unit&quot;: 30,
          &quot;period&quot;: &quot;DAY&quot;,
          &quot;detectWord&quot;: &quot;近30天&quot;,
          &quot;groupByDate&quot;: false,
          &quot;inherited&quot;: true,
          &quot;groupByTimeDimension&quot;: &quot;sys_imp_date&quot;
        },
        &quot;limit&quot;: 365,
        &quot;score&quot;: 6.0,
        &quot;elementMatches&quot;: [
          {
            &quot;element&quot;: {
              &quot;dataSet&quot;: 1,
              &quot;dataSetName&quot;: &quot;超音数数据集&quot;,
              &quot;model&quot;: 2,
              &quot;id&quot;: 1,
              &quot;name&quot;: &quot;访问次数&quot;,
              &quot;bizName&quot;: &quot;pv&quot;,
              &quot;useCnt&quot;: 0,
              &quot;type&quot;: &quot;METRIC&quot;,
              &quot;alias&quot;: [],
              &quot;relatedSchemaElements&quot;: [
                { &quot;dimensionId&quot;: 1, &quot;necessary&quot;: false },
                { &quot;dimensionId&quot;: 2, &quot;necessary&quot;: false }
              ],
              &quot;defaultAgg&quot;: &quot;SUM&quot;,
              &quot;order&quot;: 0.0,
              &quot;isTag&quot;: 0,
              &quot;description&quot;: &quot;一段时间内用户的访问次数&quot;
            },
            &quot;similarity&quot;: 1.0,
            &quot;detectWord&quot;: &quot;访问次数&quot;,
            &quot;word&quot;: &quot;访问次数&quot;,
            &quot;frequency&quot;: 100000,
            &quot;inherited&quot;: false
          },
          {
            &quot;element&quot;: {
              &quot;dataSet&quot;: 1,
              &quot;dataSetName&quot;: &quot;超音数数据集&quot;,
              &quot;model&quot;: 2,
              &quot;id&quot;: 4,
              &quot;name&quot;: &quot;人均访问次数&quot;,
              &quot;bizName&quot;: &quot;pv_avg&quot;,
              &quot;useCnt&quot;: 0,
              &quot;type&quot;: &quot;METRIC&quot;,
              &quot;alias&quot;: [&quot;平均访问次数&quot;],
              &quot;relatedSchemaElements&quot;: [
                { &quot;dimensionId&quot;: 1, &quot;necessary&quot;: false }
              ],
              &quot;defaultAgg&quot;: &quot;&quot;,
              &quot;order&quot;: 0.002841870251016343,
              &quot;isTag&quot;: 0,
              &quot;description&quot;: &quot;每个用户平均访问的次数&quot;
            },
            &quot;similarity&quot;: 0.9971581297489837,
            &quot;detectWord&quot;: &quot;人访问次数&quot;,
            &quot;word&quot;: &quot;人均访问次数&quot;,
            &quot;frequency&quot;: 100000,
            &quot;inherited&quot;: false
          },
          {
            &quot;element&quot;: {
              &quot;dataSet&quot;: 1,
              &quot;dataSetName&quot;: &quot;超音数数据集&quot;,
              &quot;model&quot;: 2,
              &quot;id&quot;: 3,
              &quot;name&quot;: &quot;访问用户数&quot;,
              &quot;bizName&quot;: &quot;uv&quot;,
              &quot;useCnt&quot;: 0,
              &quot;type&quot;: &quot;METRIC&quot;,
              &quot;alias&quot;: [&quot;UV&quot;, &quot;访问人数&quot;],
              &quot;relatedSchemaElements&quot;: [
                { &quot;dimensionId&quot;: 1, &quot;necessary&quot;: false }
              ],
              &quot;defaultAgg&quot;: &quot;count&quot;,
              &quot;order&quot;: 0.004658766300494777,
              &quot;isTag&quot;: 0,
              &quot;description&quot;: &quot;访问的用户个数&quot;
            },
            &quot;similarity&quot;: 0.9953412336995052,
            &quot;detectWord&quot;: &quot;访问次数&quot;,
            &quot;word&quot;: &quot;访问用户数&quot;,
            &quot;frequency&quot;: 100000,
            &quot;inherited&quot;: false
          },
          {
            &quot;element&quot;: {
              &quot;dataSet&quot;: 1,
              &quot;dataSetName&quot;: &quot;超音数数据集&quot;,
              &quot;model&quot;: 1,
              &quot;id&quot;: 1,
              &quot;name&quot;: &quot;部门&quot;,
              &quot;bizName&quot;: &quot;department&quot;,
              &quot;useCnt&quot;: 0,
              &quot;type&quot;: &quot;DIMENSION&quot;,
              &quot;alias&quot;: [],
              &quot;schemaValueMaps&quot;: [],
              &quot;order&quot;: 0.0,
              &quot;isTag&quot;: 1,
              &quot;description&quot;: &quot;&quot;
            },
            &quot;similarity&quot;: 1.0,
            &quot;detectWord&quot;: &quot;部门&quot;,
            &quot;word&quot;: &quot;部门&quot;,
            &quot;frequency&quot;: 100000,
            &quot;inherited&quot;: true
          }
        ],
        &quot;properties&quot;: {},
        &quot;sqlInfo&quot;: {},
        &quot;sqlEvaluation&quot;: {},
        &quot;queryType&quot;: &quot;ID&quot;,
        &quot;dataSetId&quot;: 1
      },
      &quot;queryMode&quot;: &quot;METRIC_GROUPBY&quot;
    },
    {
      &quot;parseInfo&quot;: {
        &quot;queryMode&quot;: &quot;METRIC_MODEL&quot;,
        &quot;dataSet&quot;: {
          &quot;dataSet&quot;: 1,
          &quot;dataSetName&quot;: &quot;超音数数据集&quot;,
          &quot;id&quot;: 1,
          &quot;name&quot;: &quot;超音数数据集&quot;,
          &quot;bizName&quot;: &quot;s2&quot;,
          &quot;type&quot;: &quot;DATASET&quot;,
          &quot;order&quot;: 0.0,
          &quot;isTag&quot;: 0
        },
        &quot;metrics&quot;: [
          {
            &quot;dataSet&quot;: 1,
            &quot;dataSetName&quot;: &quot;超音数数据集&quot;,
            &quot;model&quot;: 2,
            &quot;id&quot;: 1,
            &quot;name&quot;: &quot;访问次数&quot;,
            &quot;bizName&quot;: &quot;pv&quot;,
            &quot;useCnt&quot;: 0,
            &quot;type&quot;: &quot;METRIC&quot;,
            &quot;alias&quot;: [],
            &quot;relatedSchemaElements&quot;: [
              { &quot;dimensionId&quot;: 1, &quot;necessary&quot;: false },
              { &quot;dimensionId&quot;: 2, &quot;necessary&quot;: false }
            ],
            &quot;defaultAgg&quot;: &quot;SUM&quot;,
            &quot;order&quot;: 0.0,
            &quot;isTag&quot;: 0,
            &quot;description&quot;: &quot;一段时间内用户的访问次数&quot;
          },
          {
            &quot;dataSet&quot;: 1,
            &quot;dataSetName&quot;: &quot;超音数数据集&quot;,
            &quot;model&quot;: 2,
            &quot;id&quot;: 4,
            &quot;name&quot;: &quot;人均访问次数&quot;,
            &quot;bizName&quot;: &quot;pv_avg&quot;,
            &quot;useCnt&quot;: 0,
            &quot;type&quot;: &quot;METRIC&quot;,
            &quot;alias&quot;: [&quot;平均访问次数&quot;],
            &quot;relatedSchemaElements&quot;: [{ &quot;dimensionId&quot;: 1, &quot;necessary&quot;: false }],
            &quot;defaultAgg&quot;: &quot;&quot;,
            &quot;order&quot;: 0.002841870251016343,
            &quot;isTag&quot;: 0,
            &quot;description&quot;: &quot;每个用户平均访问的次数&quot;
          },
          {
            &quot;dataSet&quot;: 1,
            &quot;dataSetName&quot;: &quot;超音数数据集&quot;,
            &quot;model&quot;: 2,
            &quot;id&quot;: 3,
            &quot;name&quot;: &quot;访问用户数&quot;,
            &quot;bizName&quot;: &quot;uv&quot;,
            &quot;useCnt&quot;: 0,
            &quot;type&quot;: &quot;METRIC&quot;,
            &quot;alias&quot;: [&quot;UV&quot;, &quot;访问人数&quot;],
            &quot;relatedSchemaElements&quot;: [{ &quot;dimensionId&quot;: 1, &quot;necessary&quot;: false }],
            &quot;defaultAgg&quot;: &quot;count&quot;,
            &quot;order&quot;: 0.004658766300494777,
            &quot;isTag&quot;: 0,
            &quot;description&quot;: &quot;访问的用户个数&quot;
          }
        ],
        &quot;dimensions&quot;: [],
        &quot;aggType&quot;: &quot;NONE&quot;,
        &quot;filterType&quot;: &quot;AND&quot;,
        &quot;dimensionFilters&quot;: [],
        &quot;metricFilters&quot;: [],
        &quot;orders&quot;: [],
        &quot;dateInfo&quot;: {
          &quot;dateMode&quot;: &quot;RECENT&quot;,
          &quot;startDate&quot;: &quot;2024-06-08&quot;,
          &quot;endDate&quot;: &quot;2024-07-07&quot;,
          &quot;dateList&quot;: [
            &quot;2024-06-08&quot;,
            &quot;2024-06-09&quot;,
            &quot;2024-06-10&quot;,
            &quot;2024-06-11&quot;,
            &quot;2024-06-12&quot;,
            &quot;2024-06-13&quot;,
            &quot;2024-06-14&quot;,
            &quot;2024-06-15&quot;,
            &quot;2024-06-16&quot;,
            &quot;2024-06-17&quot;,
            &quot;2024-06-18&quot;,
            &quot;2024-06-19&quot;,
            &quot;2024-06-20&quot;,
            &quot;2024-06-21&quot;,
            &quot;2024-06-22&quot;,
            &quot;2024-06-23&quot;,
            &quot;2024-06-24&quot;,
            &quot;2024-06-25&quot;,
            &quot;2024-06-26&quot;,
            &quot;2024-06-27&quot;,
            &quot;2024-06-28&quot;,
            &quot;2024-06-29&quot;,
            &quot;2024-06-30&quot;,
            &quot;2024-07-01&quot;,
            &quot;2024-07-02&quot;,
            &quot;2024-07-03&quot;,
            &quot;2024-07-04&quot;,
            &quot;2024-07-05&quot;,
            &quot;2024-07-06&quot;,
            &quot;2024-07-07&quot;
          ],
          &quot;unit&quot;: 30,
          &quot;period&quot;: &quot;DAY&quot;,
          &quot;detectWord&quot;: &quot;近30天&quot;,
          &quot;groupByDate&quot;: false,
          &quot;inherited&quot;: true,
          &quot;groupByTimeDimension&quot;: &quot;sys_imp_date&quot;
        },
        &quot;limit&quot;: 365,
        &quot;score&quot;: 4.0,
        &quot;elementMatches&quot;: [
          {
            &quot;element&quot;: {
              &quot;dataSet&quot;: 1,
              &quot;dataSetName&quot;: &quot;超音数数据集&quot;,
              &quot;model&quot;: 2,
              &quot;id&quot;: 1,
              &quot;name&quot;: &quot;访问次数&quot;,
              &quot;bizName&quot;: &quot;pv&quot;,
              &quot;useCnt&quot;: 0,
              &quot;type&quot;: &quot;METRIC&quot;,
              &quot;alias&quot;: [],
              &quot;relatedSchemaElements&quot;: [
                { &quot;dimensionId&quot;: 1, &quot;necessary&quot;: false },
                { &quot;dimensionId&quot;: 2, &quot;necessary&quot;: false }
              ],
              &quot;defaultAgg&quot;: &quot;SUM&quot;,
              &quot;order&quot;: 0.0,
              &quot;isTag&quot;: 0,
              &quot;description&quot;: &quot;一段时间内用户的访问次数&quot;
            },
            &quot;similarity&quot;: 1.0,
            &quot;detectWord&quot;: &quot;访问次数&quot;,
            &quot;word&quot;: &quot;访问次数&quot;,
            &quot;frequency&quot;: 100000,
            &quot;inherited&quot;: false
          },
          {
            &quot;element&quot;: {
              &quot;dataSet&quot;: 1,
              &quot;dataSetName&quot;: &quot;超音数数据集&quot;,
              &quot;model&quot;: 2,
              &quot;id&quot;: 4,
              &quot;name&quot;: &quot;人均访问次数&quot;,
              &quot;bizName&quot;: &quot;pv_avg&quot;,
              &quot;useCnt&quot;: 0,
              &quot;type&quot;: &quot;METRIC&quot;,
              &quot;alias&quot;: [&quot;平均访问次数&quot;],
              &quot;relatedSchemaElements&quot;: [
                { &quot;dimensionId&quot;: 1, &quot;necessary&quot;: false }
              ],
              &quot;defaultAgg&quot;: &quot;&quot;,
              &quot;order&quot;: 0.002841870251016343,
              &quot;isTag&quot;: 0,
              &quot;description&quot;: &quot;每个用户平均访问的次数&quot;
            },
            &quot;similarity&quot;: 0.9971581297489837,
            &quot;detectWord&quot;: &quot;人访问次数&quot;,
            &quot;word&quot;: &quot;人均访问次数&quot;,
            &quot;frequency&quot;: 100000,
            &quot;inherited&quot;: false
          },
          {
            &quot;element&quot;: {
              &quot;dataSet&quot;: 1,
              &quot;dataSetName&quot;: &quot;超音数数据集&quot;,
              &quot;model&quot;: 2,
              &quot;id&quot;: 3,
              &quot;name&quot;: &quot;访问用户数&quot;,
              &quot;bizName&quot;: &quot;uv&quot;,
              &quot;useCnt&quot;: 0,
              &quot;type&quot;: &quot;METRIC&quot;,
              &quot;alias&quot;: [&quot;UV&quot;, &quot;访问人数&quot;],
              &quot;relatedSchemaElements&quot;: [
                { &quot;dimensionId&quot;: 1, &quot;necessary&quot;: false }
              ],
              &quot;defaultAgg&quot;: &quot;count&quot;,
              &quot;order&quot;: 0.004658766300494777,
              &quot;isTag&quot;: 0,
              &quot;description&quot;: &quot;访问的用户个数&quot;
            },
            &quot;similarity&quot;: 0.9953412336995052,
            &quot;detectWord&quot;: &quot;访问次数&quot;,
            &quot;word&quot;: &quot;访问用户数&quot;,
            &quot;frequency&quot;: 100000,
            &quot;inherited&quot;: false
          }
        ],
        &quot;properties&quot;: {},
        &quot;sqlInfo&quot;: {},
        &quot;sqlEvaluation&quot;: {},
        &quot;queryType&quot;: &quot;ID&quot;,
        &quot;dataSetId&quot;: 1
      },
      &quot;queryMode&quot;: &quot;METRIC_MODEL&quot;
    }
  ],
  &quot;mapInfo&quot;: {
    &quot;dataSetElementMatches&quot;: {
      &quot;1&quot;: [
        {
          &quot;element&quot;: {
            &quot;dataSet&quot;: 1,
            &quot;dataSetName&quot;: &quot;超音数数据集&quot;,
            &quot;model&quot;: 2,
            &quot;id&quot;: 1,
            &quot;name&quot;: &quot;访问次数&quot;,
            &quot;bizName&quot;: &quot;pv&quot;,
            &quot;useCnt&quot;: 0,
            &quot;type&quot;: &quot;METRIC&quot;,
            &quot;alias&quot;: [],
            &quot;relatedSchemaElements&quot;: [
              { &quot;dimensionId&quot;: 1, &quot;necessary&quot;: false },
              { &quot;dimensionId&quot;: 2, &quot;necessary&quot;: false }
            ],
            &quot;defaultAgg&quot;: &quot;SUM&quot;,
            &quot;order&quot;: 0.0,
            &quot;isTag&quot;: 0,
            &quot;description&quot;: &quot;一段时间内用户的访问次数&quot;
          },
          &quot;similarity&quot;: 1.0,
          &quot;detectWord&quot;: &quot;访问次数&quot;,
          &quot;word&quot;: &quot;访问次数&quot;,
          &quot;frequency&quot;: 100000,
          &quot;inherited&quot;: false
        },
        {
          &quot;element&quot;: {
            &quot;dataSet&quot;: 1,
            &quot;dataSetName&quot;: &quot;超音数数据集&quot;,
            &quot;model&quot;: 2,
            &quot;id&quot;: 4,
            &quot;name&quot;: &quot;人均访问次数&quot;,
            &quot;bizName&quot;: &quot;pv_avg&quot;,
            &quot;useCnt&quot;: 0,
            &quot;type&quot;: &quot;METRIC&quot;,
            &quot;alias&quot;: [&quot;平均访问次数&quot;],
            &quot;relatedSchemaElements&quot;: [{ &quot;dimensionId&quot;: 1, &quot;necessary&quot;: false }],
            &quot;defaultAgg&quot;: &quot;&quot;,
            &quot;order&quot;: 0.002841870251016343,
            &quot;isTag&quot;: 0,
            &quot;description&quot;: &quot;每个用户平均访问的次数&quot;
          },
          &quot;similarity&quot;: 0.9971581297489837,
          &quot;detectWord&quot;: &quot;人访问次数&quot;,
          &quot;word&quot;: &quot;人均访问次数&quot;,
          &quot;frequency&quot;: 100000,
          &quot;inherited&quot;: false
        },
        {
          &quot;element&quot;: {
            &quot;dataSet&quot;: 1,
            &quot;dataSetName&quot;: &quot;超音数数据集&quot;,
            &quot;model&quot;: 2,
            &quot;id&quot;: 3,
            &quot;name&quot;: &quot;访问用户数&quot;,
            &quot;bizName&quot;: &quot;uv&quot;,
            &quot;useCnt&quot;: 0,
            &quot;type&quot;: &quot;METRIC&quot;,
            &quot;alias&quot;: [&quot;UV&quot;, &quot;访问人数&quot;],
            &quot;relatedSchemaElements&quot;: [{ &quot;dimensionId&quot;: 1, &quot;necessary&quot;: false }],
            &quot;defaultAgg&quot;: &quot;count&quot;,
            &quot;order&quot;: 0.004658766300494777,
            &quot;isTag&quot;: 0,
            &quot;description&quot;: &quot;访问的用户个数&quot;
          },
          &quot;similarity&quot;: 0.9953412336995052,
          &quot;detectWord&quot;: &quot;访问次数&quot;,
          &quot;word&quot;: &quot;访问用户数&quot;,
          &quot;frequency&quot;: 100000,
          &quot;inherited&quot;: false
        },
        {
          &quot;element&quot;: {
            &quot;dataSet&quot;: 1,
            &quot;dataSetName&quot;: &quot;超音数数据集&quot;,
            &quot;model&quot;: 1,
            &quot;id&quot;: 1,
            &quot;name&quot;: &quot;部门&quot;,
            &quot;bizName&quot;: &quot;department&quot;,
            &quot;useCnt&quot;: 0,
            &quot;type&quot;: &quot;DIMENSION&quot;,
            &quot;alias&quot;: [],
            &quot;schemaValueMaps&quot;: [],
            &quot;order&quot;: 0.0,
            &quot;isTag&quot;: 1,
            &quot;description&quot;: &quot;&quot;
          },
          &quot;similarity&quot;: 1.0,
          &quot;detectWord&quot;: &quot;部门&quot;,
          &quot;word&quot;: &quot;部门&quot;,
          &quot;frequency&quot;: 100000,
          &quot;inherited&quot;: true
        }
      ]
    },
    &quot;matchedDataSetInfos&quot;: [1]
  },
  &quot;mapModeEnum&quot;: &quot;STRICT&quot;,
  &quot;queryDataType&quot;: &quot;ALL&quot;,
  &quot;llmConfig&quot;: {
    &quot;provider&quot;: &quot;OPEN_AI&quot;,
    &quot;baseUrl&quot;: &quot;https://api.openai.com/v1&quot;,
    &quot;apiKey&quot;: &quot;kGA4i6jY7QqG5xH+S0N++SzVWVKyAHesOq7NpoFVI7pgU14eb1AM296OFiLJTNtDVfpWDpfu7o4vDG2C2yWiSA==&quot;,
    &quot;modelName&quot;: &quot;gpt-3.5-turbo&quot;,
    &quot;temperature&quot;: 0.0,
    &quot;timeOut&quot;: 60
  },
  &quot;exemplars&quot;: []
}</code></pre><h2 id="9ceb9d37-cd80-4733-84e4-2ccb096e1881" class="">解释：</h2><h3 id="0b994ff4-ea08-4434-a81b-a8599848cf0b" class="">顶层结构</h3><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="bc6194d0-6708-4126-8ad7-256b4d067bbd" class="code"><code class="language-JSON" style="white-space:pre-wrap;word-break:break-all">{
  &quot;queryText&quot;: &quot;超音速对比所有人访问次数&quot;,
  &quot;chatId&quot;: 1,
  &quot;dataSetIds&quot;: [],
  &quot;modelIdToDataSetIds&quot;: { &quot;1&quot;: [1], &quot;2&quot;: [1], &quot;3&quot;: [1], &quot;4&quot;: [2] },
  &quot;user&quot;: {...},
  &quot;saveAnswer&quot;: true,
  &quot;text2SQLType&quot;: &quot;RULE_AND_LLM&quot;,
  &quot;candidateQueries&quot;: [...],
  &quot;mapInfo&quot;: {...},
  &quot;mapModeEnum&quot;: &quot;STRICT&quot;,
  &quot;queryDataType&quot;: &quot;ALL&quot;,
  &quot;llmConfig&quot;: {...},
  &quot;exemplars&quot;: []
}</code></pre><ol type="1" id="c6766469-4fb7-464d-b274-b8ad1ac8f9e4" class="numbered-list" start="1"><li><code><strong>queryText</strong></code><strong>:</strong> <code>&quot;超音速对比所有人访问次数&quot;</code><ul id="04013428-8050-44c9-b99d-465bb8f66eb5" class="bulleted-list"><li style="list-style-type:disc">用户输入的查询文本，用户希望查询“超音速对比所有人访问次数”。</li></ul></li></ol><ol type="1" id="a37e2982-5801-4263-8714-00004d46fbcb" class="numbered-list" start="2"><li><code><strong>chatId</strong></code><strong>:</strong> <code>1</code><ul id="da51eb72-32f4-4af6-99d8-e05a26fb2943" class="bulleted-list"><li style="list-style-type:disc">对话的唯一标识符，表示这个查询属于的对话ID。</li></ul></li></ol><ol type="1" id="29a39e04-e5a1-4489-9127-408f95dba78f" class="numbered-list" start="3"><li><code><strong>dataSetIds</strong></code><strong>:</strong> <code>[]</code><ul id="de3c0592-8243-4c8a-a9bb-c4ae715c8e3b" class="bulleted-list"><li style="list-style-type:disc">空数组，通常用于指定查询涉及的数据集ID。这里为空，可能意味着在这次查询中并未显式指定数据集。</li></ul></li></ol><ol type="1" id="20d1974b-f7d9-49f2-a7fd-bdff9a7f8cf2" class="numbered-list" start="4"><li><code><strong>modelIdToDataSetIds</strong></code><strong>:</strong> <code>{ &quot;1&quot;: [1], &quot;2&quot;: [1], &quot;3&quot;: [1], &quot;4&quot;: [2] }</code><ul id="b04dd18d-304d-4bde-8164-a35f407a7139" class="bulleted-list"><li style="list-style-type:disc">模型ID到数据集ID的映射关系。例如，模型ID为1、2、3的都对应数据集ID为1，而模型ID为4的对应数据集ID为2。</li></ul></li></ol><ol type="1" id="380bece5-e876-4e02-af6d-074c23a8e770" class="numbered-list" start="5"><li><code><strong>user</strong></code><strong>:</strong><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="a2d5e294-11d8-4478-9b17-02c8faeb1eba" class="code"><code class="language-JSON" style="white-space:pre-wrap;word-break:break-all">{
  &quot;id&quot;: 6,
  &quot;name&quot;: &quot;admin&quot;,
  &quot;displayName&quot;: &quot;admin&quot;,
  &quot;email&quot;: &quot;null&quot;,
  &quot;isAdmin&quot;: 1,
  &quot;superAdmin&quot;: true}</code></pre><ul id="b3614d8d-37a0-45dd-83c9-47d2073dffaf" class="bulleted-list"><li style="list-style-type:disc">用户信息，包括用户ID、用户名、显示名称、邮箱、管理员权限和超级管理员标识。</li></ul></li></ol><ol type="1" id="528344f8-9b2b-401f-8d81-268459f64399" class="numbered-list" start="6"><li><code><strong>saveAnswer</strong></code><strong>:</strong> <code>true</code><ul id="f9ca1ff5-ff44-432e-852c-55d67f5c2474" class="bulleted-list"><li style="list-style-type:disc">表示查询结果是否需要保存，<code>true</code> 表示结果将被保存。</li></ul></li></ol><ol type="1" id="df01d9c9-8a0c-42a2-a2b7-70ccf5118105" class="numbered-list" start="7"><li><code><strong>text2SQLType</strong></code><strong>:</strong> <code>&quot;RULE_AND_LLM&quot;</code><ul id="6e697daf-3a7e-41bf-b48f-212fbce2bc21" class="bulleted-list"><li style="list-style-type:disc">使用的自然语言到SQL的转换策略类型，<code>RULE_AND_LLM</code> 表示结合了规则和大语言模型（LLM）的方法。</li></ul></li></ol><ol type="1" id="e1a5fe5d-9be9-4092-971d-8dcde095cebe" class="numbered-list" start="8"><li><code><strong>candidateQueries</strong></code><strong>:</strong><ul id="89d14092-19e8-4fee-a6e6-5e3e4ac071a3" class="bulleted-list"><li style="list-style-type:disc">包含多个候选查询，每个候选查询是系统生成的可能的SQL查询版本。</li></ul></li></ol><ol type="1" id="fd6f357a-9b6b-4ab6-83bb-9664c4e69f8e" class="numbered-list" start="9"><li><code><strong>mapInfo</strong></code><strong>:</strong><ul id="6c52207c-7ef8-48e9-8cef-b9609ca17286" class="bulleted-list"><li style="list-style-type:disc">包含数据集元素匹配信息和匹配的数据集信息，详细解释见下文。</li></ul></li></ol><ol type="1" id="9652aeab-845a-4fc5-8bdd-5c951b7c6a27" class="numbered-list" start="10"><li><code><strong>mapModeEnum</strong></code><strong>:</strong> <code>&quot;STRICT&quot;</code><ul id="c4a0f74c-a8fd-43d1-ac17-abc522c619f1" class="bulleted-list"><li style="list-style-type:disc">映射模式，<code>STRICT</code> 表示严格模式，可能对查询解析的精确性要求较高。</li></ul></li></ol><ol type="1" id="97eabf0c-00d4-4e5c-a821-822cdedb187f" class="numbered-list" start="11"><li><code><strong>queryDataType</strong></code><strong>:</strong> <code>&quot;ALL&quot;</code><ul id="ad9140ca-35bd-4285-bc5e-cab90762bc30" class="bulleted-list"><li style="list-style-type:disc">查询的数据类型，<code>ALL</code> 表示查询包含所有类型的数据。</li></ul></li></ol><ol type="1" id="46cb6332-7012-4d29-8dd3-4400de2aabf2" class="numbered-list" start="12"><li><code><strong>llmConfig</strong></code><strong>:</strong><ul id="dcfa9a53-a2d9-4e2e-b836-cbd4649d194d" class="bulleted-list"><li style="list-style-type:disc">大语言模型（LLM）相关的配置信息，详细解释见下文。</li></ul></li></ol><ol type="1" id="7c03dfe9-caaf-4624-8213-ff391905ae4e" class="numbered-list" start="13"><li><code><strong>exemplars</strong></code><strong>:</strong> <code>[]</code><ul id="93c61921-a87f-4c23-a237-19f8ae89caff" class="bulleted-list"><li style="list-style-type:disc">空数组，通常用于存储查询示例或训练数据。在此例中没有提供示例。</li></ul></li></ol><h3 id="d5438a5e-2fc9-40ff-aa91-f9a0f24a3a5c" class=""><code>candidateQueries</code> 数组中的项</h3><p id="1885dd4a-d6eb-4d2a-bd65-6e73a113ed9f" class="">候选查询是系统基于输入生成的多种可能的SQL查询版本，系统会从中选择一个或多个进行执行。</p><h3 id="a1483e99-4cee-4882-893e-9a1dfa3fb2fc" class="">第一个候选查询</h3><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="8138e1e6-5ee4-4af8-8610-fc738e3bf642" class="code"><code class="language-JSON" style="white-space:pre-wrap;word-break:break-all">{
  &quot;parseInfo&quot;: {
    &quot;queryMode&quot;: &quot;LLM_S2SQL&quot;,
    &quot;dataSet&quot;: {...},
    &quot;metrics&quot;: [],
    &quot;dimensions&quot;: [],
    &quot;aggType&quot;: &quot;NONE&quot;,
    &quot;filterType&quot;: &quot;AND&quot;,
    &quot;dimensionFilters&quot;: [],
    &quot;metricFilters&quot;: [],
    &quot;orders&quot;: [],
    &quot;score&quot;: 24.0,
    &quot;elementMatches&quot;: [...],
    &quot;properties&quot;: {...},
    &quot;sqlInfo&quot;: {...},
    &quot;sqlEvaluation&quot;: {},
    &quot;queryType&quot;: &quot;ID&quot;,
    &quot;dataSetId&quot;: 1
  },
  &quot;queryMode&quot;: &quot;LLM_S2SQL&quot;
}</code></pre><ol type="1" id="e4f7c5e8-4aec-49d1-b6cf-5d4738dbb95f" class="numbered-list" start="1"><li><code><strong>parseInfo.queryMode</strong></code><strong>:</strong> <code>&quot;LLM_S2SQL&quot;</code><ul id="1f26653a-0705-4dfb-9cf2-a80f642c397a" class="bulleted-list"><li style="list-style-type:disc">查询模式为使用大语言模型生成SQL (<code>LLM_S2SQL</code>)。</li></ul></li></ol><ol type="1" id="496b292d-22a7-431c-b560-302966e1c7e7" class="numbered-list" start="2"><li><code><strong>parseInfo.dataSet</strong></code><strong>:</strong><ul id="2b20d7ff-07e0-4afe-8e0b-6661ad85024f" class="bulleted-list"><li style="list-style-type:disc">与查询相关的数据集信息。</li></ul></li></ol><ol type="1" id="4f1b10ca-bfdd-4c49-b6fd-d236403bf80d" class="numbered-list" start="3"><li><code><strong>parseInfo.metrics</strong></code><strong>:</strong> <code>[]</code><ul id="d6a6069e-c605-4828-846e-bdf8fccddb58" class="bulleted-list"><li style="list-style-type:disc">空数组，表示此查询未涉及具体的度量指标。</li></ul></li></ol><ol type="1" id="a3a9c2ab-dc29-4fe6-8952-168c55847335" class="numbered-list" start="4"><li><code><strong>parseInfo.dimensions</strong></code><strong>:</strong> <code>[]</code><ul id="d599a4ea-d059-4cd2-9538-1cf13aa01b05" class="bulleted-list"><li style="list-style-type:disc">空数组，表示此查询未涉及具体的维度。</li></ul></li></ol><ol type="1" id="584c2052-f66a-4c00-9704-575d622d8d50" class="numbered-list" start="5"><li><code><strong>parseInfo.aggType</strong></code><strong>:</strong> <code>&quot;NONE&quot;</code><ul id="9341fcf3-d464-4bab-82d4-806ba9ec8ce7" class="bulleted-list"><li style="list-style-type:disc">查询没有进行额外的聚合操作。</li></ul></li></ol><ol type="1" id="27e0da85-a2e3-4da2-8899-c1e7d71c8f72" class="numbered-list" start="6"><li><code><strong>parseInfo.filterType</strong></code><strong>:</strong> <code>&quot;AND&quot;</code><ul id="240419d0-7ef6-4b2a-b8c2-96385849a3f6" class="bulleted-list"><li style="list-style-type:disc">查询过滤条件使用的是 <code>AND</code> 逻辑。</li></ul></li></ol><ol type="1" id="c9f100b4-5054-4927-8d42-6b1829a0eb85" class="numbered-list" start="7"><li><code><strong>parseInfo.dimensionFilters</strong></code><strong>:</strong> <code>[]</code><ul id="a2135d33-6ca8-4c70-a4af-ac54070163ea" class="bulleted-list"><li style="list-style-type:disc">空数组，表示未使用维度过滤条件。</li></ul></li></ol><ol type="1" id="de61feca-081d-4899-81dc-4c39e5f076b2" class="numbered-list" start="8"><li><code><strong>parseInfo.metricFilters</strong></code><strong>:</strong> <code>[]</code><ul id="1234e1e0-92e7-4377-83ea-34dc2d48d945" class="bulleted-list"><li style="list-style-type:disc">空数组，表示未使用指标过滤条件。</li></ul></li></ol><ol type="1" id="b1e7259a-63e2-40c5-93bb-faf195f456f8" class="numbered-list" start="9"><li><code><strong>parseInfo.orders</strong></code><strong>:</strong> <code>[]</code><ul id="c33d911a-088a-4488-bab0-6a4efa013ae0" class="bulleted-list"><li style="list-style-type:disc">空数组，表示没有指定查询结果的排序顺序。</li></ul></li></ol><ol type="1" id="03efe516-9abd-4ba9-a584-3bb6ced395f8" class="numbered-list" start="10"><li><code><strong>parseInfo.score</strong></code><strong>:</strong> <code>24.0</code><ul id="545038de-e355-427b-a206-5745d717fe90" class="bulleted-list"><li style="list-style-type:disc">系统对该解析结果的评分，分数越高表示该解析结果与原始查询的匹配度越高。</li></ul></li></ol><ol type="1" id="37d2d357-52c3-4ff8-9483-28a4f99ef6d6" class="numbered-list" start="11"><li><code><strong>parseInfo.elementMatches</strong></code><strong>:</strong><ul id="86495cef-90d8-4a05-9e80-130ad9abcb54" class="bulleted-list"><li style="list-style-type:disc">查询中识别出的元素匹配信息。</li></ul></li></ol><ol type="1" id="718a1d3a-f35a-4b6a-81cb-8cf1b4e19591" class="numbered-list" start="12"><li><code><strong>parseInfo.properties</strong></code><strong>:</strong><ul id="0dc48e36-8335-4505-a6fa-0530c9584e86" class="bulleted-list"><li style="list-style-type:disc">额外的属性信息。</li></ul></li></ol><ol type="1" id="29e4b946-bec3-48e2-9640-5a901c770bf5" class="numbered-list" start="13"><li><code><strong>parseInfo.sqlInfo</strong></code><strong>:</strong><ul id="690f71ff-0062-47d1-8924-3d6490988fcc" class="bulleted-list"><li style="list-style-type:disc">SQL生成的相关信息。</li></ul></li></ol><ol type="1" id="e7c28c2d-9d1f-47af-9d59-6124c875c792" class="numbered-list" start="14"><li><code><strong>parseInfo.sqlEvaluation</strong></code><strong>:</strong> <code>{}</code><ul id="a22168d6-8060-40be-ba7f-f03c75bba175" class="bulleted-list"><li style="list-style-type:disc">空对象，表示未进行SQL评估。</li></ul></li></ol><ol type="1" id="b3ec7f04-746a-49c6-9138-ae0256b93f39" class="numbered-list" start="15"><li><code><strong>parseInfo.queryType</strong></code><strong>:</strong> <code>&quot;ID&quot;</code><ul id="78285be9-3631-46b4-b5ec-41faf9eff17d" class="bulleted-list"><li style="list-style-type:disc">查询的类型，这里是ID类型查询，可能与系统内部逻辑相关。</li></ul></li></ol><ol type="1" id="8f109e19-a381-4730-abc6-ea0f61d4a2ec" class="numbered-list" start="16"><li><code><strong>parseInfo.dataSetId</strong></code><strong>:</strong> <code>1</code><ul id="7b65ac10-6341-4987-86d9-6fa0eb0281c8" class="bulleted-list"><li style="list-style-type:disc">使用的数据集ID为1。</li></ul></li></ol><ol type="1" id="2b7ede12-7efc-44fa-9b3e-714672215d2b" class="numbered-list" start="17"><li><code><strong>queryMode</strong></code><strong>:</strong> <code>&quot;LLM_S2SQL&quot;</code><ul id="0fd61ccc-e491-4e27-9a7c-9b49c980b2a6" class="bulleted-list"><li style="list-style-type:disc">与 <code>parseInfo.queryMode</code> 相同，表示使用大语言模型生成SQL的查询模式。</li></ul></li></ol><h3 id="d3e1988a-80ae-48a3-9269-34596e30dfe3" class="">第二个候选查询</h3><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="1f7f2520-fa5a-4b62-ad4d-c85834e409e0" class="code"><code class="language-JSON" style="white-space:pre-wrap;word-break:break-all">{
  &quot;parseInfo&quot;: {
    &quot;queryMode&quot;: &quot;METRIC_GROUPBY&quot;,
    &quot;dataSet&quot;: {...},
    &quot;metrics&quot;: [...],
    &quot;dimensions&quot;: [...],
    &quot;aggType&quot;: &quot;NONE&quot;,
    &quot;filterType&quot;: &quot;AND&quot;,
    &quot;dimensionFilters&quot;: [],
    &quot;metricFilters&quot;: [],
    &quot;orders&quot;: [],
    &quot;dateInfo&quot;: {...},
    &quot;limit&quot;: 365,
    &quot;score&quot;: 6.0,
    &quot;elementMatches&quot;: [...],
    &quot;properties&quot;: {},
    &quot;sqlInfo&quot;: {},
    &quot;sqlEvaluation&quot;: {},
    &quot;queryType&quot;: &quot;ID&quot;,
    &quot;dataSetId&quot;: 1
  },
  &quot;queryMode&quot;: &quot;METRIC_GROUPBY&quot;
}</code></pre><ol type="1" id="d36d877c-7da9-45fb-826a-f3a7cbe639e3" class="numbered-list" start="1"><li><code><strong>parseInfo.queryMode</strong></code><strong>:</strong> <code>&quot;METRIC_GROUPBY&quot;</code><ul id="913424a3-bd4b-4d5a-a0d7-068f9b26f820" class="bulleted-list"><li style="list-style-type:disc">查询模式为按维度分组计算度量 (<code>METRIC_GROUPBY</code>)。</li></ul></li></ol><ol type="1" id="9a06ae1d-9f4d-4ba2-910c-ca7c7b06fca8" class="numbered-list" start="2"><li><code><strong>parseInfo.dataSet</strong></code><strong>:</strong><ul id="cd15cafb-46ef-4a6c-883d-212c521c1fe3" class="bulleted-list"><li style="list-style-type:disc">与查询相关的数据集信息。</li></ul></li></ol><ol type="1" id="f8229442-d882-40b4-9361-fea83664b342" class="numbered-list" start="3"><li><code><strong>parseInfo.metrics</strong></code><strong>:</strong><ul id="ffba93a0-6fa9-404e-ae33-b89915466722" class="bulleted-list"><li style="list-style-type:disc">包含查询涉及的度量指标信息。</li></ul></li></ol><ol type="1" id="151b0ef3-f6cd-4563-972c-94f8836e44d9" class="numbered-list" start="4"><li><code><strong>parseInfo.dimensions</strong></code><strong>:</strong><ul id="0802bc7a-df00-4d83-82ea-b070575c9584" class="bulleted-list"><li style="list-style-type:disc">包含查询涉及的维度信息。</li></ul></li></ol><ol type="1" id="500fd223-c84e-49e7-9075-72fb3e506385" class="numbered-list" start="5"><li><code><strong>parseInfo.aggType</strong></code><strong>:</strong> <code>&quot;NONE&quot;</code><ul id="7cf156cd-e5fd-4212-8329-9267143581ea" class="bulleted-list"><li style="list-style-type:disc">查询没有进行额外的聚合操作。</li></ul></li></ol><ol type="1" id="e7f40576-9d60-4725-9f84-cac19fe01f2f" class="numbered-list" start="6"><li><code><strong>parseInfo.filterType</strong></code><strong>:</strong> <code>&quot;AND&quot;</code><ul id="51b21c52-4423-43b9-844f-e36403fb3baa" class="bulleted-list"><li style="list-style-type:disc">查询过滤条件使用的是 <code>AND</code> 逻辑。</li></ul></li></ol><ol type="1" id="890bc3f9-9ae8-43ef-b700-3f843726163c" class="numbered-list" start="7"><li><code><strong>parseInfo.dimensionFilters</strong></code><strong>:</strong> <code>[]</code><ul id="2f344656-0076-4418-95f8-a62f33ac67d7" class="bulleted-list"><li style="list-style-type:disc">空数组，表示未使用维度过滤条件。</li></ul></li></ol><ol type="1" id="9f96ca67-c2b4-4912-951f-bf7fa39d911c" class="numbered-list" start="8"><li><code><strong>parseInfo.metricFilters</strong></code><strong>:</strong> <code>[]</code><ul id="42885aab-9248-422d-81b6-a23ef0702e81" class="bulleted-list"><li style="list-style-type:disc">空数组，表示未使用指标过滤条件。</li></ul></li></ol><ol type="1" id="655c7381-f3f5-40ba-aead-6f8660ecc783" class="numbered-list" start="9"><li><code><strong>parseInfo.orders</strong></code><strong>:</strong> <code>[]</code><ul id="a21f04e4-f1ec-4983-8349-010b9be6fae8" class="bulleted-list"><li style="list-style-type:disc">空数组，表示没有指定查询结果的排序顺序。</li></ul></li></ol><ol type="1" id="d1b2f6f6-3d6b-46c4-8c06-3ca06f7f1031" class="numbered-list" start="10"><li><code><strong>parseInfo.dateInfo</strong></code><strong>:</strong><ul id="a645f360-3732-4445-9afe-b9b220e1ce3d" class="bulleted-list"><li style="list-style-type:disc">查询涉及的时间范围信息。</li></ul></li></ol><ol type="1" id="5ca78480-6635-4d02-b050-c829cdac274e" class="numbered-list" start="11"><li><code><strong>parseInfo.limit</strong></code><strong>:</strong> <code>365</code><ul id="9acb3760-adb8-4a7e-a762-0a21af835ab1" class="bulleted-list"><li style="list-style-type:disc">查询结果的数量限制为365条记录。</li></ul></li></ol><ol type="1" id="144a7551-9ff7-4fd8-8382-a449bead6dd3" class="numbered-list" start="12"><li><code><strong>parseInfo.score</strong></code><strong>:</strong> <code>6.0</code><ul id="365e84ee-59dd-49b3-8166-ed47b6b90817" class="bulleted-list"><li style="list-style-type:disc">系统对该解析结果的评分，分数较低表示该解析结果与原始查询的匹配度较低。</li></ul></li></ol><ol type="1" id="219b5d03-c02b-4077-9995-996bea8a332d" class="numbered-list" start="13"><li><code><strong>parseInfo.elementMatches</strong></code><strong>:</strong><ul id="43c4e07e-1f84-4832-8612-be6752ee8f2a" class="bulleted-list"><li style="list-style-type:disc">查询中识别出的元素匹配信息。</li></ul></li></ol><ol type="1" id="7db01799-61d9-44d9-9068-b11babcc7344" class="numbered-list" start="14"><li><code><strong>parseInfo.properties</strong></code><strong>:</strong> <code>{}</code><ul id="0b036766-83de-4ddb-a073-85cc8ef53dd7" class="bulleted-list"><li style="list-style-type:disc">空对象，表示没有额外的属性信息。</li></ul></li></ol><ol type="1" id="306e7142-aa34-4362-a799-0303d55525b8" class="numbered-list" start="15"><li><code><strong>parseInfo.sqlInfo</strong></code><strong>:</strong> <code>{}</code><ul id="e27249cb-9cc1-41fc-82a4-31b11c10898d" class="bulleted-list"><li style="list-style-type:disc">空对象，表示还没有生成SQL查询语句。</li></ul></li></ol><ol type="1" id="8d70466b-c2ff-4cd0-8c72-5737f86e6308" class="numbered-list" start="16"><li><code><strong>parseInfo.sqlEvaluation</strong></code><strong>:</strong> <code>{}</code><ul id="39ffd9fc-a7a7-4f05-9800-1fefa430898f" class="bulleted-list"><li style="list-style-type:disc">空对象，表示没有进行SQL评估。</li></ul></li></ol><ol type="1" id="c5cf42cb-5f74-47b9-b96c-b7fc0886358e" class="numbered-list" start="17"><li><code><strong>parseInfo.queryType</strong></code><strong>:</strong> <code>&quot;ID&quot;</code><ul id="649908fd-0306-425f-b4ee-c10655935787" class="bulleted-list"><li style="list-style-type:disc">查询的类型，这里是ID类型查询，可能与系统内部逻辑相关。</li></ul></li></ol><ol type="1" id="f2ba148a-f408-4d99-840f-3aace0fa749f" class="numbered-list" start="18"><li><code><strong>parseInfo.dataSetId</strong></code><strong>:</strong> <code>1</code><ul id="482927b8-b170-4baa-bff7-480f0db0d2ff" class="bulleted-list"><li style="list-style-type:disc">使用的数据集ID为1。</li></ul></li></ol><ol type="1" id="6f2b2b12-fc7a-4f65-8e6c-b896abf180cf" class="numbered-list" start="19"><li><code><strong>queryMode</strong></code><strong>:</strong> <code>&quot;METRIC_GROUPBY&quot;</code><ul id="cc4f758a-2b97-4f12-94cc-803ec699f301" class="bulleted-list"><li style="list-style-type:disc">与 <code>parseInfo.queryMode</code> 相同，表示查询模式为按维度分组计算度量。</li></ul></li></ol><h3 id="b6446a0b-9ce1-4131-833e-dd5467c0300e" class="">第三个候选查询</h3><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="871c04bd-6599-4cf5-90fa-46b62206d910" class="code"><code class="language-JSON" style="white-space:pre-wrap;word-break:break-all">{
  &quot;parseInfo&quot;: {
    &quot;queryMode&quot;: &quot;METRIC_MODEL&quot;,
    &quot;dataSet&quot;: {...},
    &quot;metrics&quot;: [...],
    &quot;dimensions&quot;: [],
    &quot;aggType&quot;: &quot;NONE&quot;,
    &quot;filterType&quot;: &quot;AND&quot;,
    &quot;dimensionFilters&quot;: [],
    &quot;metricFilters&quot;: [],
    &quot;orders&quot;: [],
    &quot;dateInfo&quot;: {...},
    &quot;limit&quot;: 365,
    &quot;score&quot;: 4.0,
    &quot;elementMatches&quot;: [...],
    &quot;properties&quot;: {},
    &quot;sqlInfo&quot;: {},
    &quot;sqlEvaluation&quot;: {},
    &quot;queryType&quot;: &quot;ID&quot;,
    &quot;dataSetId&quot;: 1
  },
  &quot;queryMode&quot;: &quot;METRIC_MODEL&quot;
}</code></pre><ol type="1" id="08c6e5da-9482-40b5-87a9-7ca61d231d70" class="numbered-list" start="1"><li><code><strong>parseInfo.queryMode</strong></code><strong>:</strong> <code>&quot;METRIC_MODEL&quot;</code><ul id="125e531d-b044-49f4-9314-983c2a9796f3" class="bulleted-list"><li style="list-style-type:disc">查询模式为度量模型 (<code>METRIC_MODEL</code>)。</li></ul></li></ol><ol type="1" id="6c4807da-18e4-4cc3-ae60-7d5fdfd36cee" class="numbered-list" start="2"><li><code><strong>parseInfo.dataSet</strong></code><strong>:</strong><ul id="8d6d4d56-4310-4cd6-b1e9-22ed9e7e8b82" class="bulleted-list"><li style="list-style-type:disc">与查询相关的数据集信息。</li></ul></li></ol><ol type="1" id="6accd35d-24cc-4a2e-afa7-a148c559761e" class="numbered-list" start="3"><li><code><strong>parseInfo.metrics</strong></code><strong>:</strong><ul id="c5e349f7-386e-44a9-94dd-7345f8a4491f" class="bulleted-list"><li style="list-style-type:disc">包含查询涉及的度量指标信息。</li></ul></li></ol><ol type="1" id="f9431ecc-52bc-41c2-9115-b8fdca77b749" class="numbered-list" start="4"><li><code><strong>parseInfo.dimensions</strong></code><strong>:</strong> <code>[]</code><ul id="34358578-6de6-40c1-a480-090b8517ecbb" class="bulleted-list"><li style="list-style-type:disc">空数组，表示此查询未涉及具体的维度。</li></ul></li></ol><ol type="1" id="0994cfcf-ae8d-435b-9bb2-00d256883c4d" class="numbered-list" start="5"><li><code><strong>parseInfo.aggType</strong></code><strong>:</strong> <code>&quot;NONE&quot;</code><ul id="df72b51d-0af2-41c0-b672-3086f59e3aec" class="bulleted-list"><li style="list-style-type:disc">查询没有进行额外的聚合操作。</li></ul></li></ol><ol type="1" id="eec36c10-21e8-46b1-bf25-5e1f7c7386da" class="numbered-list" start="6"><li><code><strong>parseInfo.filterType</strong></code><strong>:</strong> <code>&quot;AND&quot;</code><ul id="e35f6e3b-b79a-4d6f-845b-2f624074f259" class="bulleted-list"><li style="list-style-type:disc">查询过滤条件使用的是 <code>AND</code> 逻辑。</li></ul></li></ol><ol type="1" id="c27fe278-ed9a-47ae-a5e4-f7513b97c88c" class="numbered-list" start="7"><li><code><strong>parseInfo.dimensionFilters</strong></code><strong>:</strong> <code>[]</code><ul id="bb41b071-ab06-4cc4-bd44-3d28d575edb6" class="bulleted-list"><li style="list-style-type:disc">空数组，表示未使用维度过滤条件。</li></ul></li></ol><ol type="1" id="cb2b99d6-6976-4164-89b9-abf1849a46ce" class="numbered-list" start="8"><li><code><strong>parseInfo.metricFilters</strong></code><strong>:</strong> <code>[]</code><ul id="bfe67a7c-e392-4bf1-afd4-aed391d1ba47" class="bulleted-list"><li style="list-style-type:disc">空数组，表示未使用指标过滤条件。</li></ul></li></ol><ol type="1" id="c9f373a1-9681-4c21-902e-45949b0b3c14" class="numbered-list" start="9"><li><code><strong>parseInfo.orders</strong></code><strong>:</strong> <code>[]</code><ul id="34ecd754-e9ae-4e37-af4a-24a89ebe5b61" class="bulleted-list"><li style="list-style-type:disc">空数组，表示没有指定查询结果的排序顺序。</li></ul></li></ol><ol type="1" id="89575ff0-7bba-4310-a624-47ab762e3b70" class="numbered-list" start="10"><li><code><strong>parseInfo.dateInfo</strong></code><strong>:</strong><ul id="cb675fb4-ef48-4978-9a8b-5d8120f68ad6" class="bulleted-list"><li style="list-style-type:disc">查询涉及的时间范围信息。</li></ul></li></ol><ol type="1" id="22fdc331-69d1-449b-ba91-cee30d67b3aa" class="numbered-list" start="11"><li><code><strong>parseInfo.limit</strong></code><strong>:</strong> <code>365</code><ul id="71e12485-783e-4cdd-b643-eb4a8994b47f" class="bulleted-list"><li style="list-style-type:disc">查询结果的数量限制为365条记录。</li></ul></li></ol><ol type="1" id="060b5723-300f-4dfe-84b3-cfed7418e3fd" class="numbered-list" start="12"><li><code><strong>parseInfo.score</strong></code><strong>:</strong> <code>4.0</code><ul id="dc4fdfaf-f6f6-4215-9ffb-1cdbf15a9ecf" class="bulleted-list"><li style="list-style-type:disc">系统对该解析结果的评分，分数较低表示该解析结果与原始查询的匹配度较低。</li></ul></li></ol><ol type="1" id="c099646a-c38c-462b-806d-5d444bffbda4" class="numbered-list" start="13"><li><code><strong>parseInfo.elementMatches</strong></code><strong>:</strong><ul id="ec110543-094d-4651-9a8a-93201594d03a" class="bulleted-list"><li style="list-style-type:disc">查询中识别出的元素匹配信息。</li></ul></li></ol><ol type="1" id="f2dfa30e-9c80-4151-aa8c-a4435c89e17a" class="numbered-list" start="14"><li><code><strong>parseInfo.properties</strong></code><strong>:</strong> <code>{}</code><ul id="113a683e-4b19-4fe4-b067-984d218af60a" class="bulleted-list"><li style="list-style-type:disc">空对象，表示没有额外的属性信息。</li></ul></li></ol><ol type="1" id="0fef4bbf-2e66-4c0f-85fd-1c83eead9f96" class="numbered-list" start="15"><li><code><strong>parseInfo.sqlInfo</strong></code><strong>:</strong> <code>{}</code><ul id="e6fdf9b7-fdc9-4b24-b669-7d6ff5823973" class="bulleted-list"><li style="list-style-type:disc">空对象，表示还没有生成SQL查询语句。</li></ul></li></ol><ol type="1" id="5f964915-dd05-4d27-9833-70a8d4ca49df" class="numbered-list" start="16"><li><code><strong>parseInfo.sqlEvaluation</strong></code><strong>:</strong> <code>{}</code><ul id="852ad54f-51db-4166-8907-ba85b90fa5f8" class="bulleted-list"><li style="list-style-type:disc">空对象，表示没有进行SQL评估。</li></ul></li></ol><ol type="1" id="61fdf024-87fa-4a0e-a8bc-31ee42b259f2" class="numbered-list" start="17"><li><code><strong>parseInfo.queryType</strong></code><strong>:</strong> <code>&quot;ID&quot;</code><ul id="aa526cc1-7fab-4088-a035-24fc7ab8697b" class="bulleted-list"><li style="list-style-type:disc">查询的类型，这里是ID类型查询，可能与系统内部逻辑相关。</li></ul></li></ol><ol type="1" id="876e666e-ecf6-4779-8e81-57edc495eb6a" class="numbered-list" start="18"><li><code><strong>parseInfo.dataSetId</strong></code><strong>:</strong> <code>1</code><ul id="f96becbf-8fd3-4079-969c-e391494dc002" class="bulleted-list"><li style="list-style-type:disc">使用的数据集ID为1。</li></ul></li></ol><ol type="1" id="9e1ab3be-9d4b-4c41-8bdb-448da7cfafe5" class="numbered-list" start="19"><li><code><strong>queryMode</strong></code><strong>:</strong> <code>&quot;METRIC_MODEL&quot;</code><ul id="2e9e4357-ad8f-484c-abb5-88f52e9305f6" class="bulleted-list"><li style="list-style-type:disc">与 <code>parseInfo.queryMode</code> 相同，表示查询模式为度量模型。</li></ul></li></ol><h3 id="f91adee9-63ae-4784-981d-cece27856b88" class=""><code>mapInfo</code> 对象</h3><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="15b62804-9018-45aa-9d3c-e211669b8504" class="code"><code class="language-JSON" style="white-space:pre-wrap;word-break:break-all">{
  &quot;dataSetElementMatches&quot;: {
    &quot;1&quot;: [
      {...},
      {...},
      {...},
      {...}
    ]
  },
  &quot;matchedDataSetInfos&quot;: [1]
}</code></pre><ol type="1" id="bb69f966-59f5-41ad-99a7-97d71ecb2cd1" class="numbered-list" start="1"><li><code><strong>dataSetElementMatches</strong></code><strong>:</strong><ul id="40127c60-1a86-4932-b0a4-5fa4a92d2e6e" class="bulleted-list"><li style="list-style-type:disc">这是一个映射，键是数据集ID，值是该数据集中匹配的元素列表。</li></ul></li></ol><ol type="1" id="30f680b8-008c-42b8-ba5d-920e7a1feb59" class="numbered-list" start="2"><li><code><strong>matchedDataSetInfos</strong></code><strong>:</strong> <code>[1]</code><ul id="f6d9fb0b-fba5-4554-99ea-b145abfb0901" class="bulleted-list"><li style="list-style-type:disc">这是一个数组，列出了匹配的数据集ID。在这个例子中，只有数据集ID为1的被匹配。</li></ul></li></ol><h3 id="c6e611b6-09d1-4cda-a212-f88a71a17ff9" class=""><code>llmConfig</code> 对象</h3><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="54f3d07c-77fc-4b06-8c86-c08b08883ac0" class="code"><code class="language-JSON" style="white-space:pre-wrap;word-break:break-all">{
  &quot;provider&quot;: &quot;OPEN_AI&quot;,
  &quot;baseUrl&quot;: &quot;https://api.openai.com/v1&quot;,
  &quot;apiKey&quot;: &quot;&quot;,
  &quot;modelName&quot;: &quot;gpt-3.5-turbo&quot;,
  &quot;temperature&quot;: 0.0,
  &quot;timeOut&quot;: 60
}</code></pre><ol type="1" id="1c770477-8fa1-478d-a84d-aaccbad50d94" class="numbered-list" start="1"><li><code><strong>provider</strong></code><strong>:</strong> <code>&quot;OPEN_AI&quot;</code><ul id="8e1634c3-e3dd-4728-b70d-c5246d306402" class="bulleted-list"><li style="list-style-type:disc">使用的LLM提供商是OpenAI。</li></ul></li></ol><ol type="1" id="54e2b2e2-3ceb-42c7-a2a8-2e4f62128d79" class="numbered-list" start="2"><li><code><strong>baseUrl</strong></code><strong>:</strong> <code>&quot;https://api.openai.com/v1&quot;</code><ul id="0eac0baf-083d-475f-b0bd-dda8f8de5284" class="bulleted-list"><li style="list-style-type:disc">LLM API的基础URL。</li></ul></li></ol><ol type="1" id="af018fc3-cabf-44d5-992b-e695c386858d" class="numbered-list" start="3"><li><code><strong>apiKey</strong></code><strong>:</strong><ul id="b54b4f3f-a3d4-4082-80c8-751c5c3c2308" class="bulleted-list"><li style="list-style-type:disc">API调用所需的密钥。</li></ul></li></ol><ol type="1" id="a1cf3183-f41a-4f50-8c16-aa45a349816d" class="numbered-list" start="4"><li><code><strong>modelName</strong></code><strong>:</strong> <code>&quot;gpt-3.5-turbo&quot;</code><ul id="777eac3a-f89f-4a55-957a-aa8c24e17533" class="bulleted-list"><li style="list-style-type:disc">使用的模型名称，表示使用了OpenAI的GPT-3.5 Turbo模型。</li></ul></li></ol><ol type="1" id="1827d9cf-ebc1-474b-b8c9-040c61695b45" class="numbered-list" start="5"><li><code><strong>temperature</strong></code><strong>:</strong> <code>0.0</code><ul id="295f6ea5-2eb0-4860-be2e-0c853724b302" class="bulleted-list"><li style="list-style-type:disc">生成文本的“温度”参数，控制输出的随机性。<code>0.0</code> 表示输出结果更加确定性，较少随机性。</li></ul></li></ol><ol type="1" id="32044502-51df-4e8d-85be-d247dd5a85bf" class="numbered-list" start="6"><li><code><strong>timeOut</strong></code><strong>:</strong> <code>60</code><ul id="74c1fd98-fac9-4fbd-b633-5df4ff546fc6" class="bulleted-list"><li style="list-style-type:disc">API请求的超时时间，单位为秒。</li></ul></li></ol><h3 id="5552b90f-de73-4dea-a87c-5e824847a632" class="">关键点总结</h3><ol type="1" id="40773aa5-91c8-4f3d-8746-5efa039b265e" class="numbered-list" start="1"><li><strong>查询模式</strong>：<mark class="highlight-red">这个JSON定义了三个候选查询模式：</mark><mark class="highlight-red"><code>LLM_S2SQL</code></mark>、<code>METRIC_GROUPBY</code> 和 <code>METRIC_MODEL</code>，分别处理不同的查询逻辑。</li></ol><ol type="1" id="9daad7b2-6d5d-4f9c-a146-c7347ab4fadb" class="numbered-list" start="2"><li><strong>用户信息</strong>：请求由用户 <code>admin</code> 发起，且为管理员身份。</li></ol><ol type="1" id="cc1ae3eb-3d6e-470d-a3d6-81eec1fd2bfd" class="numbered-list" start="3"><li><strong>数据集匹配</strong>：查询的文本与数据集中的指标和维度进行了匹配，并选择了合适的模式生成候选SQL查询。</li></ol><ol type="1" id="1549a295-3515-4ddc-aa51-f36d33cf6f4e" class="numbered-list" start="4"><li><strong>LLM配置</strong>：使用了OpenAI的GPT-3.5 Turbo模型，结合规则和LLM来处理自然语言查询并生成SQL。</li></ol><p id="b8dab04d-1ad9-418c-8932-cd585203b27d" class="">
</p><h2 id="467d86e8-ce0b-4de2-8c76-ad851945a43e" class=""><mark class="highlight-default">14:57:19 [http-nio-9080-exec-2] DEBUG c.t.s.h.s.w.s.i.WorkflowServiceImpl 67 - QueryTypeParser result:</mark></h2><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="a698145d-a029-4d28-af19-226bf17ba1a0" class="code"><code class="language-JSON">{
  &quot;queryText&quot;: &quot;超音速对比所有人访问次数&quot;,
  &quot;chatId&quot;: 1,
  &quot;dataSetIds&quot;: [],
  &quot;modelIdToDataSetIds&quot;: { &quot;1&quot;: [1], &quot;2&quot;: [1], &quot;3&quot;: [1], &quot;4&quot;: [2] },
  &quot;user&quot;: {
    &quot;id&quot;: 6,
    &quot;name&quot;: &quot;admin&quot;,
    &quot;displayName&quot;: &quot;admin&quot;,
    &quot;email&quot;: &quot;null&quot;,
    &quot;isAdmin&quot;: 1,
    &quot;superAdmin&quot;: true
  },
  &quot;saveAnswer&quot;: true,
  &quot;text2SQLType&quot;: &quot;RULE_AND_LLM&quot;,
  &quot;candidateQueries&quot;: [
    {
      &quot;parseInfo&quot;: {
        &quot;queryMode&quot;: &quot;LLM_S2SQL&quot;,
        &quot;dataSet&quot;: {
          &quot;dataSet&quot;: 1,
          &quot;dataSetName&quot;: &quot;超音数数据集&quot;,
          &quot;id&quot;: 1,
          &quot;name&quot;: &quot;超音数数据集&quot;,
          &quot;bizName&quot;: &quot;s2&quot;,
          &quot;type&quot;: &quot;DATASET&quot;,
          &quot;order&quot;: 0.0,
          &quot;isTag&quot;: 0
        },
        &quot;metrics&quot;: [],
        &quot;dimensions&quot;: [],
        &quot;aggType&quot;: &quot;NONE&quot;,
        &quot;filterType&quot;: &quot;AND&quot;,
        &quot;dimensionFilters&quot;: [],
        &quot;metricFilters&quot;: [],
        &quot;orders&quot;: [],
        &quot;score&quot;: 24.0,
        &quot;elementMatches&quot;: [
          {
            &quot;element&quot;: {
              &quot;dataSet&quot;: 1,
              &quot;dataSetName&quot;: &quot;超音数数据集&quot;,
              &quot;model&quot;: 2,
              &quot;id&quot;: 1,
              &quot;name&quot;: &quot;访问次数&quot;,
              &quot;bizName&quot;: &quot;pv&quot;,
              &quot;useCnt&quot;: 0,
              &quot;type&quot;: &quot;METRIC&quot;,
              &quot;alias&quot;: [],
              &quot;relatedSchemaElements&quot;: [
                { &quot;dimensionId&quot;: 1, &quot;necessary&quot;: false },
                { &quot;dimensionId&quot;: 2, &quot;necessary&quot;: false }
              ],
              &quot;defaultAgg&quot;: &quot;SUM&quot;,
              &quot;order&quot;: 0.0,
              &quot;isTag&quot;: 0,
              &quot;description&quot;: &quot;一段时间内用户的访问次数&quot;
            },
            &quot;similarity&quot;: 1.0,
            &quot;detectWord&quot;: &quot;访问次数&quot;,
            &quot;word&quot;: &quot;访问次数&quot;,
            &quot;frequency&quot;: 100000,
            &quot;inherited&quot;: false
          },
          {
            &quot;element&quot;: {
              &quot;dataSet&quot;: 1,
              &quot;dataSetName&quot;: &quot;超音数数据集&quot;,
              &quot;model&quot;: 2,
              &quot;id&quot;: 4,
              &quot;name&quot;: &quot;人均访问次数&quot;,
              &quot;bizName&quot;: &quot;pv_avg&quot;,
              &quot;useCnt&quot;: 0,
              &quot;type&quot;: &quot;METRIC&quot;,
              &quot;alias&quot;: [&quot;平均访问次数&quot;],
              &quot;relatedSchemaElements&quot;: [
                { &quot;dimensionId&quot;: 1, &quot;necessary&quot;: false }
              ],
              &quot;defaultAgg&quot;: &quot;&quot;,
              &quot;order&quot;: 0.002841870251016343,
              &quot;isTag&quot;: 0,
              &quot;description&quot;: &quot;每个用户平均访问的次数&quot;
            },
            &quot;similarity&quot;: 0.9971581297489837,
            &quot;detectWord&quot;: &quot;人访问次数&quot;,
            &quot;word&quot;: &quot;人均访问次数&quot;,
            &quot;frequency&quot;: 100000,
            &quot;inherited&quot;: false
          },
          {
            &quot;element&quot;: {
              &quot;dataSet&quot;: 1,
              &quot;dataSetName&quot;: &quot;超音数数据集&quot;,
              &quot;model&quot;: 2,
              &quot;id&quot;: 3,
              &quot;name&quot;: &quot;访问用户数&quot;,
              &quot;bizName&quot;: &quot;uv&quot;,
              &quot;useCnt&quot;: 0,
              &quot;type&quot;: &quot;METRIC&quot;,
              &quot;alias&quot;: [&quot;UV&quot;, &quot;访问人数&quot;],
              &quot;relatedSchemaElements&quot;: [
                { &quot;dimensionId&quot;: 1, &quot;necessary&quot;: false }
              ],
              &quot;defaultAgg&quot;: &quot;count&quot;,
              &quot;order&quot;: 0.004658766300494777,
              &quot;isTag&quot;: 0,
              &quot;description&quot;: &quot;访问的用户个数&quot;
            },
            &quot;similarity&quot;: 0.9953412336995052,
            &quot;detectWord&quot;: &quot;访问次数&quot;,
            &quot;word&quot;: &quot;访问用户数&quot;,
            &quot;frequency&quot;: 100000,
            &quot;inherited&quot;: false
          },
          {
            &quot;element&quot;: {
              &quot;dataSet&quot;: 1,
              &quot;dataSetName&quot;: &quot;超音数数据集&quot;,
              &quot;model&quot;: 1,
              &quot;id&quot;: 1,
              &quot;name&quot;: &quot;部门&quot;,
              &quot;bizName&quot;: &quot;department&quot;,
              &quot;useCnt&quot;: 0,
              &quot;type&quot;: &quot;DIMENSION&quot;,
              &quot;alias&quot;: [],
              &quot;schemaValueMaps&quot;: [],
              &quot;order&quot;: 0.0,
              &quot;isTag&quot;: 1,
              &quot;description&quot;: &quot;&quot;
            },
            &quot;similarity&quot;: 1.0,
            &quot;detectWord&quot;: &quot;部门&quot;,
            &quot;word&quot;: &quot;部门&quot;,
            &quot;frequency&quot;: 100000,
            &quot;inherited&quot;: true
          }
        ],
        &quot;properties&quot;: {
          &quot;type&quot;: &quot;internal&quot;,
          &quot;CONTEXT&quot;: {
            &quot;dataSetId&quot;: 1,
            &quot;llmReq&quot;: {
              &quot;queryText&quot;: &quot;超音速对比所有人访问次数&quot;,
              &quot;filterCondition&quot;: {},
              &quot;schema&quot;: {
                &quot;domainName&quot;: &quot;超音数数据集&quot;,
                &quot;dataSetName&quot;: &quot;超音数数据集&quot;,
                &quot;dataSetId&quot;: 1,
                &quot;fieldNameList&quot;: [
                  &quot;访问用户数&quot;,
                  &quot;用户&quot;,
                  &quot;部门&quot;,
                  &quot;访问次数&quot;,
                  &quot;人均访问次数&quot;,
                  &quot;停留时长&quot;,
                  &quot;页面&quot;,
                  &quot;数据日期&quot;
                ],
                &quot;metrics&quot;: [
                  {
                    &quot;dataSet&quot;: 1,
                    &quot;dataSetName&quot;: &quot;超音数数据集&quot;,
                    &quot;model&quot;: 2,
                    &quot;id&quot;: 1,
                    &quot;name&quot;: &quot;访问次数&quot;,
                    &quot;bizName&quot;: &quot;pv&quot;,
                    &quot;useCnt&quot;: 0,
                    &quot;type&quot;: &quot;METRIC&quot;,
                    &quot;alias&quot;: [],
                    &quot;relatedSchemaElements&quot;: [
                      { &quot;dimensionId&quot;: 1, &quot;necessary&quot;: false },
                      { &quot;dimensionId&quot;: 2, &quot;necessary&quot;: false }
                    ],
                    &quot;defaultAgg&quot;: &quot;SUM&quot;,
                    &quot;order&quot;: 0.0,
                    &quot;isTag&quot;: 0,
                    &quot;description&quot;: &quot;一段时间内用户的访问次数&quot;
                  },
                  {
                    &quot;dataSet&quot;: 1,
                    &quot;dataSetName&quot;: &quot;超音数数据集&quot;,
                    &quot;model&quot;: 2,
                    &quot;id&quot;: 4,
                    &quot;name&quot;: &quot;人均访问次数&quot;,
                    &quot;bizName&quot;: &quot;pv_avg&quot;,
                    &quot;useCnt&quot;: 0,
                    &quot;type&quot;: &quot;METRIC&quot;,
                    &quot;alias&quot;: [&quot;平均访问次数&quot;],
                    &quot;relatedSchemaElements&quot;: [
                      { &quot;dimensionId&quot;: 1, &quot;necessary&quot;: false }
                    ],
                    &quot;defaultAgg&quot;: &quot;&quot;,
                    &quot;order&quot;: 0.002841870251016343,
                    &quot;isTag&quot;: 0,
                    &quot;description&quot;: &quot;每个用户平均访问的次数&quot;
                  },
                  {
                    &quot;dataSet&quot;: 1,
                    &quot;dataSetName&quot;: &quot;超音数数据集&quot;,
                    &quot;model&quot;: 2,
                    &quot;id&quot;: 3,
                    &quot;name&quot;: &quot;访问用户数&quot;,
                    &quot;bizName&quot;: &quot;uv&quot;,
                    &quot;useCnt&quot;: 0,
                    &quot;type&quot;: &quot;METRIC&quot;,
                    &quot;alias&quot;: [&quot;UV&quot;, &quot;访问人数&quot;],
                    &quot;relatedSchemaElements&quot;: [
                      { &quot;dimensionId&quot;: 1, &quot;necessary&quot;: false }
                    ],
                    &quot;defaultAgg&quot;: &quot;count&quot;,
                    &quot;order&quot;: 0.004658766300494777,
                    &quot;isTag&quot;: 0,
                    &quot;description&quot;: &quot;访问的用户个数&quot;
                  }
                ],
                &quot;dimensions&quot;: [
                  {
                    &quot;dataSet&quot;: 1,
                    &quot;dataSetName&quot;: &quot;超音数数据集&quot;,
                    &quot;model&quot;: 1,
                    &quot;id&quot;: 1,
                    &quot;name&quot;: &quot;部门&quot;,
                    &quot;bizName&quot;: &quot;department&quot;,
                    &quot;useCnt&quot;: 0,
                    &quot;type&quot;: &quot;DIMENSION&quot;,
                    &quot;alias&quot;: [],
                    &quot;schemaValueMaps&quot;: [],
                    &quot;order&quot;: 0.0,
                    &quot;isTag&quot;: 1,
                    &quot;description&quot;: &quot;&quot;
                  }
                ],
                &quot;terms&quot;: []
              },
              &quot;linking&quot;: [],
              &quot;currentDate&quot;: &quot;2024-08-07&quot;,
              &quot;priorExts&quot;: &quot;&quot;,
              &quot;sqlGenType&quot;: &quot;1_pass_self_consistency&quot;,
              &quot;llmConfig&quot;: {
                &quot;provider&quot;: &quot;OPEN_AI&quot;,
                &quot;baseUrl&quot;: &quot;https://api.openai.com/v1&quot;,
                &quot;apiKey&quot;: &quot;kGA4i6jY7QqG5xH+S0N++SzVWVKyAHesOq7NpoFVI7pgU14eb1AM296OFiLJTNtDVfpWDpfu7o4vDG2C2yWiSA==&quot;,
                &quot;modelName&quot;: &quot;gpt-3.5-turbo&quot;,
                &quot;temperature&quot;: 0.0,
                &quot;timeOut&quot;: 60
              },
              &quot;exemplars&quot;: []
            },
            &quot;llmResp&quot;: {
              &quot;query&quot;: &quot;超音速对比所有人访问次数&quot;,
              &quot;modelName&quot;: &quot;超音数数据集&quot;,
              &quot;dbSchema&quot;: &quot;Table: 超音数数据集, Metrics: [访问次数 COMMENT &#x27;一段时间内用户的访问次数&#x27; AGGREGATE &#x27;SUM&#x27;,人均访问次数 COMMENT &#x27;每个用户平均访问的次数&#x27;,访问用户数 COMMENT &#x27;访问的用户个数&#x27; AGGREGATE &#x27;COUNT&#x27;,], Dimensions: [部门,]&quot;,
              &quot;sqlOutput&quot;: &quot;SELECT SUM(访问次数) FROM 超音数数据集&quot;,
              &quot;sqlRespMap&quot;: {
                &quot;SELECT SUM(访问次数) FROM 超音数数据集&quot;: {
                  &quot;sqlWeight&quot;: 1.0,
                  &quot;fewShots&quot;: [
                    {
                      &quot;question&quot;: &quot;今年以来发行的歌曲中，有哪些在近7天播放超过一千万的 (补充信息:。当前的日期是2023-08-12) &quot;,
                      &quot;dbSchema&quot;: &quot;Table: 歌曲库, Columns = [\&quot;发行日期\&quot;, \&quot;歌曲语言\&quot;, \&quot;歌曲来源\&quot;, \&quot;歌曲流派\&quot;, \&quot;歌曲名\&quot;, \&quot;歌曲版本\&quot;, \&quot;歌曲类型\&quot;, \&quot;发行时间\&quot;, \&quot;数据日期\&quot;]&quot;,
                      &quot;sql&quot;: &quot;SELECT 歌曲名 FROM 歌曲库 WHERE datediff(&#x27;year&#x27;, 发行日期, &#x27;2023-08-12&#x27;) &lt;= 0 AND datediff(&#x27;day&#x27;, 数据日期, &#x27;2023-08-12&#x27;) &lt;= 7 AND 结算播放量 &gt; 10000000&quot;
                    },
                    {
                      &quot;question&quot;: &quot;超音数近半年每个月的平均访问次数 (补充信息:。当前的日期是2023-09-04) &quot;,
                      &quot;dbSchema&quot;: &quot;Table: 超音数产品, Columns = [\&quot;用户名\&quot;, \&quot;部门\&quot;, \&quot;模块\&quot;, \&quot;访问时长\&quot;, \&quot;访问次数\&quot;, \&quot;访问人数\&quot;, \&quot;数据日期\&quot;]&quot;,
                      &quot;sql&quot;: &quot;SELECT MONTH(数据日期), AVG(访问次数) FROM 超音数产品 WHERE datediff(&#x27;year&#x27;, 数据日期, &#x27;2023-09-04&#x27;) &lt;= 0.5 GROUP BY MONTH(数据日期)&quot;
                    },
                    {
                      &quot;question&quot;: &quot;我想要近半年签约的播放量前十的歌手有哪些 (补充信息:。当前的日期是2023-09-11) &quot;,
                      &quot;dbSchema&quot;: &quot;Table: 艺人库, Columns = [\&quot;播放量层级\&quot;, \&quot;播放量单调性\&quot;, \&quot;播放量方差\&quot;, \&quot;播放量突增类型\&quot;, \&quot;播放量集中度\&quot;, \&quot;歌手名\&quot;, \&quot;歌手等级\&quot;, \&quot;歌手类型\&quot;, \&quot;歌手来源\&quot;, \&quot;签约日期\&quot;, \&quot;MPPM潮流人等级\&quot;, \&quot;结算播放量\&quot;, \&quot;运营播放量\&quot;, \&quot;历史累计结算播放量\&quot;, \&quot;有播放量歌曲数\&quot;, \&quot;历史累计运营播放量\&quot;, \&quot;付费用户结算播放量\&quot;, \&quot;结算播放量占比\&quot;, \&quot;运营播放份额\&quot;, \&quot;免费用户结算播放占比\&quot;, \&quot;完播量\&quot;, \&quot;数据日期\&quot;]&quot;,
                      &quot;sql&quot;: &quot;SELECT 歌手名 FROM 艺人库 WHERE datediff(&#x27;year&#x27;, 签约日期, &#x27;2023-09-11&#x27;) &lt;= 0.5 ORDER BY 结算播放量 DESC LIMIT 10&quot;
                    },
                    {
                      &quot;question&quot;: &quot;播放量大于1万的歌曲有多少 (补充信息:。当前的日期是2023-07-31) &quot;,
                      &quot;dbSchema&quot;: &quot;Table: 歌曲库, Columns = [\&quot;歌曲名\&quot;, \&quot;歌曲版本\&quot;, \&quot;歌曲类型\&quot;, \&quot;MPPM歌曲ID\&quot;, \&quot;是否严选窄口径歌曲\&quot;, \&quot;是否严选宽口径歌曲\&quot;, \&quot;是否潮流人歌曲\&quot;, \&quot;超声波歌曲ID\&quot;, \&quot;C音歌曲ID\&quot;, \&quot;C音歌曲MID\&quot;, \&quot;结算播放量\&quot;, \&quot;运营播放量\&quot;, \&quot;分享量\&quot;, \&quot;收藏量\&quot;, \&quot;运营搜播量\&quot;, \&quot;结算搜播量\&quot;, \&quot;拉新用户数\&quot;, \&quot;拉活用户数\&quot;, \&quot;分享率\&quot;, \&quot;结算播放份额\&quot;, \&quot;数据日期\&quot;]&quot;,
                      &quot;sql&quot;: &quot;SELECT 歌曲名 FROM 歌曲库 WHERE 结算播放量 &gt; 10000&quot;
                    },
                    {
                      &quot;question&quot;: &quot;超音数访问次数大于1k的部门是哪些 (补充信息:。当前的日期是2023-09-14) &quot;,
                      &quot;dbSchema&quot;: &quot;Table: 超音数产品, Columns = [\&quot;部门\&quot;, \&quot;模块\&quot;, \&quot;用户名\&quot;, \&quot;访问次数\&quot;, \&quot;访问人数\&quot;, \&quot;访问时长\&quot;, \&quot;数据日期\&quot;]&quot;,
                      &quot;sql&quot;: &quot;SELECT 部门 FROM 超音数产品 WHERE 访问次数 &gt; 1000&quot;
                    }
                  ]
                }
              }
            },
            &quot;linkingValues&quot;: []
          }
        },
        &quot;sqlInfo&quot;: {
          &quot;s2SQL&quot;: &quot;SELECT SUM(访问次数) FROM 超音数数据集&quot;,
          &quot;correctS2SQL&quot;: &quot;SELECT SUM(访问次数) FROM 超音数数据集&quot;
        },
        &quot;sqlEvaluation&quot;: {},
        &quot;queryType&quot;: &quot;METRIC&quot;,
        &quot;dataSetId&quot;: 1
      },
      &quot;queryMode&quot;: &quot;LLM_S2SQL&quot;
    },
    {
      &quot;parseInfo&quot;: {
        &quot;queryMode&quot;: &quot;METRIC_GROUPBY&quot;,
        &quot;dataSet&quot;: {
          &quot;dataSet&quot;: 1,
          &quot;dataSetName&quot;: &quot;超音数数据集&quot;,
          &quot;id&quot;: 1,
          &quot;name&quot;: &quot;超音数数据集&quot;,
          &quot;bizName&quot;: &quot;s2&quot;,
          &quot;type&quot;: &quot;DATASET&quot;,
          &quot;order&quot;: 0.0,
          &quot;isTag&quot;: 0
        },
        &quot;metrics&quot;: [
          {
            &quot;dataSet&quot;: 1,
            &quot;dataSetName&quot;: &quot;超音数数据集&quot;,
            &quot;model&quot;: 2,
            &quot;id&quot;: 1,
            &quot;name&quot;: &quot;访问次数&quot;,
            &quot;bizName&quot;: &quot;pv&quot;,
            &quot;useCnt&quot;: 0,
            &quot;type&quot;: &quot;METRIC&quot;,
            &quot;alias&quot;: [],
            &quot;relatedSchemaElements&quot;: [
              { &quot;dimensionId&quot;: 1, &quot;necessary&quot;: false },
              { &quot;dimensionId&quot;: 2, &quot;necessary&quot;: false }
            ],
            &quot;defaultAgg&quot;: &quot;SUM&quot;,
            &quot;order&quot;: 0.0,
            &quot;isTag&quot;: 0,
            &quot;description&quot;: &quot;一段时间内用户的访问次数&quot;
          },
          {
            &quot;dataSet&quot;: 1,
            &quot;dataSetName&quot;: &quot;超音数数据集&quot;,
            &quot;model&quot;: 2,
            &quot;id&quot;: 4,
            &quot;name&quot;: &quot;人均访问次数&quot;,
            &quot;bizName&quot;: &quot;pv_avg&quot;,
            &quot;useCnt&quot;: 0,
            &quot;type&quot;: &quot;METRIC&quot;,
            &quot;alias&quot;: [&quot;平均访问次数&quot;],
            &quot;relatedSchemaElements&quot;: [{ &quot;dimensionId&quot;: 1, &quot;necessary&quot;: false }],
            &quot;defaultAgg&quot;: &quot;&quot;,
            &quot;order&quot;: 0.002841870251016343,
            &quot;isTag&quot;: 0,
            &quot;description&quot;: &quot;每个用户平均访问的次数&quot;
          },
          {
            &quot;dataSet&quot;: 1,
            &quot;dataSetName&quot;: &quot;超音数数据集&quot;,
            &quot;model&quot;: 2,
            &quot;id&quot;: 3,
            &quot;name&quot;: &quot;访问用户数&quot;,
            &quot;bizName&quot;: &quot;uv&quot;,
            &quot;useCnt&quot;: 0,
            &quot;type&quot;: &quot;METRIC&quot;,
            &quot;alias&quot;: [&quot;UV&quot;, &quot;访问人数&quot;],
            &quot;relatedSchemaElements&quot;: [{ &quot;dimensionId&quot;: 1, &quot;necessary&quot;: false }],
            &quot;defaultAgg&quot;: &quot;count&quot;,
            &quot;order&quot;: 0.004658766300494777,
            &quot;isTag&quot;: 0,
            &quot;description&quot;: &quot;访问的用户个数&quot;
          }
        ],
        &quot;dimensions&quot;: [
          { &quot;bizName&quot;: &quot;sys_imp_date&quot;, &quot;order&quot;: 0.0, &quot;isTag&quot;: 0 },
          {
            &quot;dataSet&quot;: 1,
            &quot;dataSetName&quot;: &quot;超音数数据集&quot;,
            &quot;model&quot;: 1,
            &quot;id&quot;: 1,
            &quot;name&quot;: &quot;部门&quot;,
            &quot;bizName&quot;: &quot;department&quot;,
            &quot;useCnt&quot;: 0,
            &quot;type&quot;: &quot;DIMENSION&quot;,
            &quot;alias&quot;: [],
            &quot;schemaValueMaps&quot;: [],
            &quot;order&quot;: 0.0,
            &quot;isTag&quot;: 1,
            &quot;description&quot;: &quot;&quot;
          }
        ],
        &quot;aggType&quot;: &quot;NONE&quot;,
        &quot;filterType&quot;: &quot;AND&quot;,
        &quot;dimensionFilters&quot;: [],
        &quot;metricFilters&quot;: [],
        &quot;orders&quot;: [],
        &quot;dateInfo&quot;: {
          &quot;dateMode&quot;: &quot;RECENT&quot;,
          &quot;startDate&quot;: &quot;2024-06-08&quot;,
          &quot;endDate&quot;: &quot;2024-07-07&quot;,
          &quot;dateList&quot;: [
            &quot;2024-06-08&quot;,
            &quot;2024-06-09&quot;,
            &quot;2024-06-10&quot;,
            &quot;2024-06-11&quot;,
            &quot;2024-06-12&quot;,
            &quot;2024-06-13&quot;,
            &quot;2024-06-14&quot;,
            &quot;2024-06-15&quot;,
            &quot;2024-06-16&quot;,
            &quot;2024-06-17&quot;,
            &quot;2024-06-18&quot;,
            &quot;2024-06-19&quot;,
            &quot;2024-06-20&quot;,
            &quot;2024-06-21&quot;,
            &quot;2024-06-22&quot;,
            &quot;2024-06-23&quot;,
            &quot;2024-06-24&quot;,
            &quot;2024-06-25&quot;,
            &quot;2024-06-26&quot;,
            &quot;2024-06-27&quot;,
            &quot;2024-06-28&quot;,
            &quot;2024-06-29&quot;,
            &quot;2024-06-30&quot;,
            &quot;2024-07-01&quot;,
            &quot;2024-07-02&quot;,
            &quot;2024-07-03&quot;,
            &quot;2024-07-04&quot;,
            &quot;2024-07-05&quot;,
            &quot;2024-07-06&quot;,
            &quot;2024-07-07&quot;
          ],
          &quot;unit&quot;: 30,
          &quot;period&quot;: &quot;DAY&quot;,
          &quot;detectWord&quot;: &quot;近30天&quot;,
          &quot;groupByDate&quot;: false,
          &quot;inherited&quot;: true,
          &quot;groupByTimeDimension&quot;: &quot;sys_imp_date&quot;
        },
        &quot;limit&quot;: 365,
        &quot;score&quot;: 6.0,
        &quot;elementMatches&quot;: [
          {
            &quot;element&quot;: {
              &quot;dataSet&quot;: 1,
              &quot;dataSetName&quot;: &quot;超音数数据集&quot;,
              &quot;model&quot;: 2,
              &quot;id&quot;: 1,
              &quot;name&quot;: &quot;访问次数&quot;,
              &quot;bizName&quot;: &quot;pv&quot;,
              &quot;useCnt&quot;: 0,
              &quot;type&quot;: &quot;METRIC&quot;,
              &quot;alias&quot;: [],
              &quot;relatedSchemaElements&quot;: [
                { &quot;dimensionId&quot;: 1, &quot;necessary&quot;: false },
                { &quot;dimensionId&quot;: 2, &quot;necessary&quot;: false }
              ],
              &quot;defaultAgg&quot;: &quot;SUM&quot;,
              &quot;order&quot;: 0.0,
              &quot;isTag&quot;: 0,
              &quot;description&quot;: &quot;一段时间内用户的访问次数&quot;
            },
            &quot;similarity&quot;: 1.0,
            &quot;detectWord&quot;: &quot;访问次数&quot;,
            &quot;word&quot;: &quot;访问次数&quot;,
            &quot;frequency&quot;: 100000,
            &quot;inherited&quot;: false
          },
          {
            &quot;element&quot;: {
              &quot;dataSet&quot;: 1,
              &quot;dataSetName&quot;: &quot;超音数数据集&quot;,
              &quot;model&quot;: 2,
              &quot;id&quot;: 4,
              &quot;name&quot;: &quot;人均访问次数&quot;,
              &quot;bizName&quot;: &quot;pv_avg&quot;,
              &quot;useCnt&quot;: 0,
              &quot;type&quot;: &quot;METRIC&quot;,
              &quot;alias&quot;: [&quot;平均访问次数&quot;],
              &quot;relatedSchemaElements&quot;: [
                { &quot;dimensionId&quot;: 1, &quot;necessary&quot;: false }
              ],
              &quot;defaultAgg&quot;: &quot;&quot;,
              &quot;order&quot;: 0.002841870251016343,
              &quot;isTag&quot;: 0,
              &quot;description&quot;: &quot;每个用户平均访问的次数&quot;
            },
            &quot;similarity&quot;: 0.9971581297489837,
            &quot;detectWord&quot;: &quot;人访问次数&quot;,
            &quot;word&quot;: &quot;人均访问次数&quot;,
            &quot;frequency&quot;: 100000,
            &quot;inherited&quot;: false
          },
          {
            &quot;element&quot;: {
              &quot;dataSet&quot;: 1,
              &quot;dataSetName&quot;: &quot;超音数数据集&quot;,
              &quot;model&quot;: 2,
              &quot;id&quot;: 3,
              &quot;name&quot;: &quot;访问用户数&quot;,
              &quot;bizName&quot;: &quot;uv&quot;,
              &quot;useCnt&quot;: 0,
              &quot;type&quot;: &quot;METRIC&quot;,
              &quot;alias&quot;: [&quot;UV&quot;, &quot;访问人数&quot;],
              &quot;relatedSchemaElements&quot;: [
                { &quot;dimensionId&quot;: 1, &quot;necessary&quot;: false }
              ],
              &quot;defaultAgg&quot;: &quot;count&quot;,
              &quot;order&quot;: 0.004658766300494777,
              &quot;isTag&quot;: 0,
              &quot;description&quot;: &quot;访问的用户个数&quot;
            },
            &quot;similarity&quot;: 0.9953412336995052,
            &quot;detectWord&quot;: &quot;访问次数&quot;,
            &quot;word&quot;: &quot;访问用户数&quot;,
            &quot;frequency&quot;: 100000,
            &quot;inherited&quot;: false
          },
          {
            &quot;element&quot;: {
              &quot;dataSet&quot;: 1,
              &quot;dataSetName&quot;: &quot;超音数数据集&quot;,
              &quot;model&quot;: 1,
              &quot;id&quot;: 1,
              &quot;name&quot;: &quot;部门&quot;,
              &quot;bizName&quot;: &quot;department&quot;,
              &quot;useCnt&quot;: 0,
              &quot;type&quot;: &quot;DIMENSION&quot;,
              &quot;alias&quot;: [],
              &quot;schemaValueMaps&quot;: [],
              &quot;order&quot;: 0.0,
              &quot;isTag&quot;: 1,
              &quot;description&quot;: &quot;&quot;
            },
            &quot;similarity&quot;: 1.0,
            &quot;detectWord&quot;: &quot;部门&quot;,
            &quot;word&quot;: &quot;部门&quot;,
            &quot;frequency&quot;: 100000,
            &quot;inherited&quot;: true
          }
        ],
        &quot;properties&quot;: {},
        &quot;sqlInfo&quot;: {
          &quot;s2SQL&quot;: &quot;SELECT sys_imp_date, 部门, SUM(访问次数) AS 访问次数 FROM 超音数数据集 WHERE sys_imp_date &gt;= &#x27;2024-07-08&#x27; AND sys_imp_date &lt;= &#x27;2024-08-06&#x27; GROUP BY sys_imp_date, 部门 LIMIT 365&quot;,
          &quot;correctS2SQL&quot;: &quot;SELECT sys_imp_date, 部门, SUM(访问次数) AS 访问次数 FROM 超音数数据集 WHERE sys_imp_date &gt;= &#x27;2024-07-08&#x27; AND sys_imp_date &lt;= &#x27;2024-08-06&#x27; GROUP BY sys_imp_date, 部门 LIMIT 365&quot;
        },
        &quot;sqlEvaluation&quot;: {},
        &quot;queryType&quot;: &quot;METRIC&quot;,
        &quot;dataSetId&quot;: 1
      },
      &quot;queryMode&quot;: &quot;METRIC_GROUPBY&quot;
    },
    {
      &quot;parseInfo&quot;: {
        &quot;queryMode&quot;: &quot;METRIC_MODEL&quot;,
        &quot;dataSet&quot;: {
          &quot;dataSet&quot;: 1,
          &quot;dataSetName&quot;: &quot;超音数数据集&quot;,
          &quot;id&quot;: 1,
          &quot;name&quot;: &quot;超音数数据集&quot;,
          &quot;bizName&quot;: &quot;s2&quot;,
          &quot;type&quot;: &quot;DATASET&quot;,
          &quot;order&quot;: 0.0,
          &quot;isTag&quot;: 0
        },
        &quot;metrics&quot;: [
          {
            &quot;dataSet&quot;: 1,
            &quot;dataSetName&quot;: &quot;超音数数据集&quot;,
            &quot;model&quot;: 2,
            &quot;id&quot;: 1,
            &quot;name&quot;: &quot;访问次数&quot;,
            &quot;bizName&quot;: &quot;pv&quot;,
            &quot;useCnt&quot;: 0,
            &quot;type&quot;: &quot;METRIC&quot;,
            &quot;alias&quot;: [],
            &quot;relatedSchemaElements&quot;: [
              { &quot;dimensionId&quot;: 1, &quot;necessary&quot;: false },
              { &quot;dimensionId&quot;: 2, &quot;necessary&quot;: false }
            ],
            &quot;defaultAgg&quot;: &quot;SUM&quot;,
            &quot;order&quot;: 0.0,
            &quot;isTag&quot;: 0,
            &quot;description&quot;: &quot;一段时间内用户的访问次数&quot;
          },
          {
            &quot;dataSet&quot;: 1,
            &quot;dataSetName&quot;: &quot;超音数数据集&quot;,
            &quot;model&quot;: 2,
            &quot;id&quot;: 4,
            &quot;name&quot;: &quot;人均访问次数&quot;,
            &quot;bizName&quot;: &quot;pv_avg&quot;,
            &quot;useCnt&quot;: 0,
            &quot;type&quot;: &quot;METRIC&quot;,
            &quot;alias&quot;: [&quot;平均访问次数&quot;],
            &quot;relatedSchemaElements&quot;: [{ &quot;dimensionId&quot;: 1, &quot;necessary&quot;: false }],
            &quot;defaultAgg&quot;: &quot;&quot;,
            &quot;order&quot;: 0.002841870251016343,
            &quot;isTag&quot;: 0,
            &quot;description&quot;: &quot;每个用户平均访问的次数&quot;
          },
          {
            &quot;dataSet&quot;: 1,
            &quot;dataSetName&quot;: &quot;超音数数据集&quot;,
            &quot;model&quot;: 2,
            &quot;id&quot;: 3,
            &quot;name&quot;: &quot;访问用户数&quot;,
            &quot;bizName&quot;: &quot;uv&quot;,
            &quot;useCnt&quot;: 0,
            &quot;type&quot;: &quot;METRIC&quot;,
            &quot;alias&quot;: [&quot;UV&quot;, &quot;访问人数&quot;],
            &quot;relatedSchemaElements&quot;: [{ &quot;dimensionId&quot;: 1, &quot;necessary&quot;: false }],
            &quot;defaultAgg&quot;: &quot;count&quot;,
            &quot;order&quot;: 0.004658766300494777,
            &quot;isTag&quot;: 0,
            &quot;description&quot;: &quot;访问的用户个数&quot;
          }
        ],
        &quot;dimensions&quot;: [{ &quot;bizName&quot;: &quot;sys_imp_date&quot;, &quot;order&quot;: 0.0, &quot;isTag&quot;: 0 }],
        &quot;aggType&quot;: &quot;NONE&quot;,
        &quot;filterType&quot;: &quot;AND&quot;,
        &quot;dimensionFilters&quot;: [],
        &quot;metricFilters&quot;: [],
        &quot;orders&quot;: [],
        &quot;dateInfo&quot;: {
          &quot;dateMode&quot;: &quot;RECENT&quot;,
          &quot;startDate&quot;: &quot;2024-06-08&quot;,
          &quot;endDate&quot;: &quot;2024-07-07&quot;,
          &quot;dateList&quot;: [
            &quot;2024-06-08&quot;,
            &quot;2024-06-09&quot;,
            &quot;2024-06-10&quot;,
            &quot;2024-06-11&quot;,
            &quot;2024-06-12&quot;,
            &quot;2024-06-13&quot;,
            &quot;2024-06-14&quot;,
            &quot;2024-06-15&quot;,
            &quot;2024-06-16&quot;,
            &quot;2024-06-17&quot;,
            &quot;2024-06-18&quot;,
            &quot;2024-06-19&quot;,
            &quot;2024-06-20&quot;,
            &quot;2024-06-21&quot;,
            &quot;2024-06-22&quot;,
            &quot;2024-06-23&quot;,
            &quot;2024-06-24&quot;,
            &quot;2024-06-25&quot;,
            &quot;2024-06-26&quot;,
            &quot;2024-06-27&quot;,
            &quot;2024-06-28&quot;,
            &quot;2024-06-29&quot;,
            &quot;2024-06-30&quot;,
            &quot;2024-07-01&quot;,
            &quot;2024-07-02&quot;,
            &quot;2024-07-03&quot;,
            &quot;2024-07-04&quot;,
            &quot;2024-07-05&quot;,
            &quot;2024-07-06&quot;,
            &quot;2024-07-07&quot;
          ],
          &quot;unit&quot;: 30,
          &quot;period&quot;: &quot;DAY&quot;,
          &quot;detectWord&quot;: &quot;近30天&quot;,
          &quot;groupByDate&quot;: false,
          &quot;inherited&quot;: true,
          &quot;groupByTimeDimension&quot;: &quot;sys_imp_date&quot;
        },
        &quot;limit&quot;: 365,
        &quot;score&quot;: 4.0,
        &quot;elementMatches&quot;: [
          {
            &quot;element&quot;: {
              &quot;dataSet&quot;: 1,
              &quot;dataSetName&quot;: &quot;超音数数据集&quot;,
              &quot;model&quot;: 2,
              &quot;id&quot;: 1,
              &quot;name&quot;: &quot;访问次数&quot;,
              &quot;bizName&quot;: &quot;pv&quot;,
              &quot;useCnt&quot;: 0,
              &quot;type&quot;: &quot;METRIC&quot;,
              &quot;alias&quot;: [],
              &quot;relatedSchemaElements&quot;: [
                { &quot;dimensionId&quot;: 1, &quot;necessary&quot;: false },
                { &quot;dimensionId&quot;: 2, &quot;necessary&quot;: false }
              ],
              &quot;defaultAgg&quot;: &quot;SUM&quot;,
              &quot;order&quot;: 0.0,
              &quot;isTag&quot;: 0,
              &quot;description&quot;: &quot;一段时间内用户的访问次数&quot;
            },
            &quot;similarity&quot;: 1.0,
            &quot;detectWord&quot;: &quot;访问次数&quot;,
            &quot;word&quot;: &quot;访问次数&quot;,
            &quot;frequency&quot;: 100000,
            &quot;inherited&quot;: false
          },
          {
            &quot;element&quot;: {
              &quot;dataSet&quot;: 1,
              &quot;dataSetName&quot;: &quot;超音数数据集&quot;,
              &quot;model&quot;: 2,
              &quot;id&quot;: 4,
              &quot;name&quot;: &quot;人均访问次数&quot;,
              &quot;bizName&quot;: &quot;pv_avg&quot;,
              &quot;useCnt&quot;: 0,
              &quot;type&quot;: &quot;METRIC&quot;,
              &quot;alias&quot;: [&quot;平均访问次数&quot;],
              &quot;relatedSchemaElements&quot;: [
                { &quot;dimensionId&quot;: 1, &quot;necessary&quot;: false }
              ],
              &quot;defaultAgg&quot;: &quot;&quot;,
              &quot;order&quot;: 0.002841870251016343,
              &quot;isTag&quot;: 0,
              &quot;description&quot;: &quot;每个用户平均访问的次数&quot;
            },
            &quot;similarity&quot;: 0.9971581297489837,
            &quot;detectWord&quot;: &quot;人访问次数&quot;,
            &quot;word&quot;: &quot;人均访问次数&quot;,
            &quot;frequency&quot;: 100000,
            &quot;inherited&quot;: false
          },
          {
            &quot;element&quot;: {
              &quot;dataSet&quot;: 1,
              &quot;dataSetName&quot;: &quot;超音数数据集&quot;,
              &quot;model&quot;: 2,
              &quot;id&quot;: 3,
              &quot;name&quot;: &quot;访问用户数&quot;,
              &quot;bizName&quot;: &quot;uv&quot;,
              &quot;useCnt&quot;: 0,
              &quot;type&quot;: &quot;METRIC&quot;,
              &quot;alias&quot;: [&quot;UV&quot;, &quot;访问人数&quot;],
              &quot;relatedSchemaElements&quot;: [
                { &quot;dimensionId&quot;: 1, &quot;necessary&quot;: false }
              ],
              &quot;defaultAgg&quot;: &quot;count&quot;,
              &quot;order&quot;: 0.004658766300494777,
              &quot;isTag&quot;: 0,
              &quot;description&quot;: &quot;访问的用户个数&quot;
            },
            &quot;similarity&quot;: 0.9953412336995052,
            &quot;detectWord&quot;: &quot;访问次数&quot;,
            &quot;word&quot;: &quot;访问用户数&quot;,
            &quot;frequency&quot;: 100000,
            &quot;inherited&quot;: false
          }
        ],
        &quot;properties&quot;: {},
        &quot;sqlInfo&quot;: {
          &quot;s2SQL&quot;: &quot;SELECT sys_imp_date, SUM(访问次数) AS 访问次数 FROM 超音数数据集 WHERE sys_imp_date &gt;= &#x27;2024-07-08&#x27; AND sys_imp_date &lt;= &#x27;2024-08-06&#x27; GROUP BY sys_imp_date LIMIT 365&quot;,
          &quot;correctS2SQL&quot;: &quot;SELECT sys_imp_date, SUM(访问次数) AS 访问次数 FROM 超音数数据集 WHERE sys_imp_date &gt;= &#x27;2024-07-08&#x27; AND sys_imp_date &lt;= &#x27;2024-08-06&#x27; GROUP BY sys_imp_date LIMIT 365&quot;
        },
        &quot;sqlEvaluation&quot;: {},
        &quot;queryType&quot;: &quot;METRIC&quot;,
        &quot;dataSetId&quot;: 1
      },
      &quot;queryMode&quot;: &quot;METRIC_MODEL&quot;
    }
  ],
  &quot;mapInfo&quot;: {
    &quot;dataSetElementMatches&quot;: {
      &quot;1&quot;: [
        {
          &quot;element&quot;: {
            &quot;dataSet&quot;: 1,
            &quot;dataSetName&quot;: &quot;超音数数据集&quot;,
            &quot;model&quot;: 2,
            &quot;id&quot;: 1,
            &quot;name&quot;: &quot;访问次数&quot;,
            &quot;bizName&quot;: &quot;pv&quot;,
            &quot;useCnt&quot;: 0,
            &quot;type&quot;: &quot;METRIC&quot;,
            &quot;alias&quot;: [],
            &quot;relatedSchemaElements&quot;: [
              { &quot;dimensionId&quot;: 1, &quot;necessary&quot;: false },
              { &quot;dimensionId&quot;: 2, &quot;necessary&quot;: false }
            ],
            &quot;defaultAgg&quot;: &quot;SUM&quot;,
            &quot;order&quot;: 0.0,
            &quot;isTag&quot;: 0,
            &quot;description&quot;: &quot;一段时间内用户的访问次数&quot;
          },
          &quot;similarity&quot;: 1.0,
          &quot;detectWord&quot;: &quot;访问次数&quot;,
          &quot;word&quot;: &quot;访问次数&quot;,
          &quot;frequency&quot;: 100000,
          &quot;inherited&quot;: false
        },
        {
          &quot;element&quot;: {
            &quot;dataSet&quot;: 1,
            &quot;dataSetName&quot;: &quot;超音数数据集&quot;,
            &quot;model&quot;: 2,
            &quot;id&quot;: 4,
            &quot;name&quot;: &quot;人均访问次数&quot;,
            &quot;bizName&quot;: &quot;pv_avg&quot;,
            &quot;useCnt&quot;: 0,
            &quot;type&quot;: &quot;METRIC&quot;,
            &quot;alias&quot;: [&quot;平均访问次数&quot;],
            &quot;relatedSchemaElements&quot;: [{ &quot;dimensionId&quot;: 1, &quot;necessary&quot;: false }],
            &quot;defaultAgg&quot;: &quot;&quot;,
            &quot;order&quot;: 0.002841870251016343,
            &quot;isTag&quot;: 0,
            &quot;description&quot;: &quot;每个用户平均访问的次数&quot;
          },
          &quot;similarity&quot;: 0.9971581297489837,
          &quot;detectWord&quot;: &quot;人访问次数&quot;,
          &quot;word&quot;: &quot;人均访问次数&quot;,
          &quot;frequency&quot;: 100000,
          &quot;inherited&quot;: false
        },
        {
          &quot;element&quot;: {
            &quot;dataSet&quot;: 1,
            &quot;dataSetName&quot;: &quot;超音数数据集&quot;,
            &quot;model&quot;: 2,
            &quot;id&quot;: 3,
            &quot;name&quot;: &quot;访问用户数&quot;,
            &quot;bizName&quot;: &quot;uv&quot;,
            &quot;useCnt&quot;: 0,
            &quot;type&quot;: &quot;METRIC&quot;,
            &quot;alias&quot;: [&quot;UV&quot;, &quot;访问人数&quot;],
            &quot;relatedSchemaElements&quot;: [{ &quot;dimensionId&quot;: 1, &quot;necessary&quot;: false }],
            &quot;defaultAgg&quot;: &quot;count&quot;,
            &quot;order&quot;: 0.004658766300494777,
            &quot;isTag&quot;: 0,
            &quot;description&quot;: &quot;访问的用户个数&quot;
          },
          &quot;similarity&quot;: 0.9953412336995052,
          &quot;detectWord&quot;: &quot;访问次数&quot;,
          &quot;word&quot;: &quot;访问用户数&quot;,
          &quot;frequency&quot;: 100000,
          &quot;inherited&quot;: false
        },
        {
          &quot;element&quot;: {
            &quot;dataSet&quot;: 1,
            &quot;dataSetName&quot;: &quot;超音数数据集&quot;,
            &quot;model&quot;: 1,
            &quot;id&quot;: 1,
            &quot;name&quot;: &quot;部门&quot;,
            &quot;bizName&quot;: &quot;department&quot;,
            &quot;useCnt&quot;: 0,
            &quot;type&quot;: &quot;DIMENSION&quot;,
            &quot;alias&quot;: [],
            &quot;schemaValueMaps&quot;: [],
            &quot;order&quot;: 0.0,
            &quot;isTag&quot;: 1,
            &quot;description&quot;: &quot;&quot;
          },
          &quot;similarity&quot;: 1.0,
          &quot;detectWord&quot;: &quot;部门&quot;,
          &quot;word&quot;: &quot;部门&quot;,
          &quot;frequency&quot;: 100000,
          &quot;inherited&quot;: true
        }
      ]
    },
    &quot;matchedDataSetInfos&quot;: [1]
  },
  &quot;mapModeEnum&quot;: &quot;STRICT&quot;,
  &quot;queryDataType&quot;: &quot;ALL&quot;,
  &quot;llmConfig&quot;: {
    &quot;provider&quot;: &quot;OPEN_AI&quot;,
    &quot;baseUrl&quot;: &quot;https://api.openai.com/v1&quot;,
    &quot;apiKey&quot;: &quot;kGA4i6jY7QqG5xH+S0N++SzVWVKyAHesOq7NpoFVI7pgU14eb1AM296OFiLJTNtDVfpWDpfu7o4vDG2C2yWiSA==&quot;,
    &quot;modelName&quot;: &quot;gpt-3.5-turbo&quot;,
    &quot;temperature&quot;: 0.0,
    &quot;timeOut&quot;: 60
  },
  &quot;exemplars&quot;: []
}</code></pre><h2 id="ba1630fc-e98d-4fea-ba43-45dce1edad5f" class="">解释</h2><h3 id="1a99dd29-899b-4a1c-950b-08040045bc7c" class="">顶层结构分析</h3><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="b800e4d0-c49f-49f6-b72b-ad19b23fd54c" class="code"><code class="language-JSON" style="white-space:pre-wrap;word-break:break-all">{
  &quot;queryText&quot;: &quot;超音速对比所有人访问次数&quot;,
  &quot;chatId&quot;: 1,
  &quot;dataSetIds&quot;: [],
  &quot;modelIdToDataSetIds&quot;: { &quot;1&quot;: [1], &quot;2&quot;: [1], &quot;3&quot;: [1], &quot;4&quot;: [2] },
  &quot;user&quot;: { ... },
  &quot;saveAnswer&quot;: true,
  &quot;text2SQLType&quot;: &quot;RULE_AND_LLM&quot;,
  &quot;candidateQueries&quot;: [ ... ],
  &quot;mapInfo&quot;: { ... },
  &quot;mapModeEnum&quot;: &quot;STRICT&quot;,
  &quot;queryDataType&quot;: &quot;ALL&quot;,
  &quot;llmConfig&quot;: { ... },
  &quot;exemplars&quot;: []
}</code></pre><ol type="1" id="4ce43fe9-2aab-4511-9d97-e0e5ec1c1b3d" class="numbered-list" start="1"><li><code><strong>queryText</strong></code><strong>:</strong> <code>&quot;超音速对比所有人访问次数&quot;</code><ul id="6aca1e3d-5348-4003-9e7d-0664a5667217" class="bulleted-list"><li style="list-style-type:disc">用户的自然语言查询文本。用户希望查询“超音速”与“所有人”的访问次数进行对比。</li></ul></li></ol><ol type="1" id="6e046dd7-5724-4784-b64b-86b48a612140" class="numbered-list" start="2"><li><code><strong>chatId</strong></code><strong>:</strong> <code>1</code><ul id="9e9e66a1-a534-4cba-a9fd-071f1b6d6282" class="bulleted-list"><li style="list-style-type:disc">这是对话的唯一标识符，表明该查询属于对话ID为1的会话。</li></ul></li></ol><ol type="1" id="08e99ec3-950b-4f49-a3a5-f480dcbc7cd1" class="numbered-list" start="3"><li><code><strong>dataSetIds</strong></code><strong>:</strong> <code>[]</code><ul id="b9aaaf51-7858-4331-881f-ca15e51465db" class="bulleted-list"><li style="list-style-type:disc">空数组，表示没有显式指定数据集ID。查询的相关数据集将由系统自动选择或推断。</li></ul></li></ol><ol type="1" id="dbbced8c-4023-4619-a40d-d726c266fa28" class="numbered-list" start="4"><li><code><strong>modelIdToDataSetIds</strong></code><strong>:</strong> <code>{ &quot;1&quot;: [1], &quot;2&quot;: [1], &quot;3&quot;: [1], &quot;4&quot;: [2] }</code><ul id="354e517c-bf00-4be6-830b-8e199217d21d" class="bulleted-list"><li style="list-style-type:disc">这是模型ID到数据集ID的映射。例如，模型ID为1、2、3的模型都映射到数据集ID为1，而模型ID为4的模型映射到数据集ID为2。</li></ul></li></ol><ol type="1" id="ecd5b73f-8538-4275-ac8b-34a2c5297809" class="numbered-list" start="5"><li><code><strong>user</strong></code><strong>:</strong><ul id="bab909f8-921f-4faf-8956-105a06e9435e" class="bulleted-list"><li style="list-style-type:disc">用户信息的结构体，包含用户ID、用户名、显示名称、邮箱、管理员权限等信息。</li></ul></li></ol><ol type="1" id="95bdda6a-bd86-490c-9bab-eb36dfff5845" class="numbered-list" start="6"><li><code><strong>saveAnswer</strong></code><strong>:</strong> <code>true</code><ul id="c5bfbd0f-0e93-49d2-93e1-18b760077122" class="bulleted-list"><li style="list-style-type:disc">表示查询结果是否应被保存。<code>true</code> 表示结果将被保存。</li></ul></li></ol><ol type="1" id="efa4e1e2-8282-4490-ba17-189438ebca12" class="numbered-list" start="7"><li><code><strong>text2SQLType</strong></code><strong>:</strong> <code>&quot;RULE_AND_LLM&quot;</code><ul id="452d2b84-7cd6-4d23-b912-2f325d5e9b15" class="bulleted-list"><li style="list-style-type:disc">指定了将自然语言转换为SQL的策略类型。<code>RULE_AND_LLM</code> 表示结合了规则和大语言模型（LLM）的方法。</li></ul></li></ol><ol type="1" id="1ac2aaca-8cc6-4f34-a1de-da81784b2059" class="numbered-list" start="8"><li><code><strong>candidateQueries</strong></code><strong>:</strong><ul id="75f1fb0b-2533-4c85-8598-0f59f64c465c" class="bulleted-list"><li style="list-style-type:disc">包含多个候选查询，每个候选查询是系统根据输入生成的不同SQL查询版本。</li></ul></li></ol><ol type="1" id="1cda86b6-d17e-4de0-b13e-c4215bbaa56c" class="numbered-list" start="9"><li><code><strong>mapInfo</strong></code><strong>:</strong><ul id="39caad01-55fc-4552-9bb6-3326a467011e" class="bulleted-list"><li style="list-style-type:disc">包含了与数据集元素匹配的信息和查询的映射信息，详细解释见下文。</li></ul></li></ol><ol type="1" id="76c606d6-fc89-4856-b550-d2addabed4a0" class="numbered-list" start="10"><li><code><strong>mapModeEnum</strong></code><strong>:</strong> <code>&quot;STRICT&quot;</code><ul id="99a3f10f-57ae-46ed-82a1-13ff8dc905da" class="bulleted-list"><li style="list-style-type:disc">映射模式，<code>STRICT</code> 表示严格模式，这意味着在生成SQL时会严格遵循匹配规则。</li></ul></li></ol><ol type="1" id="61ba5f24-06ef-4034-9721-af9d673875b4" class="numbered-list" start="11"><li><code><strong>queryDataType</strong></code><strong>:</strong> <code>&quot;ALL&quot;</code><ul id="84bb8aad-5706-4b9a-a7ee-4a7df5ab32a5" class="bulleted-list"><li style="list-style-type:disc">查询的数据类型为 <code>ALL</code>，表示查询涉及所有类型的数据。</li></ul></li></ol><ol type="1" id="879c57c3-fc43-43c4-8095-495b04c81f9d" class="numbered-list" start="12"><li><code><strong>llmConfig</strong></code><strong>:</strong><ul id="749f3b23-b064-47c4-87e5-d0503169660b" class="bulleted-list"><li style="list-style-type:disc">大语言模型（LLM）的相关配置，详细解释见下文。</li></ul></li></ol><ol type="1" id="a58cd8c8-0853-4763-b735-8cba4c8938c6" class="numbered-list" start="13"><li><code><strong>exemplars</strong></code><strong>:</strong> <code>[]</code><ul id="10ba4763-d2a7-4eef-bc5e-95bac6d4358e" class="bulleted-list"><li style="list-style-type:disc">空数组，通常用于存储查询示例或训练数据。在这个例子中没有提供示例。</li></ul></li></ol><h3 id="1bada6d1-fb3c-4bab-bc30-2c4852741840" class="">用户信息 (<code>user</code>)</h3><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="f34865d1-c4fd-4566-aa60-d35380b7ba36" class="code"><code class="language-JSON" style="white-space:pre-wrap;word-break:break-all">&quot;user&quot;: {
  &quot;id&quot;: 6,
  &quot;name&quot;: &quot;admin&quot;,
  &quot;displayName&quot;: &quot;admin&quot;,
  &quot;email&quot;: &quot;null&quot;,
  &quot;isAdmin&quot;: 1,
  &quot;superAdmin&quot;: true}</code></pre><ul id="9c575685-8d41-4b41-ae41-b0243ccf4a8e" class="bulleted-list"><li style="list-style-type:disc"><code><strong>id</strong></code><strong>:</strong> <code>6</code><ul id="59e766a6-bd44-416d-9d5d-13ef81062673" class="bulleted-list"><li style="list-style-type:circle">用户的唯一标识符。</li></ul></li></ul><ul id="7e846372-984a-49b7-991b-504f70c2fd44" class="bulleted-list"><li style="list-style-type:disc"><code><strong>name</strong></code><strong>:</strong> <code>&quot;admin&quot;</code><ul id="e9acd819-39ba-4a27-a035-04ac2464c4b1" class="bulleted-list"><li style="list-style-type:circle">用户名。</li></ul></li></ul><ul id="f5ada8ce-9579-4636-b842-ee34799d6063" class="bulleted-list"><li style="list-style-type:disc"><code><strong>displayName</strong></code><strong>:</strong> <code>&quot;admin&quot;</code><ul id="96659368-7223-4ec5-a3e9-75aef6c66ad2" class="bulleted-list"><li style="list-style-type:circle">用户的显示名称。</li></ul></li></ul><ul id="d1cef21c-23ad-4ab4-9496-ada88819d463" class="bulleted-list"><li style="list-style-type:disc"><code><strong>email</strong></code><strong>:</strong> <code>&quot;null&quot;</code><ul id="57172eef-ed97-4c51-8950-e25bdf3cd769" class="bulleted-list"><li style="list-style-type:circle">用户的电子邮件地址，这里显示为 <code>null</code>，表示没有提供。</li></ul></li></ul><ul id="fab9a329-6336-4b6c-84fa-53127a239b40" class="bulleted-list"><li style="list-style-type:disc"><code><strong>isAdmin</strong></code><strong>:</strong> <code>1</code><ul id="fad28002-3f8d-4d4b-8421-0efccf9f9260" class="bulleted-list"><li style="list-style-type:circle">表示该用户是管理员，<code>1</code> 表示是管理员。</li></ul></li></ul><ul id="f9cf78e9-a2d2-4471-b751-73445cf54ad6" class="bulleted-list"><li style="list-style-type:disc"><code><strong>superAdmin</strong></code><strong>:</strong> <code>true</code><ul id="e886a018-c52b-4caa-b59c-c6eb89b981d9" class="bulleted-list"><li style="list-style-type:circle">表示该用户是超级管理员，<code>true</code> 表示是超级管理员。</li></ul></li></ul><h3 id="ba702cd8-6308-4ee7-9253-604d51656e7b" class="">候选查询 (<code>candidateQueries</code>)</h3><p id="795ff5c5-a407-47b0-9df9-03535237ec21" class=""><code>candidateQueries</code> 包含多个候选查询，系统会从中选择最合适的执行。每个候选查询包含解析信息和SQL生成信息。</p><h3 id="d6379499-3c37-479d-955b-c84850f9faa0" class="">第一个候选查询</h3><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="0fac3aaa-8c57-404b-a13a-feefc9ad4b90" class="code"><code class="language-JSON" style="white-space:pre-wrap;word-break:break-all">{
  &quot;parseInfo&quot;: {
    &quot;queryMode&quot;: &quot;LLM_S2SQL&quot;,
    &quot;dataSet&quot;: { ... },
    &quot;metrics&quot;: [],
    &quot;dimensions&quot;: [],
    &quot;aggType&quot;: &quot;NONE&quot;,
    &quot;filterType&quot;: &quot;AND&quot;,
    &quot;dimensionFilters&quot;: [],
    &quot;metricFilters&quot;: [],
    &quot;orders&quot;: [],
    &quot;score&quot;: 24.0,
    &quot;elementMatches&quot;: [ ... ],
    &quot;properties&quot;: { ... },
    &quot;sqlInfo&quot;: { ... },
    &quot;sqlEvaluation&quot;: {},
    &quot;queryType&quot;: &quot;METRIC&quot;,
    &quot;dataSetId&quot;: 1
  },
  &quot;queryMode&quot;: &quot;LLM_S2SQL&quot;
}</code></pre><ol type="1" id="f195e8f9-c632-4b46-8f42-c36b2ec0c12a" class="numbered-list" start="1"><li><code><strong>queryMode</strong></code><strong>:</strong> <code>&quot;LLM_S2SQL&quot;</code><ul id="3a811335-4613-468b-8928-eae81a0cfca9" class="bulleted-list"><li style="list-style-type:disc">表示这个候选查询是使用大语言模型（LLM）生成的SQL查询。</li></ul></li></ol><ol type="1" id="e0c5b39a-4564-4b3b-9c74-38319686c105" class="numbered-list" start="2"><li><code><strong>dataSet</strong></code><strong>:</strong><ul id="9f27e101-8c5b-4585-ac4a-ee3f183aae78" class="bulleted-list"><li style="list-style-type:disc">与查询相关的数据集信息，包含数据集的ID、名称等。</li></ul></li></ol><ol type="1" id="c52e7d7e-0e59-4d31-aaed-b2a0cae5b7fa" class="numbered-list" start="3"><li><code><strong>metrics</strong></code><strong>:</strong> <code>[]</code><ul id="a4fb8940-c45c-4082-a015-3cb91383f81a" class="bulleted-list"><li style="list-style-type:disc">空数组，表示这个候选查询没有涉及具体的度量指标。</li></ul></li></ol><ol type="1" id="25f7444a-39d4-4857-892c-16609fbfb3c5" class="numbered-list" start="4"><li><code><strong>dimensions</strong></code><strong>:</strong> <code>[]</code><ul id="bf8202e7-d1f1-4839-81b9-fbc8c15d96e6" class="bulleted-list"><li style="list-style-type:disc">空数组，表示这个候选查询没有涉及具体的维度。</li></ul></li></ol><ol type="1" id="776d6e2b-fc5e-4e57-8301-5518cdf96f25" class="numbered-list" start="5"><li><code><strong>aggType</strong></code><strong>:</strong> <code>&quot;NONE&quot;</code><ul id="7c7fcaa6-db0d-4778-a9e2-8bfbd0817c27" class="bulleted-list"><li style="list-style-type:disc">查询没有进行额外的聚合操作。</li></ul></li></ol><ol type="1" id="8483dd61-5ecf-4d3f-ab01-7b11e7055718" class="numbered-list" start="6"><li><code><strong>filterType</strong></code><strong>:</strong> <code>&quot;AND&quot;</code><ul id="c831c742-a1c4-4d08-a8c0-228eb31cf31a" class="bulleted-list"><li style="list-style-type:disc">查询过滤条件使用的是 <code>AND</code> 逻辑。</li></ul></li></ol><ol type="1" id="55359dc9-49a4-47ab-a1a8-0d50e7ff8922" class="numbered-list" start="7"><li><code><strong>dimensionFilters</strong></code><strong>:</strong> <code>[]</code><ul id="63f1a329-6791-4b5b-b35c-c03c0b93abf7" class="bulleted-list"><li style="list-style-type:disc">空数组，表示没有使用维度过滤条件。</li></ul></li></ol><ol type="1" id="b0af2e4f-2cd4-4025-8e6b-6009d2f6ccda" class="numbered-list" start="8"><li><code><strong>metricFilters</strong></code><strong>:</strong> <code>[]</code><ul id="20db735b-cb88-4463-a01d-f99498fe70b5" class="bulleted-list"><li style="list-style-type:disc">空数组，表示没有使用指标过滤条件。</li></ul></li></ol><ol type="1" id="79037572-d439-4310-b41c-6c6c20e2206e" class="numbered-list" start="9"><li><code><strong>orders</strong></code><strong>:</strong> <code>[]</code><ul id="11f47990-b50c-475f-ada4-055b9deb6504" class="bulleted-list"><li style="list-style-type:disc">空数组，表示没有指定查询结果的排序顺序。</li></ul></li></ol><ol type="1" id="dabdb5ea-8278-478a-b356-31ff7602bef2" class="numbered-list" start="10"><li><code><strong>score</strong></code><strong>:</strong> <code>24.0</code><ul id="9803f196-c11f-4616-87b7-7bd7a7c0d6d5" class="bulleted-list"><li style="list-style-type:disc">系统对这个候选查询的评分，表示这个解析结果与原始查询的匹配度。</li></ul></li></ol><ol type="1" id="15bd9c2d-4d8d-433d-8184-95d1108ede76" class="numbered-list" start="11"><li><code><strong>elementMatches</strong></code><strong>:</strong><ul id="e1c9f77b-4ab6-4bce-8c5f-fda62081a1cd" class="bulleted-list"><li style="list-style-type:disc">包含识别出的元素与数据集之间的匹配信息。</li></ul></li></ol><ol type="1" id="ac65e1d8-d66c-4590-afe5-a58abd5f5a42" class="numbered-list" start="12"><li><code><strong>properties</strong></code><strong>:</strong><ul id="ffa006f7-df91-4aea-bf5d-ff1e9abb039b" class="bulleted-list"><li style="list-style-type:disc">额外的属性信息，例如上下文信息和 LLM 请求/响应信息。</li></ul></li></ol><ol type="1" id="776ae191-99d0-4057-a7f3-09bfa16d5d66" class="numbered-list" start="13"><li><code><strong>sqlInfo</strong></code><strong>:</strong><ul id="20a6a55f-99b3-413d-897e-abc3c8d2e36b" class="bulleted-list"><li style="list-style-type:disc">包含生成的SQL语句及其相关信息。</li></ul></li></ol><ol type="1" id="5c7a4208-6a10-41a3-96b6-c11440e89181" class="numbered-list" start="14"><li><code><strong>sqlEvaluation</strong></code><strong>:</strong> <code>{}</code><ul id="39be65d5-53c7-481f-aab2-3cdff9943ccf" class="bulleted-list"><li style="list-style-type:disc">空对象，表示没有进行SQL评估。</li></ul></li></ol><ol type="1" id="647f4a0e-d67c-4a30-8423-033d8ff932c1" class="numbered-list" start="15"><li><code><strong>queryType</strong></code><strong>:</strong> <code>&quot;METRIC&quot;</code><ul id="811da9a8-4a04-4596-ba34-72c3b204f2d7" class="bulleted-list"><li style="list-style-type:disc">表示这个查询类型是度量查询。</li></ul></li></ol><ol type="1" id="452700ab-184e-4b68-b727-7f746744e4b8" class="numbered-list" start="16"><li><code><strong>dataSetId</strong></code><strong>:</strong> <code>1</code><ul id="dd346bbb-d900-4a0a-8d7f-57c71f82ba88" class="bulleted-list"><li style="list-style-type:disc">表示使用的数据集的ID是1。</li></ul></li></ol><h3 id="4e6454a2-33e0-44bb-abaa-c65666c583dd" class="">第二个候选查询</h3><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="9e6df9c8-616b-4e07-96ae-91ead9602f9f" class="code"><code class="language-JSON" style="white-space:pre-wrap;word-break:break-all">{
  &quot;parseInfo&quot;: {
    &quot;queryMode&quot;: &quot;METRIC_GROUPBY&quot;,
    &quot;dataSet&quot;: { ... },
    &quot;metrics&quot;: [ ... ],
    &quot;dimensions&quot;: [ ... ],
    &quot;aggType&quot;: &quot;NONE&quot;,
    &quot;filterType&quot;: &quot;AND&quot;,
    &quot;dimensionFilters&quot;: [],
    &quot;metricFilters&quot;: [],
    &quot;orders&quot;: [],
    &quot;dateInfo&quot;: { ... },
    &quot;limit&quot;: 365,
    &quot;score&quot;: 6.0,
    &quot;elementMatches&quot;: [ ... ],
    &quot;properties&quot;: {},
    &quot;sqlInfo&quot;: { ... },
    &quot;sqlEvaluation&quot;: {},
    &quot;queryType&quot;: &quot;METRIC&quot;,
    &quot;dataSetId&quot;: 1
  },
  &quot;queryMode&quot;: &quot;METRIC_GROUPBY&quot;
}</code></pre><ol type="1" id="3a33132d-ed1a-44e0-9b5e-e75c1a8560bc" class="numbered-list" start="1"><li><code><strong>queryMode</strong></code><strong>:</strong> <code>&quot;METRIC_GROUPBY&quot;</code><ul id="5a8406aa-4039-4981-ab36-4ffa6e80a5cf" class="bulleted-list"><li style="list-style-type:disc">表示这个候选查询是按维度分组的度量查询。</li></ul></li></ol><ol type="1" id="e2f34806-c157-458a-9577-c1e06ee0ae52" class="numbered-list" start="2"><li><code><strong>metrics</strong></code><strong>:</strong><ul id="455c13be-4309-47a7-849a-0836485c0c62" class="bulleted-list"><li style="list-style-type:disc">包含这个查询涉及的度量指标的信息。</li></ul></li></ol><ol type="1" id="fe892510-c92a-405a-8a9c-24137e1c92d0" class="numbered-list" start="3"><li><code><strong>dimensions</strong></code><strong>:</strong><ul id="ba33256c-7ab3-4f06-bc9c-20151fa4334b" class="bulleted-list"><li style="list-style-type:disc">包含这个查询涉及的维度信息。</li></ul></li></ol><ol type="1" id="2fcaea27-12d2-459e-ab03-704ac5909691" class="numbered-list" start="4"><li><code><strong>dateInfo</strong></code><strong>:</strong><ul id="32bf8b9c-d227-4ee6-ac0a-a115e8abd5fc" class="bulleted-list"><li style="list-style-type:disc">包含与查询相关的时间信息，如时间范围、分组方式等。</li></ul></li></ol><ol type="1" id="0a47b5ec-e191-488c-8208-6961bb3759e4" class="numbered-list" start="5"><li><code><strong>limit</strong></code><strong>:</strong> <code>365</code><ul id="90846a08-5a14-407f-a8d0-7670abf80786" class="bulleted-list"><li style="list-style-type:disc">表示这个查询的结果数量限制为365条记录。</li></ul></li></ol><ol type="1" id="5ea8326d-ccfa-4c10-b079-7acd7837cd66" class="numbered-list" start="6"><li><code><strong>score</strong></code><strong>:</strong> <code>6.0</code><ul id="b500a24e-a5f2-4bc6-91e2-4acff75037ed" class="bulleted-list"><li style="list-style-type:disc">这个候选查询的评分，分数较低表示与原始查询的匹配度相对较低。</li></ul></li></ol><ol type="1" id="b9a4c274-61a7-4f00-9791-695ad85503c2" class="numbered-list" start="7"><li><code><strong>elementMatches</strong></code><strong>:</strong><ul id="f0c600d9-cb95-4c6b-86e4-641e9033410d" class="bulleted-list"><li style="list-style-type:disc">包含识别出的元素与数据集之间的匹配信息。</li></ul></li></ol><ol type="1" id="54850be4-f7d9-4a1a-a941-f51191dfc0de" class="numbered-list" start="8"><li><code><strong>sqlInfo</strong></code><strong>:</strong><ul id="cd57d18d-d1f8-4cdc-a5e7-2d229fd7b665" class="bulleted-list"><li style="list-style-type:disc">包含生成的SQL语句及其相关信息。</li></ul></li></ol><ol type="1" id="0403f7af-751d-47c3-93f0-20539cffe892" class="numbered-list" start="9"><li><code><strong>queryType</strong></code><strong>:</strong> <code>&quot;METRIC&quot;</code><ul id="65fe0928-f0b3-408a-a754-8eab31e0dd42" class="bulleted-list"><li style="list-style-type:disc">表示这个查询类型是度量查询。</li></ul></li></ol><ol type="1" id="234b96e5-dd82-4975-9c08-9902a329b031" class="numbered-list" start="10"><li><code><strong>dataSetId</strong></code><strong>:</strong> <code>1</code><ul id="5e9bdc06-37b5-4b8d-8e52-8a764c818c45" class="bulleted-list"><li style="list-style-type:disc">表示使用的数据集的ID是1。</li></ul></li></ol><h3 id="c0fc370c-3f68-4add-bf73-fa8d904feaf9" class="">第三个候选查询</h3><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="470e85b9-f013-45f0-9047-c4ff7d9aa630" class="code"><code class="language-JSON" style="white-space:pre-wrap;word-break:break-all">{
  &quot;parseInfo&quot;: {
    &quot;queryMode&quot;: &quot;METRIC_MODEL&quot;,
    &quot;dataSet&quot;: { ... },
    &quot;metrics&quot;: [ ... ],
    &quot;dimensions&quot;: [ ... ],
    &quot;aggType&quot;: &quot;NONE&quot;,
    &quot;filterType&quot;: &quot;AND&quot;,
    &quot;dimensionFilters&quot;: [],
    &quot;metricFilters&quot;: [],
    &quot;orders&quot;: [],
    &quot;dateInfo&quot;: { ... },
    &quot;limit&quot;: 365,
    &quot;score&quot;: 4.0,
    &quot;elementMatches&quot;: [ ... ],
    &quot;properties&quot;: {},
    &quot;sqlInfo&quot;: { ... },
    &quot;sqlEvaluation&quot;: {},
    &quot;queryType&quot;: &quot;METRIC&quot;,
    &quot;dataSetId&quot;: 1
  },
  &quot;queryMode&quot;: &quot;METRIC_MODEL&quot;
}</code></pre><ol type="1" id="4fd51d91-5215-4a90-ad44-498ea4254caa" class="numbered-list" start="1"><li><code><strong>queryMode</strong></code><strong>:</strong> <code>&quot;METRIC_MODEL&quot;</code><ul id="062b95b7-cf9e-430d-bdbf-35b19bb8b3c0" class="bulleted-list"><li style="list-style-type:disc">表示这个候选查询是度量模型查询。</li></ul></li></ol><ol type="1" id="7f6cfcc8-7841-46ef-bd5e-c07861a401f0" class="numbered-list" start="2"><li><code><strong>metrics</strong></code><strong>:</strong><ul id="3482cf26-03b9-4b23-b347-1509db3b7dcb" class="bulleted-list"><li style="list-style-type:disc">包含这个查询涉及的度量指标的信息。</li></ul></li></ol><ol type="1" id="987361fe-533f-4aec-bbce-e8cc64c48eac" class="numbered-list" start="3"><li><code><strong>dimensions</strong></code><strong>:</strong><ul id="cd0c119a-0e56-43e5-8b3f-921ae1a1d0c2" class="bulleted-list"><li style="list-style-type:disc">包含这个查询涉及的维度信息。</li></ul></li></ol><ol type="1" id="b728e9af-7f28-4ea6-9885-92f996497c67" class="numbered-list" start="4"><li><code><strong>dateInfo</strong></code><strong>:</strong><ul id="69020a91-fbaf-4f46-aa4f-d567b5d4b8a0" class="bulleted-list"><li style="list-style-type:disc">包含与查询相关的时间信息，如时间范围、分组方式等。</li></ul></li></ol><ol type="1" id="d9130edf-a581-48c2-ba3a-799314983156" class="numbered-list" start="5"><li><code><strong>limit</strong></code><strong>:</strong> <code>365</code><ul id="f96796bf-476e-4b4b-9225-bd7190130051" class="bulleted-list"><li style="list-style-type:disc">表示这个查询的结果数量限制为365条记录。</li></ul></li></ol><ol type="1" id="3eca259f-dd29-4992-b4ab-d7f75a6ff1ea" class="numbered-list" start="6"><li><code><strong>score</strong></code><strong>:</strong> <code>4.0</code><ul id="84f4f37f-e406-4d81-b989-6049e28777f7" class="bulleted-list"><li style="list-style-type:disc">这个候选查询的评分，分数较低表示与原始查询的匹配度相对较低。</li></ul></li></ol><ol type="1" id="74d0f31a-4649-489e-88e1-926a741139a7" class="numbered-list" start="7"><li><code><strong>elementMatches</strong></code><strong>:</strong><ul id="cbe3b7e1-0737-44b3-af7c-4c2fec9e1fa2" class="bulleted-list"><li style="list-style-type:disc">包含识别出的元素与数据集之间的匹配信息。</li></ul></li></ol><ol type="1" id="3817d6d4-b188-4bed-ace5-01b6f495d7b2" class="numbered-list" start="8"><li><code><strong>sqlInfo</strong></code><strong>:</strong><ul id="f0e40441-951c-43c0-88b9-f89e3f8b2a5a" class="bulleted-list"><li style="list-style-type:disc">包含生成的SQL语句及其相关信息。</li></ul></li></ol><ol type="1" id="9b452b50-8853-44ee-aafc-d7fcaa7c7e58" class="numbered-list" start="9"><li><code><strong>queryType</strong></code><strong>:</strong> <code>&quot;METRIC&quot;</code><ul id="5354f18b-491c-4751-8b31-14853f70ed5f" class="bulleted-list"><li style="list-style-type:disc">表示这个查询类型是度量查询。</li></ul></li></ol><ol type="1" id="09f5b8b5-9782-4a07-b015-6df95fdc5302" class="numbered-list" start="10"><li><code><strong>dataSetId</strong></code><strong>:</strong> <code>1</code><ul id="a0bc5da2-048e-42b8-8eee-5b2cfdabf399" class="bulleted-list"><li style="list-style-type:disc">表示使用的数据集的ID是1。</li></ul></li></ol><h3 id="d300c0ef-2145-467d-9865-16212120e329" class="">数据集映射信息 (<code>mapInfo</code>)</h3><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="51044737-fbfd-4422-a9d8-dc0c76ebebe3" class="code"><code class="language-JSON" style="white-space:pre-wrap;word-break:break-all">&quot;mapInfo&quot;: {
  &quot;dataSetElementMatches&quot;: {
    &quot;1&quot;: [
      { ... },
      { ... },
      { ... },
      { ... }
    ]
  },
  &quot;matchedDataSetInfos&quot;: [1]
}</code></pre><ol type="1" id="4946b485-cf3d-41bf-81c1-fafc1ca465ad" class="numbered-list" start="1"><li><code><strong>dataSetElementMatches</strong></code><strong>:</strong><ul id="240256cf-9d78-4122-84c5-14421bdb440c" class="bulleted-list"><li style="list-style-type:disc">这是一个映射，键是数据集ID，值是该数据集中匹配的元素列表。这里表示数据集ID为1的匹配了多个元素。</li></ul></li></ol><ol type="1" id="e8f34f22-1bfe-47c3-886f-452fabb17a2b" class="numbered-list" start="2"><li><code><strong>matchedDataSetInfos</strong></code><strong>:</strong> <code>[1]</code><ul id="778d158a-a8cb-48b2-8139-da47c3fc0e8d" class="bulleted-list"><li style="list-style-type:disc">这是一个数组，列出了匹配的数据集ID。在这个例子中，只有数据集ID为1的被匹配。</li></ul></li></ol><h3 id="882f50e8-fc6d-44ff-9bea-1ac579b1be4e" class="">大语言模型配置 (<code>llmConfig</code>)</h3><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="6900588d-a47d-4831-8470-473ac89f1335" class="code"><code class="language-JSON" style="white-space:pre-wrap;word-break:break-all">&quot;llmConfig&quot;: {
  &quot;provider&quot;: &quot;OPEN_AI&quot;,
  &quot;baseUrl&quot;: &quot;https://api.openai.com/v1&quot;,
  &quot;apiKey&quot;: &quot;&quot;,
  &quot;modelName&quot;: &quot;gpt-3.5-turbo&quot;,
  &quot;temperature&quot;: 0.0,
  &quot;timeOut&quot;: 60
}</code></pre><ol type="1" id="bb5ab999-a8a0-4bfb-a130-9ffa264b681c" class="numbered-list" start="1"><li><code><strong>provider</strong></code><strong>:</strong> <code>&quot;OPEN_AI&quot;</code><ul id="45787f4d-8d46-4532-846d-81b60182e84c" class="bulleted-list"><li style="list-style-type:disc">使用的LLM提供商是OpenAI。</li></ul></li></ol><ol type="1" id="3172eeb1-ac9d-48d8-92e7-bc3bde37c359" class="numbered-list" start="2"><li><code><strong>baseUrl</strong></code><strong>:</strong> <code>&quot;https://api.openai.com/v1&quot;</code><ul id="5ce2e72a-90c1-47d6-9f20-2a81f1a11eed" class="bulleted-list"><li style="list-style-type:disc">LLM API的基础URL。</li></ul></li></ol><ol type="1" id="7abb9c46-eca6-4e28-a6ea-5fe3919222c1" class="numbered-list" start="3"><li><code><strong>apiKey</strong></code><strong>:</strong><ul id="c17d0e3b-476b-41e4-9ef3-9157edd0a366" class="bulleted-list"><li style="list-style-type:disc">用于API调用的密钥。</li></ul></li></ol><ol type="1" id="0fc5168c-a0ec-499b-adac-891b34c5d769" class="numbered-list" start="4"><li><code><strong>modelName</strong></code><strong>:</strong> <code>&quot;gpt-3.5-turbo&quot;</code><ul id="52139115-4958-4b39-b26f-6f354d012509" class="bulleted-list"><li style="list-style-type:disc">使用的模型名称，表示使用了OpenAI的GPT-3.5 Turbo模型。</li></ul></li></ol><ol type="1" id="3e234cf0-2f4d-420e-861b-742497233808" class="numbered-list" start="5"><li><code><strong>temperature</strong></code><strong>:</strong> <code>0.0</code><ul id="72626d1a-2108-41e8-b5a0-6bbe6bbac1e1" class="bulleted-list"><li style="list-style-type:disc">生成文本的“温度”参数，控制输出的随机性。<code>0.0</code> 表示输出结果更加确定性，较少随机性。</li></ul></li></ol><ol type="1" id="73313bbd-ea5a-4e21-8f4a-d747acbe4c70" class="numbered-list" start="6"><li><code><strong>timeOut</strong></code><strong>:</strong> <code>60</code><ul id="503ec5ec-c275-421a-9613-5af7124a1a6a" class="bulleted-list"><li style="list-style-type:disc">API请求的超时时间，单位为秒。</li></ul></li></ol><h3 id="ced9af24-48c4-46b6-93ab-4f69ad7c55ba" class="">关键点总结</h3><ol type="1" id="a271f659-b158-4f5e-bd7c-5e1b90d06c94" class="numbered-list" start="1"><li><strong>查询模式</strong>：JSON定义了三个候选查询模式，分别是 <code>LLM_S2SQL</code>、<code>METRIC_GROUPBY</code> 和 <code>METRIC_MODEL</code>，每种模式处理查询的方式不同。</li></ol><ol type="1" id="cef0286d-c61f-4728-8744-8c446194a5f1" class="numbered-list" start="2"><li><strong>用户信息</strong>：请求由用户 <code>admin</code> 发起，且该用户拥有管理员权限。</li></ol><ol type="1" id="61b8a1e4-ec20-4683-a5ff-6b9f4c6e0e2b" class="numbered-list" start="3"><li><strong>数据集映射</strong>：查询文本与数据集中的度量和维度进行了匹配，并选择了合适的模式生成SQL查询。</li></ol><ol type="1" id="3aa58fa0-5cfd-460f-817b-c8a6c07c5828" class="numbered-list" start="4"><li><strong>LLM配置</strong>：使用了OpenAI的GPT-3.5 Turbo模型，结合规则和LLM来处理自然语言查询并生成SQL。</li></ol><h2 id="0419de67-b398-40d1-977f-73140957d416" class="">总结</h2><h3 id="512496e6-25d4-43b4-bc5f-cda219ebee5d" class="">1. <strong>RuleSqlParser (规则解析器)</strong></h3><ul id="7ed2feb0-e19b-415d-9c0e-5c6f69d03c54" class="bulleted-list"><li style="list-style-type:disc"><strong>基本原理</strong>:<ul id="ac42bf61-ec8f-4d77-837f-b6bff6ab112d" class="bulleted-list"><li style="list-style-type:circle"><code>RuleSqlParser</code> 使用预定义的规则和模式将自然语言查询转换为 SQL 查询。这种方法通常依赖于手工编写的规则库，适用于已知和明确的查询模式。</li></ul></li></ul><ul id="e8cce254-2e24-44ef-b654-526be3e5bcf0" class="bulleted-list"><li style="list-style-type:disc"><strong>使用场景</strong>:<ul id="9e33a78e-e981-463b-8bb4-3cfa7c4bfba8" class="bulleted-list"><li style="list-style-type:circle">适用于结构化且相对简单的查询。</li></ul><ul id="0d38000d-00ad-48b2-8e0f-6c7e462134ed" class="bulleted-list"><li style="list-style-type:circle">更加可靠和可控，因为规则是预先定义的。</li></ul><ul id="36329211-2ac8-4c38-9f62-284e5690687e" class="bulleted-list"><li style="list-style-type:circle">通常不涉及复杂的自然语言理解，而是基于模式匹配。</li></ul></li></ul><ul id="49fcd404-71fc-4a6e-a265-869123d65974" class="bulleted-list"><li style="list-style-type:disc"><strong>优点</strong>:<ul id="b97e5e2b-11b2-4a40-9c7d-e731a916dac8" class="bulleted-list"><li style="list-style-type:circle">快速且高效，特别是在处理预定义查询时。</li></ul><ul id="c2294598-8657-4f8e-983d-8bc39adbb000" class="bulleted-list"><li style="list-style-type:circle">可以避免复杂的自然语言处理问题，适用于较明确的查询。</li></ul></li></ul><ul id="b09426ba-b7c0-45bf-ac6c-1ce391e7c36a" class="bulleted-list"><li style="list-style-type:disc"><strong>缺点</strong>:<ul id="76cf3681-b62e-401d-8220-a7dddd1342bf" class="bulleted-list"><li style="list-style-type:circle">灵活性较低，无法处理超出规则库范围的复杂查询。</li></ul><ul id="eff552e5-3c8c-4bc9-8c69-a8189f0448ee" class="bulleted-list"><li style="list-style-type:circle">依赖于预定义规则，无法应对新型或复杂的自然语言查询。</li></ul></li></ul><h3 id="bb1b0bc0-e0db-4840-a11a-404fe85966b5" class="">2. <strong>LLMSqlParser (大语言模型解析器)</strong></h3><ul id="1d5a69ab-c704-4cc5-8ecf-9ffe95c055f1" class="bulleted-list"><li style="list-style-type:disc"><strong>基本原理</strong>:<ul id="1d91a5d2-4f4b-4f9a-9b87-9f5d87e4c702" class="bulleted-list"><li style="list-style-type:circle"><code>LLMSqlParser</code> 利用大语言模型（LLM），如 GPT-3.5，来解析自然语言查询并生成 SQL 查询。LLM 能够理解更复杂的自然语言结构，并且能够处理灵活多变的查询表达方式。</li></ul></li></ul><ul id="e3d998ef-fc22-4d73-8006-a30bc3f85584" class="bulleted-list"><li style="list-style-type:disc"><strong>使用场景</strong>:<ul id="082a764b-5cfe-428b-ac1d-935a583e11a3" class="bulleted-list"><li style="list-style-type:circle">适用于复杂、非结构化的自然语言查询。</li></ul><ul id="02ff6fca-df0a-49f8-a39a-f086390e7124" class="bulleted-list"><li style="list-style-type:circle">可以处理多样化的语言表达，适应性强。</li></ul></li></ul><ul id="7d4ab3ce-9c8f-4175-aa01-96035051572e" class="bulleted-list"><li style="list-style-type:disc"><strong>优点</strong>:<ul id="8344da07-77c5-4a60-9c5b-909de8ac5725" class="bulleted-list"><li style="list-style-type:circle">更灵活，能够理解并生成复杂的 SQL 查询。</li></ul><ul id="6e21f283-3bfa-48d2-b884-60df0eb56be7" class="bulleted-list"><li style="list-style-type:circle">适应性强，能够处理新颖或未定义的查询模式。</li></ul></li></ul><ul id="1c3ac623-87a8-4441-b6bc-2b5b8199de47" class="bulleted-list"><li style="list-style-type:disc"><strong>缺点</strong>:<ul id="6672042e-e641-4cb2-8602-5532cd843274" class="bulleted-list"><li style="list-style-type:circle">生成的查询可能不如规则解析器那样可控和精准。</li></ul><ul id="007dfc9b-46bd-46a4-ab85-bfaa625a111a" class="bulleted-list"><li style="list-style-type:circle">依赖于大语言模型，可能会有更高的计算成本和时间消耗。</li></ul></li></ul><h3 id="442c4a89-d256-4355-9ca6-8b4940414517" class="">3. <strong>QueryTypeParser (查询类型解析器)</strong></h3><ul id="af9f9865-50cd-4770-a719-f38c133e0762" class="bulleted-list"><li style="list-style-type:disc"><strong>基本原理</strong>:<ul id="29226adf-f632-4782-a879-8c8c30cdc70c" class="bulleted-list"><li style="list-style-type:circle"><code>QueryTypeParser</code> 可能是一个根据查询类型（如度量查询、聚合查询等）进行分类的解析器。它根据查询的类型选择适当的解析策略来生成 SQL 查询。</li></ul></li></ul><ul id="9febcbeb-faad-4777-af55-96fa9bee5c6f" class="bulleted-list"><li style="list-style-type:disc"><strong>使用场景</strong>:<ul id="bdb4e648-ad81-40b8-bb8e-75a38bdfabd5" class="bulleted-list"><li style="list-style-type:circle">根据查询的类型（例如度量查询、聚合查询、模型查询等）来选择最适合的解析方法。</li></ul><ul id="3c89ea4b-a86c-48aa-84d6-1b0683a9e38f" class="bulleted-list"><li style="list-style-type:circle">通常会结合其他解析器（如 <code>RuleSqlParser</code> 或 <code>LLMSqlParser</code>）进行最终的 SQL 生成。</li></ul></li></ul><ul id="db375575-89eb-420f-b862-3c34ff1016fd" class="bulleted-list"><li style="list-style-type:disc"><strong>优点</strong>:<ul id="80b14e2f-b871-4659-bf00-c40f7a6f386e" class="bulleted-list"><li style="list-style-type:circle">能够自动选择最适合当前查询类型的解析器，从而提高解析效率和准确性。</li></ul><ul id="f4c89e06-8acc-4a02-9bee-10d457702fd6" class="bulleted-list"><li style="list-style-type:circle">灵活性较强，适用于多种查询类型。</li></ul></li></ul><ul id="ef942f8a-24cd-4f76-96eb-e8c7b77104e0" class="bulleted-list"><li style="list-style-type:disc"><strong>缺点</strong>:<ul id="07f60d75-dec3-45ba-aaec-35ab1fdfc233" class="bulleted-list"><li style="list-style-type:circle">可能需要根据查询类型进行更多的前置判断和处理。</li></ul></li></ul><h3 id="ec2ea7fb-b246-4aeb-88e5-8c5cc99ec6e5" class="">关键区别总结</h3><ul id="9a05a17c-4420-4ba2-9a7a-8e9b1bb62509" class="bulleted-list"><li style="list-style-type:disc"><strong>解析方法</strong>: <code>RuleSqlParser</code> 使用规则和模板，<code>LLMSqlParser</code> 依赖于大语言模型，<code>QueryTypeParser</code> 根据查询类型选择合适的解析方法。</li></ul></div></article><span class="sans" style="font-size:14px;padding-top:2em"></span></body></html>