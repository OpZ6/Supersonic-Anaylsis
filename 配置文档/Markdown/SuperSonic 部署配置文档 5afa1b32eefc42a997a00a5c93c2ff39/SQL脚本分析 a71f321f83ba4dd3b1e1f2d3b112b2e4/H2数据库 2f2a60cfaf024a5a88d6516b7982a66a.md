# H2数据库

# Schema主要表：

1. **s2_user**:
    - 存储用户信息。
2. **s2_chat_context**:
    - 存储聊天上下文信息。
3. **s2_chat**:
    - 存储聊天信息。
4. **s2_chat_query**:
    - 存储聊天查询信息。
5. **s2_chat_parse**:
    - 存储聊天解析信息。
6. **s2_chat_statistics**:
    - 存储聊天统计信息。
7. **s2_chat_config**:
    - 存储聊天配置。
8. **s2_chat_memory**:
    - 存储聊天记忆信息。
9. **s2_user_department**:
    - 存储用户部门信息。
10. **s2_pv_uv_statis**:
    - 存储PV、UV统计信息。
11. **s2_stay_time_statis**:
    - 存储用户停留时间统计信息。
12. **singer**:
    - 存储歌手信息。
13. **genre**:
    - 存储音乐流派信息。
14. **artist**:
    - 存储艺术家信息。
15. **files**:
    - 存储文件信息。
16. **song**:
    - 存储歌曲信息。
17. **company**:
    - 存储公司信息。
18. **brand**:
    - 存储品牌信息。
19. **company_revenue**:
    - 存储公司收入信息。
20. **company_brand_revenue**:
    - 存储公司品牌收入信息。

# 详细表结构示例

### s2_user

- id: INT
    - name: VARCHAR(100)
    - display_name: VARCHAR(100)
    - password: VARCHAR(256)
    - salt: VARCHAR(256)
    - email: VARCHAR(100)
    - is_admin: INT
    
    ### s2_chat
    
    - chat_id: BIGINT
    - agent_id: INT
    - chat_name: VARCHAR(100)
    - create_time: TIMESTAMP
    - last_time: TIMESTAMP
    - creator: VARCHAR(30)
    - last_question: VARCHAR(200)
    - is_delete: INT
    - is_top: INT
    
    ### s2_chat_query
    
    - question_id: BIGINT
    - agent_id: INT
    - create_time: TIMESTAMP
    - query_text: MEDIUMTEXT
    - user_name: VARCHAR(150)
    - query_state: INT
    - chat_id: BIGINT
    - query_result: MEDIUMTEXT
    - score: INT
    - feedback: VARCHAR(1024)
    - similar_queries: VARCHAR(1024)
    - parse_time_cost: VARCHAR(1024)
    
    ### s2_chat_parse
    
    - question_id: BIGINT
    - chat_id: BIGINT
    - parse_id: INT
    - create_time: TIMESTAMP
    - query_text: VARCHAR(500)
    - user_name: VARCHAR(150)
    - parse_info: MEDIUMTEXT
    - is_candidate: INT
    
    ### s2_chat_statistics
    
    - question_id: BIGINT
    - chat_id: BIGINT
    - user_name: VARCHAR(150)
    - query_text: VARCHAR(200)
    - interface_name: VARCHAR(100)
    - cost: INT
    - type: INT
    - create_time: TIMESTAMP
    
    ### s2_chat_config
    
    - id: INT
    - model_id: INT
    - chat_detail_config: VARCHAR(655)
    - chat_agg_config: VARCHAR(655)
    - recommended_questions: VARCHAR(1500)
    - created_at: TIMESTAMP
    - updated_at: TIMESTAMP
    - created_by: VARCHAR(100)
    - updated_by: VARCHAR(100)
    - status: INT
    - llm_examples: TEXT
    
    ### s2_chat_memory
    
    - id: INT
    - question: VARCHAR(655)
    - agent_id: INT
    - db_schema: TEXT
    - s2_sql: TEXT
    - status: CHAR(10)
    - llm_review: CHAR(10)
    - llm_comment: TEXT
    - human_review: CHAR(10)
    - human_comment: TEXT
    - created_at: TIMESTAMP
    - updated_at: TIMESTAMP
    - created_by: VARCHAR(100)
    - updated_by: VARCHAR(100)
    
    ### s2_available_date_info
    
    - id: INT
    - item_id: INT
    - type: VARCHAR(255)
    - date_format: VARCHAR(64)
    - start_date: DATE
    - end_date: DATE
    - unavailable_date: JSON
    - created_at: DATE
    - created_by: VARCHAR(100)
    - updated_at: DATE
    - updated_by: VARCHAR(100)
    
    ### s2_canvas
    
    - id: INT
    - domain_id: INT
    - type: VARCHAR(20)
    - config: JSON
    - created_at: DATE
    - created_by: VARCHAR(100)
    - updated_at: DATE
    - updated_by: VARCHAR(100)
    
    ### singer
    
    - imp_date: DATE
    - singer_name: VARCHAR(200)
    - act_area: VARCHAR(200)
    - song_name: VARCHAR(200)
    - genre: VARCHAR(200)
    - js_play_cnt: INT
    - down_cnt: INT
    - favor_cnt: INT
    
    ### s2_user_department
    
    - user_name: VARCHAR(200)
    - department: VARCHAR(200)
    
    ### s2_pv_uv_statis
    
    - imp_date: DATE
    - user_name: VARCHAR(200)
    - page: VARCHAR(200)
    
    ### s2_stay_time_statis
    
    - imp_date: DATE
    - user_name: VARCHAR(200)
    - stay_hours: FLOAT
    - page: VARCHAR(200)
    
    ### genre
    
    - g_name: VARCHAR(20)
    - rating: INT
    - most_popular_in: VARCHAR(50)
    
    ### artist
    
    - artist_name: VARCHAR(50)
    - citizenship: VARCHAR(20)
    - gender: VARCHAR(20)
    - g_name: VARCHAR(50)
    
    ### files
    
    - f_id: INT
    - artist_name: VARCHAR(50)
    - file_size: VARCHAR(20)
    - duration: VARCHAR(20)
    - formats: VARCHAR(20)
    
    ### song
    
    - imp_date: DATE
    - song_name: VARCHAR(50)
    - artist_name: VARCHAR(50)
    - country: VARCHAR(20)
    - f_id: INT
    - g_name: VARCHAR(20)
    - rating: INT
    - languages: VARCHAR(20)
    - releasedate: DATE
    - resolution: INT
    
    ### company
    
    - imp_date: DATE
    - company_id: VARCHAR(50)
    - company_name: VARCHAR(50)
    - headquarter_address: VARCHAR(50)
    - company_established_time: DATE
    - founder: VARCHAR(20)
    - ceo: VARCHAR(20)
    - annual_turnover: INT
    - employee_count: INT
    
    ### brand
    
    - imp_date: DATE
    - brand_id: VARCHAR(50)
    - brand_name: VARCHAR(50)
    - brand_established_time: DATE
    - company_id: VARCHAR(50)
    - legal_representative: VARCHAR(20)
    - registered_capital: INT
    
    ### company_revenue
    
    - imp_date: DATE
    - company_id: VARCHAR(50)
    - brand_id: VARCHAR(50)
    - revenue_proportion: FLOAT
    - profit_proportion: FLOAT
    - expenditure_proportion: FLOAT
    
    ### company_brand_revenue
    
    - imp_date: DATE
    - year_time: DATE
    - brand_id: VARCHAR(50)
    - revenue: INT
    - profit: INT
    - revenue_growth_year_on_year: FLOAT
    - profit_growth_year_on_year: FLOAT

# 数据内容示例：

### s2_user 表结构示例

| id | name | display_name | email | is_admin |
| --- | --- | --- | --- | --- |
| 1 | admin | admin | admin@xx.com | 1 |
| 2 | jack | jack | jack@xx.com | 0 |
| 3 | tom | tom | tom@xx.com | 0 |
| 4 | lucy | lucy | lucy@xx.com | 0 |
| 5 | alice | alice | alice@xx.com | 0 |

### s2_available_date_info 表结构示例

| id | item_id | type | date_format | start_date | end_date | unavailable_date | created_at | created_by | updated_at | updated_by |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |
| 1 | 1 | dimension | yyyy-MM-dd | 2023-05-09 | 2023-06-06 | [] | 2023-06-01 | admin | 2023-06-01 | admin |
| 2 | 2 | dimension | yyyy-MM-dd | 2023-05-09 | 2023-06-06 | [] | 2023-06-01 | admin | 2023-06-01 | admin |
| 3 | 3 | dimension | yyyy-MM-dd | 2023-05-09 | 2023-06-06 | [] | 2023-06-01 | admin | 2023-06-01 | admin |

### s2_canvas 表结构示例

| id | domain_id | type | config | created_at | created_by | updated_at | updated_by |
| --- | --- | --- | --- | --- | --- | --- | --- |
| 1 | 1 | modelEdgeRelation | [{"source":"datasource-1","target":"datasource-3"}] | 2023-06-01 | admin | 2023-06-01 | admin |

### singer 表结构示例

| imp_date | singer_name | act_area | song_name | genre | js_play_cnt | down_cnt | favor_cnt |
| --- | --- | --- | --- | --- | --- | --- | --- |
| 2023-06-01 | 周杰伦 | 港台 | 青花瓷 | 国风 | 1000000 | 1000000 | 1000000 |
| 2023-05-31 | 周杰伦 | 港台 | 青花瓷 | 国风 | 1000000 | 1000000 | 1000000 |
| 2023-05-30 | 周杰伦 | 港台 | 青花瓷 | 国风 | 1000000 | 1000000 | 1000000 |
| 2023-05-29 | 周杰伦 | 港台 | 青花瓷 | 国风 | 1000000 | 1000000 | 1000000 |
| 2023-05-28 | 周杰伦 | 港台 | 青花瓷 | 国风 | 1000000 | 1000000 | 1000000 |

### s2_user_department 表结构示例

| user_name | department |
| --- | --- |
| jack | HR |
| tom | sales |
| lucy | marketing |
| john | strategy |
| alice | sales |

### s2_pv_uv_statis 表结构示例

| imp_date | user_name | page |
| --- | --- | --- |
| 2023-06-01 | lucy | p1 |
| 2023-06-01 | jack | p1 |
| 2023-06-01 | lucy | p4 |
| 2023-06-01 | tom | p2 |
| 2023-06-01 | john | p3 |

### s2_stay_time_statis 表结构示例

| imp_date | user_name | stay_hours | page |
| --- | --- | --- | --- |
| 2023-06-01 | jack | 0.76 | p4 |
| 2023-06-01 | dean | 0.18 | p2 |
| 2023-06-01 | alice | 0.39 | p3 |
| 2023-06-01 | lucy | 0.27 | p3 |
| 2023-06-01 | tom | 0.94 | p4 |

### genre 表结构示例

| g_name | rating | most_popular_in |
| --- | --- | --- |
| tagore | 8 | 孟加拉国 |
| nazrul | 7 | 孟加拉国 |
| 民间 | 9 | 锡尔赫特、吉大港、库斯蒂亚 |
| 现代 | 8 | 孟加拉国 |
| 蓝调 | 7 | 加拿大 |
| 流行 | 9 | 美国 |

### artist 表结构示例

| artist_name | citizenship | gender | g_name |
| --- | --- | --- | --- |
| Shrikanta | 印度 | 男性 | tagore |
| Prity | 孟加拉国 | 女性 | nazrul |
| Farida | 孟加拉国 | 女性 | 民间 |
| Topu | 印度 | 女性 | 现代 |
| Enrique | 美国 | 男性 | 蓝调 |
| Michel | 英国 | 男性 | 流行 |

### files 表结构示例

| f_id | artist_name | file_size | duration | formats |
| --- | --- | --- | --- | --- |
| 1 | Shrikanta | 3.78 MB | 3:45 | mp4 |
| 2 | Prity | 4.12 MB | 2:56 | mp3 |
| 3 | Farida | 3.69 MB | 4:12 | mp4 |
| 4 | Enrique | 4.58 MB | 5:23 | mp4 |
| 5 | Michel | 5.10 MB | 4:34 | mp3 |
| 6 | Topu | 4.10 MB | 4:30 | mp4 |

### song 表结构示例

| imp_date | song_name | artist_name | country | f_id | g_name | rating | languages | releasedate | resolution |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |
| 2023-06-01 | Tumi 长袍 尼罗布 | Shrikanta | 印度 | 1 | tagore | 8 | 孟加拉语 | 2011-08-28 | 1080 |
| 2023-06-01 | 舒克诺 帕塔尔 努普尔 帕埃 | Prity | 孟加拉国 | 2 | nazrul | 5 | 孟加拉语 | 1997-09-21 | 512 |
| 2023-06-01 | 阿米·奥帕尔·霍伊 | Farida | 孟加拉国 | 3 | 民间 | 7 | 孟加拉语 | 2001-04-07 | 320 |
| 2023-06-01 | 我的爱 | Enrique | 美国 | 4 | 蓝调 | 6 | 英文 | 2007-01-24 | 1080 |
| 2023-06-01 | 打败它 | Michel | 英国 | 5 | 流行 | 8 | 英文 | 2002-03-17 | 720 |
| 2023-06-01 | 阿杰伊阿卡什 | Topu | 印度 | 6 | 现代 | 10 | 孟加拉语 | 2004-03-27 | 320 |

### company 表结构示例

| imp_date | company_id | company_name | headquarter_address | company_established_time | founder | ceo | annual_turnover | employee_count |
| --- | --- | --- | --- | --- | --- | --- | --- | --- |
| 2023-06-01 | item_enterprise_13_131 | 百度集团 | 北京 | 2000 | 李彦宏 | 李彦宏 | 102300000000 | 40000 |
| 2023-06-01 | item_enterprise_13_132 | 阿里巴巴集团 | 杭州 | 1999 | 马云 | 张勇 | 376800000000 | 103699 |
| 2023-06-01 | item_enterprise_13_133 | 深圳市腾讯计算机系统有限公司 | 深圳 | 1998 | 马化腾 | 刘炽平 | 321600000000 | 56310 |
| 2023-06-01 | item_enterprise_13_134 | 北京京东世纪贸易有限公司 | 北京 | 1998 | 刘强东 | 刘强东 | 28800000000 | 179000 |
| 2023-06-01 | item_enterprise_13_135 | 网易公司 | 杭州 | 1997 | 丁磊 | 丁磊 | 67500000000 | 20000 |

### brand 表结构示例

| imp_date | brand_id | brand_name | brand_established_time | company_id | legal_representative | registered_capital |
| --- | --- | --- | --- | --- | --- | --- |
| 2023-06-01 | item_enterprise_13_136 | 阿里云 | 2009-09-10 | item_enterprise_13_132 | 张勇 | 50000000 |
| 2023-06-01 | item_enterprise_13_137 | 天猫 | 2012-01-11 | item_enterprise_13_132 | 张勇 | 100000000 |
| 2023-06-01 | item_enterprise_13_138 | 腾讯游戏 | 2003 | item_enterprise_13_133 | 马化腾 | 50000000 |
| 2023-06-01 | item_enterprise_13_139 | 度小满 | 2018 | item_enterprise_13_131 | 朱光 | 100000000 |
| 2023-06-01 | item_enterprise_13_140 | 京东金融 | 2017 | item_enterprise_13_134 | 刘强东 | 100000000 |

### company_revenue 表结构示例

| imp_date | company_id | brand_id | revenue_proportion | profit_proportion | expenditure_proportion |
| --- | --- | --- | --- | --- | --- |
| 2023-06-01 | item_enterprise_13_131 | item_enterprise_13_139 | 10 | 10 | 30 |
| 2023-06-01 | item_enterprise_13_133 | item_enterprise_13_138 | 80 | 80 | 60 |
| 2023-06-01 | item_enterprise_13_134 | item_enterprise_13_140 | 80 | 80 | 60 |
| 2023-06-01 | item_enterprise_13_132 | item_enterprise_13_137 | 80 | 80 | 60 |
| 2023-06-01 | item_enterprise_13_132 | item_enterprise_13_136 | 10 | 10 | 30 |

### company_brand_revenue 表结构示例

| imp_date | year_time | brand_id | revenue | profit | revenue_growth_year_on_year | profit_growth_year_on_year |
| --- | --- | --- | --- | --- | --- | --- |
| 2023-06-01 | 2018 | item_enterprise_13_138 | 500000000 | -300000000 | 10 | -10 |
| 2023-06-01 | 2019 | item_enterprise_13_136 | 100000000000 | 50000000000 | 100 | 50 |
| 2023-06-01 | 2018 | item_enterprise_13_137 | 100000000000 | 50000000000 | 100 | -10 |
| 2023-06-01 | 2018 | item_enterprise_13_139 | 500000000 | 50000000000 | 10 | 50 |
| 2023-06-01 | 2018 | item_enterprise_13_140 | 100000000000 | -300000000 | 10 | 50 |